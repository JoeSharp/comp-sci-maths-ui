{"version":3,"sources":["components/CodeClub/TopDownCar/images/step1.png","components/CodeClub/TopDownCar/images/step2.png","components/CodeClub/TopDownCar/images/step3.png","components/CodeClub/TopDownCar/images/step3_result.png","components/CodeClub/TopDownCar/images/step4.png","components/CodeClub/TopDownCar/images/step5.png","components/CodeClub/TopDownCar/images/step5_result.png","components/CodeClub/TopDownCar/images/chal1.png","components/CodeClub/MovingWithKeyboard/images/top_down_control.png","components/CodeClub/MovingWithKeyboard/images/step1.png","components/CodeClub/MovingWithKeyboard/images/step2.png","components/CodeClub/MovingWithKeyboard/images/step3_a.png","components/CodeClub/MovingWithKeyboard/images/step3_b.png","components/CodeClub/MovingWithKeyboard/images/step4_a.png","components/CodeClub/MovingWithKeyboard/images/step4_b.png","components/CodeClub/MovingWithKeyboard/images/step4_c.png","components/CodeClub/MovingWithKeyboard/images/challenge_1.png","components/CodeClub/UsingClasses/images/step1.png","components/CodeClub/UsingClasses/images/step2.png","components/CodeClub/UsingClasses/images/step3.png","components/CodeClub/UsingClasses/images/step4.png","components/CodeClub/UsingClasses/images/step5.png","components/CodeClub/UsingClasses/images/step6.png","components/CodeClub/UsingClasses/images/step7.png","components/CodeClub/SafeCracker/images/step0.png","components/CodeClub/SafeCracker/images/step1.png","components/CodeClub/SafeCracker/images/step2.png","components/CodeClub/SafeCracker/images/step3.png","components/Experiments/Asteroids/images/ships/1.png","components/Experiments/Asteroids/images/ships/2.png","components/Experiments/Asteroids/images/ships/3.png","components/Experiments/Asteroids/images/ships/4.png","components/Experiments/Asteroids/images/ships/5.png","components/Experiments/Asteroids/images/ships/6.png","components/Experiments/Asteroids/images/ships/7.png","components/Experiments/Asteroids/images/ships/8.png","components/Experiments/Asteroids/images/ships/9.png","components/Experiments/Asteroids/images/ships/10.png","components/Experiments/Asteroids/images/ships/11.png","components/Experiments/Asteroids/images/ships/12.png","components/Experiments/Asteroids/images/ships/13.png","components/Experiments/Asteroids/images/ships/14.png","components/Experiments/Asteroids/images/ships/15.png","components/Experiments/Asteroids/images/ships/16.png","components/Experiments/Asteroids/images/ships/17.png","components/Experiments/Asteroids/images/ships/18.png","components/Experiments/Asteroids/images/asteroids/1.png","components/Experiments/Asteroids/images/asteroids/2.png","components/Experiments/Asteroids/images/asteroids/3.png","components/Experiments/Asteroids/images/monsters/1.png","components/Experiments/Asteroids/images/monsters/2.png","components/Experiments/Asteroids/images/monsters/3.png","components/Experiments/Asteroids/images/monsters/4.png","components/Experiments/Asteroids/images/monsters/5.png","components/Experiments/Asteroids/images/monsters/6.png","components/Experiments/Asteroids/images/monsters/7.png","components/Experiments/Asteroids/images/monsters/8.png","components/Experiments/Asteroids/images/monsters/9.png","components/Experiments/Asteroids/images/monsters/10.png","components/Experiments/Asteroids/images/monsters/11.png","components/Experiments/Asteroids/images/monsters/12.png","registerServiceWorker.ts","components/CodeClub/TickableSection/TickableSection.tsx","components/CodeClub/TopDownCar/TopDownCar.tsx","components/CodeClub/MovingWithKeyboard/MovingWithKeyboard.tsx","components/CodeClub/UsingClasses/UsingClasses.tsx","components/Bootstrap/Card/Card.tsx","components/lib/useGroupUp.ts","components/Bootstrap/CardCollection/CardCollection.tsx","components/CodeClub/index.tsx","components/CodeClub/SafeCracker/SafeCracker.tsx","components/p5/useSketch/useSketch.ts","components/Experiments/Asteroids/images/ships/index.ts","components/Experiments/Asteroids/images/asteroids/index.ts","components/Experiments/Asteroids/images/monsters/index.ts","components/Experiments/Asteroids/images/ImageSwitcher.ts","components/Experiments/Asteroids/Ship.ts","components/Experiments/Asteroids/Asteroid.ts","components/Experiments/Asteroids/Monster.ts","components/Experiments/Asteroids/Bullet.ts","components/Experiments/Asteroids/Sketch.ts","components/Experiments/Asteroids/Asteroids.tsx","components/Experiments/Dobble/ItemTable.tsx","components/Experiments/Dobble/NewItemForm.tsx","components/Experiments/Dobble/useCards.ts","components/Experiments/Dobble/Cards.tsx","components/Experiments/Dobble/useList.ts","components/Experiments/Dobble/Dobble.tsx","components/Experiments/LogicPadlock/GuessEntry.tsx","components/Experiments/LogicPadlock/types.ts","components/Experiments/LogicPadlock/ValueDisplay.tsx","components/Experiments/LogicPadlock/Clue.tsx","components/Experiments/LogicPadlock/LogicPadlock.tsx","components/Experiments/LogicPadlock/index.ts","components/Experiments/MidiFun/useMidi.ts","components/Experiments/MidiFun/Tetronimo.ts","components/Experiments/MidiFun/Triforce.ts","components/Experiments/MidiFun/midiSketch.ts","components/Experiments/MidiFun/MidiFun.tsx","components/p5/SketchPicker/SketchPicker.tsx","components/p5/sketches/gravityOrbits.ts","components/ComputerScience/Algorithms/Routing/GridRouting/useGridGraph.ts","components/p5/Boid/Boid.ts","components/p5/sketches/rainbowFlowField/ArrowBoid.ts","components/p5/sketches/rainbowFlowField/FlowField.ts","components/p5/sketches/rainbowFlowField/drawArrow.ts","components/p5/sketches/rainbowFlowField/rainbowFlowField.ts","components/p5/sketches/gravityDemo/gravityDemo.ts","components/ComputerScience/BinaryTreeBuilder/types.ts","components/p5/sketches/index.ts","components/Experiments/index.tsx","components/p5/P5SketchLibrary/P5SketchLibrary.tsx","components/lib/useLoopCounter/useLoopCounter.ts","components/lib/useLoopCounter/useItemInArray.ts","components/SearchBox/SearchBox.tsx","components/ComputerScience/Algorithms/BinaryTreeTraversal/common.ts","components/ComputerScience/Algorithms/BinaryTreeTraversal/BinaryTreeTraversalAlgorithmPicker.tsx","components/ComputerScience/Algorithms/BinaryTreeTraversal/useBinaryTreeTraversal.ts","components/ComputerScience/BinaryTreeBuilder/useBinaryTreeBuilder.ts","components/p5/Boid/DataItemBoid.ts","components/ComputerScience/BinaryTreeBuilder/BinaryTreeSketch.ts","components/Bootstrap/Buttons/Button.tsx","components/Bootstrap/Buttons/ButtonBar.tsx","components/ComputerScience/BinaryTreeBuilder/BinaryTreeBuilder.tsx","components/ComputerScience/Algorithms/BinaryTreeTraversal/BinaryTreeTraversal.tsx","components/ComputerScience/Algorithms/BinaryTreeTraversal/index.ts","components/ComputerScience/Algorithms/GraphTraversal/common.ts","components/ComputerScience/Algorithms/GraphTraversal/GraphTraversalAlgorithmPicker.tsx","components/ComputerScience/Algorithms/GraphTraversal/useGraphTraversal.ts","components/ComputerScience/DataStructures/GraphManager/GraphBuilder/VertexPicker.tsx","components/lib/useLocalStorage/useLocalStorage.ts","components/lib/useLocalStorage/index.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/simpleStringGraph.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/largerStringGraph.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/complexStringGraph.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/motorwayCrossingGraph.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/index.ts","components/ComputerScience/DataStructures/GraphManager/useSavedGraph.ts","components/ComputerScience/DataStructures/GraphManager/GraphSketch.ts","components/ComputerScience/DataStructures/GraphManager/GraphPickerWithSketch.tsx","components/ComputerScience/Algorithms/GraphTraversal/GraphTraversal.tsx","components/ComputerScience/Algorithms/GraphTraversal/index.ts","components/ComputerScience/Algorithms/PageRank/usePageRank.ts","components/Bootstrap/Table/Table.tsx","components/ComputerScience/Algorithms/PageRank/CurrentRanksTable.tsx","components/ComputerScience/Algorithms/PageRank/RankHistoryTable.tsx","components/ComputerScience/Algorithms/PageRank/InOrderList.tsx","components/lib/useInterval/useInterval.ts","components/ComputerScience/Algorithms/Sorting/types.ts","components/lib/useInterval/useToggledInterval.ts","components/Bootstrap/Checkbox/Checkbox.tsx","components/ComputerScience/Algorithms/PageRank/PageRank.tsx","components/ComputerScience/Algorithms/PageRank/index.ts","components/ComputerScience/Algorithms/Routing/GridRouting/GridSketch.ts","components/ComputerScience/Algorithms/Routing/useRoutingAlgorithm.ts","components/lib/SteppingControls/SteppingControls.tsx","components/ComputerScience/Algorithms/Routing/ShortestPathWithNodeTable.tsx","components/ComputerScience/Algorithms/Routing/RouteObserverStage.tsx","components/ComputerScience/Algorithms/Routing/HeuristicCostTable.tsx","components/ComputerScience/Algorithms/Routing/GridRouting/GridRouting.tsx","components/ComputerScience/Algorithms/Routing/GridRouting/index.ts","components/ComputerScience/Algorithms/Routing/GraphRouting/GraphRouting.tsx","components/ComputerScience/Algorithms/Routing/GraphRouting/index.ts","components/ComputerScience/Algorithms/Search/SearchAlgorithmPicker.tsx","components/ComputerScience/Algorithms/Search/types.ts","components/ComputerScience/Algorithms/Search/SearchSketch.ts","components/ComputerScience/Algorithms/Search/useSearchData.ts","components/ComputerScience/Algorithms/Search/Search.tsx","components/ComputerScience/Algorithms/Search/index.ts","components/ComputerScience/Algorithms/Sorting/SortingAlgorithmPicker.tsx","components/ComputerScience/DataStructures/QueueComponent/ArraySketch.ts","components/ComputerScience/Algorithms/Sorting/SortingSketch.ts","components/ComputerScience/Algorithms/Sorting/useSortedData.ts","components/ComputerScience/Algorithms/Sorting/Sorting.tsx","components/ComputerScience/Algorithms/Sorting/index.ts","components/ComputerScience/Algorithms/BigONotation/AlgorithmTypePicker.tsx","components/ComputerScience/Algorithms/BigONotation/BigOSketch.ts","components/ComputerScience/Algorithms/BigONotation/useAlgorithmMeasure.ts","components/ComputerScience/Algorithms/BigONotation/BigONotation.tsx","components/p5/GraphFunctionSketch/GraphFunctionSketch.ts","components/ComputerScience/Algorithms/BigONotation/CompareBigO.tsx","components/ComputerScience/Algorithms/BigONotation/index.ts","components/ComputerScience/DataStructures/BinaryTreeComponent/BinaryTreeComponent.tsx","components/ComputerScience/DataStructures/BinaryTreeComponent/index.ts","components/ComputerScience/DataStructures/GraphManager/GraphBuilder/EdgeCell.tsx","components/ComputerScience/DataStructures/GraphManager/GraphBuilder/VertexRow.tsx","components/ComputerScience/DataStructures/GraphManager/GraphBuilder/GraphBuilder.tsx","components/Bootstrap/ModalDialog/customStyles.ts","components/Bootstrap/ModalDialog/index.ts","components/Bootstrap/ModalDialog/ModalDialog.tsx","components/ComputerScience/DataStructures/GraphManager/NewGraphDialog.tsx","components/ComputerScience/DataStructures/GraphManager/GraphManager.tsx","components/ComputerScience/DataStructures/GraphManager/index.ts","components/lib/useListReducer/useListReducer.ts","components/ComputerScience/DataStructures/StackComponent/StackComponent.tsx","components/ComputerScience/DataStructures/StackComponent/index.ts","components/ComputerScience/DataStructures/QueueComponent/QueueComponent.tsx","components/ComputerScience/DataStructures/QueueComponent/index.ts","components/ComputerScience/DataStructures/QueueComponent/PriorityQueueComponent.tsx","components/ComputerScience/DataRepresentation/Sound/Sketch.ts","components/ComputerScience/DataRepresentation/Sound/Sound.tsx","components/ComputerScience/DataRepresentation/Sound/index.ts","components/ComputerScience/DataRepresentation/Images/useBitmapData.ts","components/ComputerScience/DataRepresentation/Images/ColourPalette.tsx","components/ComputerScience/DataRepresentation/Images/Bitmapping.tsx","components/ComputerScience/DataRepresentation/Images/index.ts","components/ComputerScience/DataRepresentation/AsciiText/AsciiTable.tsx","components/ComputerScience/DataRepresentation/AsciiText/index.ts","components/ComputerScience/DataRepresentation/AsciiText/AsciiText.tsx","components/lib/utilities.ts","components/lib/useStreakCounter/useStreakCounter.ts","components/Bootstrap/ProgressBar/ProgressBar.tsx","components/ComputerScience/DataRepresentation/Numbers/useConversionTable.ts","components/ComputerScience/DataRepresentation/Numbers/NumberBaseConversionTable.tsx","components/ComputerScience/DataRepresentation/Numbers/NumberBases.tsx","components/ComputerScience/index.tsx","components/ComputerScience/DataRepresentation/Numbers/index.tsx","components/Maths/Divisibility/DivisibilityRulePicker.tsx","components/Maths/Divisibility/useDivisibilityRule.ts","components/Maths/Divisibility/Divisibility.tsx","components/Maths/Divisibility/index.ts","components/Maths/PrimeFactors/usePrimeFactorTree.ts","components/Maths/PrimeFactors/PrimeFactors.tsx","components/Maths/PrimeFactors/index.ts","components/Maths/NegativeNumbers/useQuiz.ts","components/Maths/NegativeNumbers/arithmeticOperations.ts","components/Maths/NegativeNumbers/ArithmeticOperationPicker.tsx","components/Maths/NegativeNumbers/NegativeNumbers.tsx","components/Maths/NegativeNumbers/index.ts","components/Maths/Bearings/BearingSketch.ts","components/Bootstrap/ConfirmDialog/index.ts","components/Bootstrap/ConfirmDialog/ConfirmDialog.tsx","components/Maths/Bearings/Bearings.tsx","components/Maths/Bearings/index.ts","components/Maths/Algebra/Fraction.tsx","components/Maths/Algebra/NumberToPower.tsx","components/Maths/Algebra/multiplySameBase.tsx","components/Maths/Algebra/useAlgebra.tsx","components/Maths/Algebra/Algebra.tsx","components/Maths/Algebra/index.ts","components/Maths/SieveOfEratosthenes/useSieveOfEratosthenes.ts","components/Maths/SieveOfEratosthenes/PrimesListing.tsx","components/Maths/SieveOfEratosthenes/SieveOfEratosthenes.tsx","components/Maths/SieveOfEratosthenes/index.ts","components/Maths/SolveEquation/solver.ts","components/Maths/SolveEquation/SolveEquation.tsx","components/Maths/SolveEquation/index.ts","components/Maths/Sudoku/useSudoku.ts","components/Maths/Sudoku/Sudoku.tsx","components/Maths/index.tsx","components/Maths/Sudoku/index.ts","components/CommonPageHeader/CommonPageHeader.tsx","index.tsx"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","TickableSection","tickId","header","children","React","useState","isComplete","setIsComplete","onIsCompleteChange","useCallback","checked","target","chkId","useMemo","className","classNames","push","join","type","onChange","id","htmlFor","TopDownCar","href","rel","style","height","src","step1","alt","step2","step3","step3Result","step4","step5","step5Result","chal1","MovingWithKeyboard","topDownControl","step3a","step3b","step4a","step4b","step4c","challenge1","to","step6","step7","Card","title","description","items","groupSize","itemGroups","i","length","slice","CardCollection","cards","cardGroups","useGroupUp","map","cardGroup","key","card","gameSeries","component","UsingClasses","miscPages","step0","page","pages","configReducer","updates","AbstractSketch","defaultConfig","config","this","useSketch","s","sketchInUse","useRef","refContainer","sketchContainer","useEffect","current","p5","sketch","bind","remove","useReducer","dispatch","updateConfig","setConfig","onNumericConfigChange","value","parseFloat","onBooleanConfigChange","onStringConfigChange","images","name","image","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","i12","i13","i14","i15","i16","i17","i18","ImageSwitcher","namedImages","imageIndex","n","loadImage","randomImage","Math","floor","random","Ship","position","radius","velocity","acceleration","heading","imageSwitcher","createVector","ships","nextImage","other","steer","thrust","keyIsDown","LEFT_ARROW","RIGHT_ARROW","UP_ARROW","thrustForce","rotate","add","limit","mult","x","width","y","noFill","stroke","translate","currentImage","pop","Asteroid","addAsteroid","angularVelocity","isDead","PI","asteroids","a","monsters","COLOURS","Bullet","color","noStroke","fill","circle","Sketch","ship","bullets","spawnAsteroid","setup","createCanvas","Monster","keyPressed","keyCode","ENTER","bulletVelocity","setMag","bullet","copy","draw","background","forEach","filter","obj1","obj2","diff","Vector","sub","sumRadii","mag","isColliding","hitBy","update","b","isStillActive","text","Graphs","ref","ItemTable","clear","itemsWithHandlers","item","onRemove","scope","onClick","NewItemForm","newItem","setNewItem","onNewItemChange","onAdd","aria-describedby","placeholder","useCards","itemsRequired","cardItems","index","newCard","Cards","role","listReducer","action","split","includes","sort","useList","initialItems","Dobble","valueReducer","v","boundValue","GuessEntry","numberDigits","digits","dispatchDigits","digitWithHandlers","digit","e","Number","parseInt","Array","d","commonEvaluate","commonDigits","correctDigits","guess","clue","reduce","acc","curr","numberCommonDigits","numberCorrectDigits","oneDigitInCorrectPlace","evaluate","oneDigitInWrongPlace","twoDigitsInWrongPlace","allDigitsWrong","ValueDisplay","Clue","clueWithValue","guessMatches","cluesWithValues","AllAreCorrect","SomeIncorrect","LogicPadlock","setGuess","allCorrect","useMidi","noteOn","noteOff","Map","inputDevices","setInputDevices","setError","selectedInputDeviceId","onInputDeviceSelected","requestMIDIAccess","midiAccess","inputs","inputDevice","get","onmidimessage","data","undefined","SHAPES","Tetronimo","note","size","colour","accumulating","tailLength","squares","strokeWeight","square","triangle","scale","SketchContainer","blockWidth","pendingNotes","drawables","mode","w","t","p","that","frameRate","colorMode","HSB","round","NOTE_MAX","newDrawable","Triforce","unshift","MidiFun","useMidiSketch","inputOptions","options","entries","label","selectedValue","find","inputOption","onSelectedInputChange","setWidth","clientWidth","SketchPicker","sketchNames","onSelectChange","GravityOrbits","angleMode","DEGREES","WIDTH","HEIGHT","ellipse","frameCount","j","createP5Vector","random2D","set","createKeyedPoint","Boid","entity","borderWeight","borderColour","maxSpeed","maxForce","minForce","environmentalFriction","lockX","lockY","grabbed","initialPosition","mousePosition","lockAxis","force","desired","normalize","applyForce","tether","springLength","tolerance","arriveRadius","m","ArrowBoidBoid","flow","lookup","theta","beginShape","vertex","endShape","FlowField","resolution","cols","rows","field","flowCells","init","xoff","yoff","yField","noise","TWO_PI","flowCell","angle","cos","sin","focalPoint","range","row","drawArrow","column","constrain","randomInt","from","TreeDirection","gravityOrbits","rainbowFlowField","flowField","boids","mouseDragged","attract","mouseX","mouseY","RESOLUTION","boid","follow","display","onScreen","aBoid","gravityDemo","centreScreen","ArrowBoid","seek","experimentPages","Asteroids","Object","keys","sketches","onSketchChange","reducer","amount","count","min","max","useLoopCounter","goToFirst","goToLast","increment","decrement","useItemInArray","stepForward","stepBackward","SearchBox","itemChosen","itemToString","criteria","setCriteria","inputRef","matchedItems","hasFocus","setHasFocus","onCriteriaFocus","onCriteriaBlur","selectedIndex","matchedItemsWithHandlers","toString","itemStr","onCriteriaChange","onCriteriaKeyDown","preventDefault","blur","aria-label","onKeyDown","onFocus","onBlur","onMouseDown","binaryTreeTraversalAlgorithms","BinaryTreeTraversalAlgorithmPicker","useBinaryTreeTraversal","version","algorithmName","binaryTree","visitedItems","visit","traversePreOrder","traverseInOrder","traversePostOrder","defaultBinaryTree","BinaryTree","stringComparator","useBinaryTreeBuilder","initialTree","tickVersion","addValue","clearAll","leftBranch","rightBranch","createSimpleStringDataItem","keyPrefix","content","DataItemBoid","textAlign","CENTER","BinaryTreeSketch","treeDirection","down","headLeft","headRight","boidLevels","maxLevel","l","flee","RADIUS","positions","compare","treeNode","boidReceiver","parentBoid","level","thisBoid","line","midpoint","lerp","textFont","visitBoids","mousePressed","values","isMouseOver","grab","dragged","mouseReleased","releaseGrab","sortHorizontalPositions","leftBoid","rightBoid","arrive","_","Button","styleType","rest","ButtonBar","buttons","button","BinaryTreeBuilder","binaryTreeBuilder","newValue","setNewValue","setTreeDirection","onTreeDirectionChange","onNewValueChange","onAddNewItem","buttonBarProps","BinaryTreeTraversal","componentProps","usePicker","Component","graphTraversalAlgorithms","GraphTraversalAlgorithmPicker","useGraphTraversal","graph","startVertex","breadthFirstSearch","depthFirstSearch","vertices","VertexPicker","useStoreObjectFactory","JSON","stringify","fromString","parse","useLocalStorage","stateName","noLocalStorageInitialState","stringConversion","setStateValue","getFromStorage","rawValue","localStorage","getItem","existingValue","setValue","valueToSet","asString","setItem","reduceValue","resetValue","createDataItem","VERTEX_A","VERTEX_B","VERTEX_C","VERTEX_D","Graph","addBiDirectionalEdge","VERTEX_E","VERTEX_F","VERTEX_G","VERTEX_S","VERTEX_H","VERTEX_I","VERTEX_J","VERTEX_K","VERTEX_L","VERTEX_M1_1","VERTEX_M1_2","VERTEX_M1_3","VERTEX_M1_4","VERTEX_M1_5","graphs","motorwayCrossingGraph","simpleStringGraph","largerStringGraph","complexStringGraph","vertexPositionsByGraphName","defaultSavedGraphState","cannedGraphs","generator","defaultSavedVertexState","GraphSketch","vertexPositions","physicsEnabled","colours","borderWeights","borderColours","storedPosition","screenCentre","edges","boidsInSketch","getOrCreateBoid","boidIdsInSketch","boidEdges","weight","ba","ia","ib","bb","spring","defaultGraphName","savedGraphUse","graphsData","reduceGraphs","setGraphs","vertexPositionsByGraph","reduceVertexPositions","setVertexPositions","names","graphData","createNew","cogoToast","existing","save","reset","useSavedGraph","graphName","setGraphName","setGraph","onValueChange","sketchUse","GraphPickerWithSketch","Fragment","Traversal","useAlgorithmPicker","algorithmPickerProps","useGraphPicker","graphPickerProps","useVertexPicker","vertexPickerProps","rankReducer","iteratePageRank","initialisePageRank","dampingFactor","usePageRank","BLANK_PAGE_RANK_STATE","rankState","iterate","begin","ranks","iterations","rankHistory","expandReducer","Table","headings","expansionCutOff","isExpanded","toggledExpanded","h","ih","colSpan","CurrentRanksRable","tableData","rank2dp","roundTo2Dp","rank","RankHistoryTable","r","InOrderList","pagesInOrder","r1","r2","useInterval","SortStageType","callback","delay","savedCallback","setInterval","clearInterval","useToggledInterval","interval","isAutoIterating","setIsAutoIterating","onAutoIteratingChange","autoIterate","Checkbox","PageRank","setDampingFactor","onReset","onDampingFactorChange","step","CurrentRanksTable","GridSketch","sourceNode","destinationNode","path","toggleConnection","point","mouseClicked","areVerticesEqual","xFrom","yFrom","xTo","yTo","getPositionOfNode","heuristicCosts","setHeuristicsCosts","getHeuristicCost","distance","onResetDistances","onHarvestDistances","destinationPosition","costs","stages","shortestPathTree","dijstraks","sourceNodeKey","destinationNodeKey","observer","currentDistances","currentItem","outgoing","endNode","viaNode","observerArgs","pathFrom","getPathTo","node","cloneDeep","useSteppingControls","itemsInArray","autoStepForward","toggledInterval","SteppingControls","disabled","ShortestPathWithNodeTable","cost","RouteObserverStage","currentStage","shortestPathTreeItems","getVertex","queueItems","toArray","currentItemForTable","outgoingData","totalCost","calcResult","edge","getCurrentWeightCalcTypeStr","HeuristicCostTable","heuristicCostsById","GridRouting","columns","connect","disconnect","removeVertex","addVertex","getIncoming","getOutgoing","col","topLeft","bottomRight","useGridGraph","getBoid","useRoutingAlgorithm","steppingControlProps","GraphRouting","sourcePickerProps","destinationPickerProps","setBorderWeight","setBorderColour","setColour","algorithm","SearchAlgorithmPicker","algorithms","DEFAULT_SEARCH_OBS","stageName","positionVars","SearchingSketch","searchItem","searchStage","matchIndex","NO_MATCH","isFinalStage","knownPositionVars","positionVar","indexOf","dataWidth","getDataX","LEFT","k","getPositionVarIndex","useSearchedData","generateRandomLetters","unique","sorted","lastObservation","searchUtilities","observe","search","Search","useSearchAlgorithmPicker","setSearchItem","onSearchItemChange","SearchSketch","SortingAlgorithmPicker","Orientation","DEFAULT_SORT_STAGE","observation","SortingSketch","sortStage","dataLength","compareValueA","compareValueB","compareIndexA","aIndex","compareIndexB","bIndex","compareResult","result","swap","swapFrom","swapTo","subTitle","comparisonSymbol","useSortedData","inputList","sortedData","sortUtilities","simpleSwap","meta","Sorting","useSortingAlgorithmPicker","ALGORITHM_TYPES","AlgorithmTypePicker","BigOSketch","startSize","endSize","measurements","highest","generateRandomNumbers","arithmeticComparator","numberOfComparisons","algorithmWrapper","resetAction","useAlgorithmMeasure","playing","tick","BigONotation","algorithmTypePickerProps","useAlgorithmTypePicker","searchAlgorithm","searchAlgorithmPickerProps","useSortAlgorithmPicker","sortAlgorithm","sortAlgorithmPickerProps","setStep","setStartSize","setEndSize","togglePlaying","indexToFind","onStepChange","onStartSizeChange","onEndSizeChange","DEFAULT_RANGE","GraphFunctionSketch","plotConfigurations","mapX","mapY","graphFunction","lastX","lastY","bigONotation","pow","CompareBigO","onGraphFromChange","onGraphToChange","backgroundColor","page1","BigOMeasure","page2","BigOCompare","BinaryTreeComponent","EdgesCell","getOtherEnd","removeEdge","GET_EDGE_FROM","GET_EDGE_TO","VertexRow","newEdgeWeight","pendingFrom","prepareEdge","completeEdge","cancelEdge","onPrepareEdge","onCompleteEdge","onCancelEdge","onRemoveVertex","filterOutgoing","filterIncoming","GraphBuilder","setNewEdgeWeight","onNewEdgeWeightChange","newEdgeBidirectional","setNewEdgeBidirectional","onNewEdgeBidirectionalChange","addUnidirectionalEdge","newVertexName","setNewVertexName","onNewVertexChange","onAddVertex","uuidv4","overlay","top","left","right","bottom","transform","border","overflow","WebkitOverflowScrolling","borderRadius","outline","padding","ModalDialog","actions","customStyles","NewGraphDialog","props","createGraph","onCloseDialog","onGraphNameChange","GraphManager","isOpen","setIsOpen","showDialog","useNewGraphDialog","info","showNewGraphDialog","newGraphProps","setPhysicsEnabled","onPhysicsEnabledChange","onSave","createListReducer","matcher","u","useListReducer","receiveItems","addItem","removeItem","clearItems","updateItem","updateItemAtIndex","removeItemAtIndex","ArraySketch","orientation","horizontal","dataItems","lastRetrievedItem","dataItem","vertical","ArraySketchNumber","StackComponent","stack","Stack","setItems","poppedItems","addPoppedItem","clearPoppedItems","updateItems","getItems","onPush","onPop","queue","Queue","onEnqueue","enqueue","onDequeue","dequeue","queuePage","QueueComponent","priorityQueuePage","PriorityQueue","newPriority","setNewPriority","onNewPriorityChange","priority","signalTypes","samplingRate","signalFrequency","plotSignal","plotSamples","plotQuantisation","plotSquareWave","signalType","analogueSignal","quantisationStep","signalValue","splice","signal","samples","qSignal","AnalogueSignals","onSamplingRateChange","onResolutionChange","onSignalFrequencyChange","onPlotSignalChange","onPlotSamplesChange","onPlotQuantisationChange","onPlotSquareWaveChange","onSignalTypeChange","Sound","defaultReducerState","availableColours","0","1","colourDepth","pixels","rawData","getRawData","padStart","sx","cell","sy","ColourPalette","availableColoursWithHandlers","code","isCurrent","AVAILABLE_COLOUR_DEPTHS","setHeight","setColourDepth","paletteProps","numberColours","spectrum","c","useColourPallete","currentColour","onWidthChange","onHeightChange","onColourDepthChange","randomiseColours","useBitmapData","pixelsWithHandlers","rawDataSplit","rawDataInWords","AsciiTable","String","fromCharCode","setText","onTextChange","asAscii","charCodeAt","choose","arr","exclude","chooseFrom","streakReducer","ProgressBar","aria-valuenow","aria-valuemin","aria-valuemax","denary","denaryRaw","withPadding","binary","binaryRaw","hexadecimal","hexadecimalRaw","numberBases","NumberBaseConversionTable","denaryValue","binaryValue","hexadecimalValue","generateQuestion","generateRandomInteger","algorithmPages","binaryTreeTraversalPage","graphTraversalPage","pageRankPage","routingGraphPage","routingGridPage","searchPage","sortingPage","bigONotationMeasurePage","bigONotationComparePage","dataStructurePages","binaryTreePage","graphPage","stackPage","dataRepresentationPages","regenerateQuestion","streak","onHit","onMiss","useStreakCounter","answer","setAnswer","onAnswerChange","onSubmit","expected","toLowerCase","symbols","soundPage","bitmapImagesPage","asciiTextPage","ComputerScience","DivisibilityRulePicker","divisibilityRules","factor","defaultNamedDivisibilityRule","useDivisibilityRule","divisibilityRule","rule","logLines","isDivisible","isDivisibleBy","Divisibility","useDivisibilityRulePicker","rulePickerProps","explanation","getDataItem","PrimeFactorSketch","PrimeFactors","primeFactors","getPrimeFactors","rawPrimeFactorTree","getPrimeFactorTree","primeFactorTree","usePrimeFactorTree","quizReducer","numberQuestions","numberParts","partRange","operation","getParts","symbol","questions","parts","question","q","givenAnswer","useQuiz","reduceQuiz","regenerateQuiz","giveAnswer","getAdditiveParts","operations","ArithmeticOperationPicker","Tick","viewBox","xmlns","fill-rule","Exclamation","NegativeNumbers","quiz1","quiz2","quizzes","regenerateQuizzes","revealAnswers","toggleRevealAnswer","onClickToggleReveal","quiz","quizI","questionI","BearingSketch","bearings","bearing","vector","next","ConfirmDialog","details","onConfirm","initialBearings","Bearings","setBearing","setDistance","onBearingChange","onDistanceChange","onAddBearing","exportString","setExportString","bearingsToString","onClickImport","exportStringRef","onExportStringChange","setQuestion","setDetails","setData","getQuestion","getDetails","useConfirmDialog","confirmDialogProps","onClickExport","select","setSelectionRange","document","execCommand","Fraction","numerator","denominator","NumberToPower","coefficient","base","exponent","bases","goodIndices","goodCoefficients","coeffA","coeffB","isMultiplication","correctCoefficient","correctIndex","possibleAnswers","correct","shuffle","FIRST_QUESTION","useAlgebra","DEFAULT_SELECTED_BY_INDEX","selectedReducer","indices","Algebra","selectedByIndex","dispatchSelectedByIndex","submitted","setSubmit","onAnswer","onNext","useSieveOfEratosthenes","primeNumbers","sieveOfEratosthenes","args","PrimesListing","isPrime","SieveOfEratosthenes","tickedOff","solver","f","number_guesses","guesses","lowest","NaN","isNaN","reverse","SolveEquation","setA","setB","setC","numberGuesses","setNumberGuesses","onAChange","onBChange","onCChange","onNumberGuessesChange","toFixed","equationString","DIMENSION","DIGITS","getOtherCellFunctions","coords","xFloor","yFloor","xi","yi","cells","hints","fix","fixed","allowed","Set","found","otherCells","has","xj","yj","delete","defaultState","initialActions","useSudoku","board","setBoard","autoSolveStep","CellComponent","RowComponent","Sudoku","_setBoard","buttonProps","primeNumberPages","divisibilityPage","primeFactorsPage","sievePage","solveEqPage","algebra","negativeNumbersPage","Maths","rootPages","csPage","mathsPage","codeClubPage","experimentsPage","homePage","codeClubPages","csPages","mathsPages","matchString","s1","s2","toLocaleLowerCase","CommonPageHeader","history","useHistory","pageSelected","pageFilter","pageToString","thisPage","rootPage","aria-current","App","Modal","setAppElement","pathname","exact","ReactDOM","render","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"6OAAAA,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,cCA3CD,EAAOC,QAAU,05R,gBCAjBD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,iBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBC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","file":"static/js/main.5cc16425.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/step1.b8756206.png\";","module.exports = __webpack_public_path__ + \"static/media/step2.66cfcf7f.png\";","module.exports = __webpack_public_path__ + \"static/media/step3.7e0fc2f5.png\";","module.exports = __webpack_public_path__ + \"static/media/step3_result.c239e00a.png\";","module.exports = __webpack_public_path__ + \"static/media/step4.68cfc642.png\";","module.exports = __webpack_public_path__ + \"static/media/step5.41fb7866.png\";","module.exports = __webpack_public_path__ + \"static/media/step5_result.769a074b.png\";","module.exports = __webpack_public_path__ + \"static/media/chal1.5782b399.png\";","module.exports = __webpack_public_path__ + \"static/media/top_down_control.95b517e6.png\";","module.exports = __webpack_public_path__ + \"static/media/step1.187b8fca.png\";","module.exports = __webpack_public_path__ + \"static/media/step2.697d80fb.png\";","module.exports = __webpack_public_path__ + \"static/media/step3_a.b621569c.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/step4_a.9d5b9d71.png\";","module.exports = __webpack_public_path__ + \"static/media/step4_b.db36e891.png\";","module.exports = __webpack_public_path__ + \"static/media/step4_c.2b027f45.png\";","module.exports = __webpack_public_path__ + \"static/media/challenge_1.01bd8f9e.png\";","module.exports = __webpack_public_path__ + \"static/media/step1.802ee3b4.png\";","module.exports = __webpack_public_path__ + \"static/media/step2.bddaaa47.png\";","module.exports = __webpack_public_path__ + \"static/media/step3.3b1823af.png\";","module.exports = __webpack_public_path__ + \"static/media/step4.669dd7db.png\";","module.exports = __webpack_public_path__ + \"static/media/step5.b5c9b436.png\";","module.exports = __webpack_public_path__ + \"static/media/step6.ff9b2336.png\";","module.exports = __webpack_public_path__ + \"static/media/step7.ca806e57.png\";","module.exports = __webpack_public_path__ + \"static/media/step0.9e46e10f.png\";","module.exports = __webpack_public_path__ + \"static/media/step1.ae169e5d.png\";","module.exports = __webpack_public_path__ + \"static/media/step2.167aa08a.png\";","module.exports = __webpack_public_path__ + \"static/media/step3.aa387e7c.png\";","module.exports = __webpack_public_path__ + \"static/media/1.640fe41c.png\";","module.exports = __webpack_public_path__ + \"static/media/2.11f2dd1b.png\";","module.exports = __webpack_public_path__ + \"static/media/3.daf2a7bc.png\";","module.exports = __webpack_public_path__ + \"static/media/4.b67f63e9.png\";","module.exports = __webpack_public_path__ + \"static/media/5.d5882ac3.png\";","module.exports = __webpack_public_path__ + \"static/media/6.9dcb2a3a.png\";","module.exports = __webpack_public_path__ + \"static/media/7.5607a6e5.png\";","module.exports = __webpack_public_path__ + \"static/media/8.013f9f71.png\";","module.exports = __webpack_public_path__ + \"static/media/9.21cdb664.png\";","module.exports = __webpack_public_path__ + \"static/media/10.fae09490.png\";","module.exports = __webpack_public_path__ + \"static/media/11.a637f42a.png\";","module.exports = __webpack_public_path__ + \"static/media/12.2a1854e6.png\";","module.exports = __webpack_public_path__ + \"static/media/13.4e55d310.png\";","module.exports = __webpack_public_path__ + \"static/media/14.f3693ac8.png\";","module.exports = __webpack_public_path__ + \"static/media/15.4be1300e.png\";","module.exports = __webpack_public_path__ + \"static/media/16.ea07a636.png\";","module.exports = __webpack_public_path__ + \"static/media/17.4ef830cf.png\";","module.exports = __webpack_public_path__ + \"static/media/18.cd36af0a.png\";","module.exports = __webpack_public_path__ + \"static/media/1.81659ae6.png\";","module.exports = __webpack_public_path__ + \"static/media/2.27fbe893.png\";","module.exports = __webpack_public_path__ + \"static/media/3.880622f0.png\";","module.exports = __webpack_public_path__ + \"static/media/1.6cd6129e.png\";","module.exports = __webpack_public_path__ + \"static/media/2.efdabf59.png\";","module.exports = __webpack_public_path__ + \"static/media/3.424df5f7.png\";","module.exports = __webpack_public_path__ + \"static/media/4.f0f03ec7.png\";","module.exports = __webpack_public_path__ + \"static/media/5.a19de013.png\";","module.exports = __webpack_public_path__ + \"static/media/6.21058d92.png\";","module.exports = __webpack_public_path__ + \"static/media/7.79a01340.png\";","module.exports = __webpack_public_path__ + \"static/media/8.d059c48d.png\";","module.exports = __webpack_public_path__ + \"static/media/9.8d939c28.png\";","module.exports = __webpack_public_path__ + \"static/media/10.a48afa5b.png\";","module.exports = __webpack_public_path__ + \"static/media/11.e9111af6.png\";","module.exports = __webpack_public_path__ + \"static/media/12.c6bb053f.png\";","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString()\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\n\nimport \"./tickable.css\";\n\ninterface Props {\n  tickId: string;\n  header: string;\n}\n\nconst TickableSection: React.FunctionComponent<Props> = ({\n  tickId,\n  header,\n  children\n}) => {\n  const [isComplete, setIsComplete] = React.useState<boolean>(false);\n\n  const onIsCompleteChange: React.ChangeEventHandler<\n    HTMLInputElement\n  > = React.useCallback(({ target: { checked } }) => setIsComplete(checked), [\n    setIsComplete\n  ]);\n\n  let chkId = React.useMemo(() => `chk${tickId}`, [tickId]);\n  let className = React.useMemo(() => {\n    let classNames: string[] = [\"tickable-section\"];\n    if (isComplete) {\n      classNames.push(\"ticked\");\n    }\n    return classNames.join(\" \");\n  }, [isComplete]);\n\n  return (\n    <div className={className}>\n      <div className=\"form-check\">\n        <input\n          className=\"form-check-input\"\n          type=\"checkbox\"\n          checked={isComplete}\n          onChange={onIsCompleteChange}\n          id={chkId}\n        />\n        <label className=\"form-check-label\" htmlFor={chkId}>\n          <h2>{header}</h2>\n        </label>\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default TickableSection;\n","import React from \"react\";\n\nimport \"../tutorials.css\";\nimport step1 from \"./images/step1.png\";\nimport step2 from \"./images/step2.png\";\nimport step3 from \"./images/step3.png\";\nimport step3Result from \"./images/step3_result.png\";\nimport step4 from \"./images/step4.png\";\nimport step5 from \"./images/step5.png\";\nimport step5Result from \"./images/step5_result.png\";\nimport chal1 from \"./images/chal1.png\";\n\nimport TickableSection from \"../TickableSection\";\n\nconst TopDownCar: React.FunctionComponent = () => {\n  return (\n    <div className=\"tutorial\">\n      <h1>Top Down Car</h1>\n      <p>\n        In this example we will be using vectors to control rotation and\n        position of our game object.\n      </p>\n      <p>\n        I have created a blank project that contains comments where the code\n        needs to go for each step. This may be useful if you are struggling to\n        know where to put things.\n      </p>\n      <p>\n        <a href=\"https://editor.p5js.org/JoeSharp/sketches/qGRRC5jR0\">\n          It can be found here\n        </a>\n      </p>\n      <p>\n        The control scheme will emulate a top down 'driving' experience. The\n        left and right arrow keys will 'steer', and the up arrow key will drive\n        forward (the back key can then be programmed to reverse).\n      </p>\n      <p>\n        The other difference from Step 2, is that we will be evaluating the keys\n        within the animation code i.e. the <code>draw()</code> function.\n      </p>\n      <p>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://editor.p5js.org/JoeSharp/sketches/9gcY5Y4D7\"\n        >\n          Here is a completed example.\n        </a>\n      </p>\n      <TickableSection tickId=\"s4Step1\" header=\"Step 1 - Create Variables\">\n        <p>We need a few variables to store the current driving state:</p>\n        <ul>\n          <li>\n            Position - We will use{\" \"}\n            <a href=\"https://p5js.org/reference/#/p5.Vector\">vectors</a> instead\n            of a pair of variables called x, y\n          </li>\n          <li>Heading - This will be an angle in Radians.</li>\n          <li>\n            Straight Line Speed - This will be a constant to tell the program\n            how far to move each frame.\n          </li>\n          <li>\n            Rotation Speed - This will be another constant that tells the\n            program how much to rotate if the steering keys are being pressed.\n          </li>\n        </ul>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step1}\n            alt=\"Step 1 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4step2\" header=\"Step 2 - Initialise Variables\">\n        <p>\n          The initial values of the variables will make use of some p5.js\n          constants. Therefore we must set the initial values inside the{\" \"}\n          <code>setup()</code> function.\n        </p>\n        <p>\n          Note that the initial position is at the midpoint of the screen, I am\n          using\n          <code>height</code>, <code>width</code> and <code>PI</code> which are\n          provided by the framework.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step2}\n            alt=\"Step 2 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4step3\" header=\"Step 3 - Tranform and Draw\">\n        <p>\n          This next bit of code will run the transformations required to place\n          our car in the correct place.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step3}\n            alt=\"Step 3 Screenshot\"\n          />\n        </div>\n        <p>\n          Once you have this code typed in, RUN the sketch and you should see\n          the triangle\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step3Result}\n            alt=\"Step 3 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4step4\" header=\"Step 4 - Steering\">\n        <p>\n          This bit of code goes inside the <code>draw()</code> function and is\n          where you are checking for the\n          <code>LEFT_ARROW</code> and <code>RIGHT_ARROW</code> keys being\n          pressed.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step4}\n            alt=\"Step 4 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4step5\" header=\"Step 5 - Moving Forward\">\n        <p>\n          This bit of code is yet another key press detection inside{\" \"}\n          <code>draw()</code> but the way that the position is changed is a\n          little complicated.\n          <code>UP_ARROW</code> is being pressed.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step5}\n            alt=\"Step 5 Screenshot\"\n          />\n        </div>\n        <p>\n          Once you have this typed in correctly, RUN your sketch, click into the\n          sketch to give it focus and start driving!\n        </p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step5Result}\n            alt=\"Step 5 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4chal1\" header=\"Challenge: Elaborate Drawing\">\n        <p>\n          Now that your 'car' moves around correctly, feel free to add more\n          shapes or even just modify the existing ones to your liking. Remember\n          to draw 'about the origin' so that the rotation works correctly. For\n          example, here is the code to draw a rectangle 'about the origin':\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"5rem\" }}\n            src={chal1}\n            alt=\"Challenge 1 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n    </div>\n  );\n};\n\nexport default TopDownCar;\n","import React from \"react\";\n\nimport \"../tutorials.css\";\n\nimport TickableSection from \"../TickableSection\";\n\nimport topDownControl from \"./images/top_down_control.png\";\nimport step1 from \"./images/step1.png\";\nimport step2 from \"./images/step2.png\";\nimport step3a from \"./images/step3_a.png\";\nimport step3b from \"./images/step3_b.png\";\nimport step4a from \"./images/step4_a.png\";\nimport step4b from \"./images/step4_b.png\";\nimport step4c from \"./images/step4_c.png\";\nimport challenge1 from \"./images/challenge_1.png\";\n\nconst MovingWithKeyboard: React.FunctionComponent = () => {\n  return (\n    <div className=\"tutorial\">\n      <h1>Moving With Keyboard</h1>\n      <p>\n        We will be learning how to move shapes around the screen using our\n        keyboard. This will give you some options when writing games.\n      </p>\n      <p>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://editor.p5js.org/JoeSharp/sketches/UxliLhatH\"\n        >\n          Here is a completed example.\n        </a>\n      </p>\n      <p>The control scheme could be visualised like this:</p>\n      <div className=\"image\">\n        <img\n          style={{ height: \"15rem\" }}\n          src={topDownControl}\n          alt=\"Top Down Control Demo\"\n        />\n      </div>\n      <TickableSection tickId=\"s3Step1\" header=\"Step 1 - Create Variables\">\n        <p>\n          A variable is a named container for a value in your program. You will\n          create two variables.\n        </p>\n        <ol>\n          <li>x: The 'x' position of your player</li>\n          <li>y: The 'y' position of your player</li>\n        </ol>\n        <p>\n          In JavaScript we use the keyword <code>let</code> to declare the\n          existence of the variable. I declare the variables{\" \"}\n          <code>outside</code> the <code>setup()</code> and <code>draw()</code>\n          functions. This ensures the following:\n        </p>\n        <ol>\n          <li>\n            They are globally available to both, if we declared x and y inside\n            either function, they would not be visible to the other function.\n          </li>\n          <li>\n            There is a single instance of x and y used for all frames, if we\n            declared x and y inside draw(), we would get a new variable for each\n            frame.\n          </li>\n        </ol>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step1}\n            alt=\"Step 1 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3Step2\"\n        header=\"Step 2  Initialise Variable Values\"\n      >\n        <p>\n          This is done inside the <code>setup()</code> function. Remember:\n        </p>\n        <p>Setup() is called once, at the beginning of the sketch</p>\n        <p>\n          I use the <code>width</code> and <code>height</code> values which are\n          available from the p5 framework to place x and y in the middle of the\n          sketch.\n        </p>\n        <p>\n          I <strong>must</strong> do this inside <code>setup()</code> so that{\" \"}\n          <code>width</code> and <code>height</code> are available. Width and\n          height do not exist outside of p5 functions.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"10rem\" }}\n            src={step2}\n            alt=\"Step 2 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3Step3\"\n        header=\"Step 3 - Use x and y to position drawing\"\n      >\n        <p>\n          Now that <code>x</code> and <code>y</code> exist and have been\n          initialised, we can use them inside the draw() function to position\n          our player drawing. For now, I will simply draw an ellipse about the\n          origin. I will use translate with our x and y values to position that\n          ellipse correctly.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"10rem\" }}\n            src={step3a}\n            alt=\"Step 3a Screenshot\"\n          />\n          <img\n            style={{ height: \"10rem\" }}\n            src={step3b}\n            alt=\"Step 3b Screenshot\"\n          />\n        </div>\n        <p>\n          Now run the program and you should see the green ellipse in the middle\n          of your sketch.\n        </p>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3Step4\"\n        header=\"Step 4 - Use Left and Right Arrows\"\n      >\n        <p>\n          Remember to use the Reference document to find out what functions are\n          available and how to use them. In this case we will be using{\" \"}\n          <code>keyPressed()</code> from <code>Events</code>.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step4a}\n            alt=\"Step 4a Screenshot\"\n          />\n        </div>\n        <p>It even has an example for what we need!</p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step4b}\n            alt=\"Step 4b Screenshot\"\n          />\n        </div>\n        <p>\n          Add this function to your program. I put it after <code>draw()</code>.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"8rem\" }}\n            src={step4c}\n            alt=\"Step 4c Screenshot\"\n          />\n        </div>\n        <p>\n          Now run your code and you should find that the left and right arrow\n          keys move your ellipse!\n        </p>\n      </TickableSection>\n      <h1>Challenges</h1>\n      <TickableSection\n        tickId=\"s3chal1\"\n        header=\"Challenge 1 - Up and Down Arrow\"\n      >\n        <p>\n          I will not show you how to do this, but you have enough code above to\n          figure out how to do it. Add code to your program to use the UP and\n          DOWN arrows to move the ellipse UP and DOWN.\n        </p>\n        <p>When coding this, remember the following:</p>\n        <ol>\n          <li>\n            The y coordinates start at 0 at the top and increase downwards,\n            this may mean your y += statements need to be inverted from what\n            you expect.\n          </li>\n          <li>\n            The values UP_ARROW and DOWN_ARROW are available as per this\n            documentation\n          </li>\n        </ol>\n        <div className=\"image\">\n          <img\n            style={{ height: \"10rem\" }}\n            src={challenge1}\n            alt=\"Challenge 1 Screenshot\"\n          />\n        </div>\n        <p>Let the teacher know when you have this working</p>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3chal2\"\n        header=\"Challenge 2 - Elaborate Your Drawing\"\n      >\n        <p>\n          The steps above give you a simple ellipse, feel free to add your own\n          flair to the visual design now. You can replace the ellipse with\n          something else, or just start adding more shapes to it.\n        </p>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3chal3\"\n        header=\"Challenge 3 - Create a constant to control speed\"\n      >\n        <p>\n          The <code>keyPressed</code> code currently uses a hard-coded value (5)\n          across all 4 movement lines of code. Replace this with a constant\n          called <code>STEP</code> or <code>SPEED</code> which is declared and\n          set at the top of the sketch.\n        </p>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3chal4\"\n        header=\"Challenge 4 - Replace x, y with p5.Vector\"\n      >\n        <p>\n          Vectors are data structures that are used to describe movement and\n          position in computer graphics. A vector essentially wraps x, y (and\n          potentially z) values inside a single object.\n        </p>\n        <p>\n          Replace x and y with a variable called position and initialise this\n          value with createVector. You can then use <code>position.x</code> and{\" \"}\n          <code>position.y</code> in place of x, y.\n        </p>\n        <p>\n          I promise this will prove useful later when we make proper player\n          objects using classes.\n        </p>\n      </TickableSection>\n    </div>\n  );\n};\n\nexport default MovingWithKeyboard;\n","import React from \"react\";\n\nimport \"../tutorials.css\";\n\nimport { Link } from \"react-router-dom\";\n\nimport TickableSection from \"../TickableSection\";\n\nimport step1 from \"./images/step1.png\";\nimport step2 from \"./images/step2.png\";\nimport step3 from \"./images/step3.png\";\nimport step4 from \"./images/step4.png\";\nimport step5 from \"./images/step5.png\";\nimport step6 from \"./images/step6.png\";\nimport step7 from \"./images/step7.png\";\n\nconst MovingWithKeyboard: React.FunctionComponent = () => {\n  return (\n    <div className=\"tutorial\">\n      <h1>Using Classes</h1>\n      <p>\n        We will be learning how to encapsulate our game entities using classes.\n      </p>\n      <p>\n        In this game I will make a very simple 'player' that can be directed to\n        move horizontally using the LEFT and RIGHT arrow keys. We will\n        encapsulate this player in a class, and then use a JavaScript object to\n        configure the controls for the player.\n      </p>\n      <p>\n        Once the controls can be changed for a given player, we can then make\n        multiple players, each with an independant existence in the 'game\n        world'.\n      </p>\n      <p>\n        The control scheme is a bit like{\" \"}\n        <Link to=\"/codeClub/movingWithKeyboard\">Moving With Keyboard</Link> but,\n        instead of using the event handling functions, we will use isKeyDown\n        which we used in\n        <Link to=\"/codeClub/topDownCar\">Top Down Car</Link>. So we have a mix of\n        approaches.\n      </p>\n      <p>\n        I will only implement LEFT and RIGHT, but you can add UP and DOWN if you\n        like. Then try and apply this class based approach to the top down car\n        and the steering controls.\n      </p>\n      <p>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://editor.p5js.org/JoeSharp/sketches/XqokKbcsP\"\n        >\n          Here is a completed example.\n        </a>\n      </p>\n      <TickableSection tickId=\"s6step1\" header=\"Step 1 - Create Class\">\n        <p>\n          Here we create the class that encapsulates our player. At this stage\n          each instance will have a 'position'. I am using <code>this</code> to\n          assign a position to the <code>instance</code> of the class. Each{\" \"}\n          <code>Player</code> in our sketch will have its own position.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step1}\n            alt=\"Step 1 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n\n      <TickableSection tickId=\"s6step2\" header=\"Step 2 - Create Instance\">\n        <p>\n          Here we declare a variable called 'player' and in the{\" \"}\n          <code>setup()</code> function we create an instance of our class.\n          Inside <code>draw()</code> we can then call upon our player to{\" \"}\n          <code>update()</code> and <code>draw()</code> itself.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step2}\n            alt=\"Step 2 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n\n      <TickableSection tickId=\"s6step3\" header=\"Step 3 - Draw Something\">\n        <p>\n          Here we add the drawing code, at the moment I will just draw an\n          ellipse for our player.\n        </p>\n        <p>\n          Note the use of <code>push()</code> and <code>pop()</code> around our\n          drawing code. This prevents our translation interfering with the\n          drawing of other game objects.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step3}\n            alt=\"Step 3 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n\n      <TickableSection\n        tickId=\"s6step4\"\n        header=\"Step 4 - Update Position based on Keys\"\n      >\n        <p>\n          Here we are handling the controls of our game. The{\" \"}\n          <code>keyIsDown()</code> function is used to determine if LEFT/RIGHT\n          ARROW keys are pressed and it updates the position on{\" \"}\n          <code>this</code> accordingly.\n        </p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step4}\n            alt=\"Step 4 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s6step5\" header=\"Step 5 - Add a second player\">\n        <p>\n          We will now add a second player, I have simply added another variable\n          for <code>player2</code>, renamed the original <code>player</code> to{\" \"}\n          <code>player1</code>. I then just have to call <code>update()</code>{\" \"}\n          and <code>draw()</code> on this second instance.\n        </p>\n        <p>You may notice that the same arrow keys control both players...</p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"20rem\" }}\n            src={step5}\n            alt=\"Step 5 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s6step6\"\n        header=\"Step 6 - Add Configurable Controls per Player\"\n      >\n        <p>\n          I have added a second argument to the Player constructor called{\" \"}\n          <code>controls</code>. I have then updated the <code>update()</code>{\" \"}\n          function to use <code>controls.right</code> and{\" \"}\n          <code>controls.left</code>\n          instead of the fixed arrow key values.\n        </p>\n        <p>\n          This code won't work yet, we now need to pass controls into the\n          constructor...\n        </p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"20rem\" }}\n            src={step6}\n            alt=\"Step 6 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s6step7\"\n        header=\"Step 7 - Pass Controls to each Player\"\n      >\n        <p>\n          I have now added controls to each player initialisation. This is an\n          example of a <em>Literal Object</em> in JavaScript. The data format is\n          referred to as <code>JSON</code> (JavaScript Object Notation)\n        </p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step7}\n            alt=\"Step 7 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n    </div>\n  );\n};\n\nexport default MovingWithKeyboard;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport interface Props {\n  title: string;\n  description: string;\n  href?: string;\n}\n\nconst Card: React.FunctionComponent<Props> = ({ title, description, href }) => (\n  <div className=\"card h-100\">\n    <div className=\"card-body\">\n      {href ? (\n        <Link to={href} className=\"card-title\">\n          {title}\n        </Link>\n      ) : (\n        <h5 className=\"card-title\">{title}</h5>\n      )}\n      <p className=\"card-text\">{description}</p>\n    </div>\n  </div>\n);\nexport default Card;\n","import React from \"react\";\n\ninterface Props<T> {\n  items: T[];\n  groupSize?: number;\n}\n\ninterface UseGroupUp<T> {\n  itemGroups: T[][];\n}\n\nexport default <T>({ items, groupSize = 3 }: Props<T>): UseGroupUp<T> =>\n  React.useMemo(() => {\n    const itemGroups: T[][] = [];\n    for (let i = 0; i < items.length; i += groupSize) {\n      itemGroups.push(items.slice(i, i + groupSize));\n    }\n    return { itemGroups };\n  }, [items, groupSize]);\n","import React from \"react\";\nimport Card, { Props as CardProps } from \"../Card/Card\";\nimport useGroupUp from \"src/components/lib/useGroupUp\";\n\ninterface Props {\n  cards: CardProps[];\n}\n\nconst CardCollection: React.FunctionComponent<Props> = ({ cards }) => {\n  const { itemGroups: cardGroups } = useGroupUp({ items: cards, groupSize: 3 });\n\n  return (\n    <div>\n      {cardGroups.map((cardGroup, i) => (\n        <div key={i} className=\"row mb-3\">\n          {cardGroup.map((card) => (\n            <div key={card.title} className=\"col-sm-4\">\n              <Card {...card} />\n            </div>\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default CardCollection;\n","import React from \"react\";\n\nimport TopDownCar from \"./TopDownCar\";\nimport MovingWithKeyboard from \"./MovingWithKeyboard\";\nimport UsingClasses from \"./UsingClasses\";\nimport SafeCracker from \"./SafeCracker\";\nimport { Page } from \"src/types\";\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\nconst gameSeries: Page[] = [\n  {\n    href: \"/codeClub/movingWithKeyboard\",\n    title: \"Session 1 - Moving With Keyboard\",\n    description:\n      \"Learn how to intercept keyboard events and use them to move an object around the screen\",\n    component: MovingWithKeyboard,\n  },\n  {\n    href: \"/codeClub/topDownCar\",\n    title: \"Session 2 - Top Down Car\",\n    component: TopDownCar,\n    description:\n      \"Learn how to use keyboard events to build a top down driving control scheme\",\n  },\n  {\n    href: \"/codeClub/usingClasses\",\n    title: \"Session 3 - Using Classes\",\n    component: UsingClasses,\n    description:\n      \"Learn how to use Object Oriented Programming to encapsulate game objects.\",\n  },\n];\nconst miscPages: Page[] = [\n  {\n    href: \"/codeClub/safeCracker\",\n    title: \"Session 99 - Safe Cracker\",\n    component: SafeCracker,\n    description: \"Learn how to write a program to brute force a digital safe\",\n  },\n];\n\nconst CodeClub: React.FunctionComponent = () => (\n  <div>\n    <h2>Game Series</h2>\n    <CardCollection cards={gameSeries} />\n\n    <h2>Miscellaneous</h2>\n    <CardCollection cards={miscPages} />\n  </div>\n);\n\nexport const page: Page = {\n  href: \"/codeClub\",\n  title: \"Code Club\",\n  description: \"Some projects to teach coding to KS3\",\n  component: CodeClub,\n};\n\nexport const pages: Page[] = [page, ...gameSeries, ...miscPages];\n","import React from \"react\";\nimport TickableSection from \"../TickableSection\";\n\nimport step0 from \"./images/step0.png\";\nimport step1 from \"./images/step1.png\";\nimport step2 from \"./images/step2.png\";\nimport step3 from \"./images/step3.png\";\n\nconst SafeCracker = () => {\n  return (\n    <div className=\"tutorial\">\n      <h1>Brute Force Attack</h1>\n      <p>\n        We will be writing a program to demonstrate brute forcing a 3 digit PIN.\n      </p>\n\n      <TickableSection tickId=\"step0\" header=\"Step 0 - Create 'Safe' Function\">\n        <p>\n          First we define a function to encapsulate our 'Safe'. It will return\n          true if we give it the correct PIN, otherwise it will return false.\n        </p>\n        <div className=\"image\">\n          <img style={{ height: \"7rem\" }} src={step0} alt=\"Step 0 Screenshot\" />\n        </div>\n      </TickableSection>\n\n      <TickableSection tickId=\"step1\" header=\"Step 1 - Submit Single Values\">\n        <p>\n          Let us check we can call this function and interpret the result\n          correctly. The following code should return 'Safe still LOCKED' when\n          run.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"13rem\" }}\n            src={step1}\n            alt=\"Step 1 Screenshot\"\n          />\n        </div>\n        <p>\n          <ul>\n            <li>\n              Try submitting a value of <code>345</code> and check that the\n              program prints 'Safe OPENED'.\n            </li>\n          </ul>\n        </p>\n      </TickableSection>\n\n      <TickableSection\n        tickId=\"step2\"\n        header=\"Step 2 - Loop through all possible calues\"\n      >\n        <p>Here we create a loop to go through all the possible values.</p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"13rem\" }}\n            src={step2}\n            alt=\"Step 2 Screenshot\"\n          />\n        </div>\n        <ul>\n          <li>\n            Change the expected value of the PIN to 004, does the safe still\n            crack? It should not\n          </li>\n          <li>\n            Change the expected value of the PIN to 034, does the safe crack? It\n            should not\n          </li>\n        </ul>\n      </TickableSection>\n\n      <TickableSection tickId=\"step3\" header=\"Step 3 - Zero Pad the Number\">\n        <p>For the lower values of PIN to work, we must pad with zeros.</p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"20rem\" }}\n            src={step3}\n            alt=\"Step 3 Screenshot\"\n          />\n        </div>\n        <ul>\n          <li>\n            Set the pin in open_safe to values 005, 065, 123, do they work? They\n            should\n          </li>\n          <li> Set the pin to 4568, does this work? It should not</li>\n        </ul>\n      </TickableSection>\n    </div>\n  );\n};\n\nexport default SafeCracker;\n","import React from \"react\";\r\nimport p5 from \"p5\";\r\n\r\nfunction configReducer<T>(state: T, updates: Partial<T>): T {\r\n  return { ...state, ...updates };\r\n}\r\n\r\ntype ChangeEventHandlerFactory<T> = (\r\n  key: keyof T\r\n) => React.ChangeEventHandler<HTMLInputElement>;\r\n\r\nexport abstract class AbstractSketch<T> {\r\n  config: T;\r\n\r\n  constructor(defaultConfig: T) {\r\n    this.config = defaultConfig;\r\n  }\r\n\r\n  setConfig(config: T) {\r\n    this.config = config;\r\n  }\r\n\r\n  abstract sketch(s: p5): void;\r\n}\r\n\r\nexport interface UseSketch<T, SKETCH extends AbstractSketch<T>> {\r\n  config: T;\r\n  refContainer: any;\r\n  sketchInUse?: p5;\r\n  sketchContainer: SKETCH;\r\n  updateConfig: (s: Partial<T>) => void;\r\n  onNumericConfigChange: ChangeEventHandlerFactory<T>;\r\n  onStringConfigChange: ChangeEventHandlerFactory<T>;\r\n  onBooleanConfigChange: ChangeEventHandlerFactory<T>;\r\n}\r\n\r\ninterface BaseConfig {\r\n  [s: string]: any;\r\n}\r\n\r\nfunction useSketch<T extends BaseConfig, SKETCH extends AbstractSketch<T>>(s: {\r\n  new(): SKETCH;\r\n}): UseSketch<T, SKETCH> {\r\n  const sketchInUse = React.useRef<p5>();\r\n  const refContainer = React.useRef(null);\r\n  const sketchContainer: SKETCH = React.useMemo(() => new s(), [s]);\r\n  React.useEffect(() => {\r\n    if (!!refContainer) {\r\n      sketchInUse.current = new p5(\r\n        sketchContainer.sketch.bind(sketchContainer),\r\n        (refContainer.current as unknown) as HTMLElement\r\n      );\r\n    }\r\n\r\n    return () => {\r\n      if (!!sketchInUse.current) {\r\n        sketchInUse.current.remove();\r\n      }\r\n    };\r\n  }, [sketchContainer]);\r\n\r\n  const [config, dispatch] = React.useReducer(\r\n    configReducer,\r\n    sketchContainer.config\r\n  );\r\n\r\n  const updateConfig = React.useCallback(\r\n    (updates: Partial<T>) => dispatch(updates),\r\n    []\r\n  );\r\n\r\n  React.useEffect(() => sketchContainer.setConfig(config as T), [\r\n    config,\r\n    sketchContainer,\r\n  ]);\r\n\r\n  const onNumericConfigChange: ChangeEventHandlerFactory<T> = React.useCallback(\r\n    (key: keyof T): React.ChangeEventHandler<HTMLInputElement> => ({\r\n      target: { value },\r\n    }) => updateConfig({ [key]: parseFloat(value) } as Partial<T>),\r\n    [updateConfig]\r\n  );\r\n\r\n  const onBooleanConfigChange: ChangeEventHandlerFactory<T> = React.useCallback(\r\n    (key: keyof T): React.ChangeEventHandler<HTMLInputElement> => ({\r\n      target: { checked },\r\n    }) => updateConfig({ [key]: checked } as Partial<T>),\r\n    [updateConfig]\r\n  );\r\n\r\n  const onStringConfigChange: ChangeEventHandlerFactory<T> = React.useCallback(\r\n    (key: keyof T): React.ChangeEventHandler<HTMLInputElement> => ({\r\n      target: { value },\r\n    }) => updateConfig({ [key]: value } as Partial<T>),\r\n    [updateConfig]\r\n  );\r\n\r\n  return {\r\n    config: config as T,\r\n    sketchContainer,\r\n    sketchInUse: sketchInUse.current,\r\n    updateConfig,\r\n    onNumericConfigChange,\r\n    onStringConfigChange,\r\n    onBooleanConfigChange,\r\n    refContainer,\r\n  };\r\n}\r\n\r\nexport default useSketch;\r\n","import { NamedImage } from \"../types\";\r\n\r\nimport i1 from \"./1.png\";\r\nimport i2 from \"./2.png\";\r\nimport i3 from \"./3.png\";\r\nimport i4 from \"./4.png\";\r\nimport i5 from \"./5.png\";\r\nimport i6 from \"./6.png\";\r\nimport i7 from \"./7.png\";\r\nimport i8 from \"./8.png\";\r\nimport i9 from \"./9.png\";\r\nimport i10 from \"./10.png\";\r\nimport i11 from \"./11.png\";\r\nimport i12 from \"./12.png\";\r\nimport i13 from \"./13.png\";\r\nimport i14 from \"./14.png\";\r\nimport i15 from \"./15.png\";\r\nimport i16 from \"./16.png\";\r\nimport i17 from \"./17.png\";\r\nimport i18 from \"./18.png\";\r\n\r\nconst images: NamedImage[] = [\r\n  { name: \"one\", image: i1 },\r\n  { name: \"two\", image: i2 },\r\n  { name: \"three\", image: i3 },\r\n  { name: \"four\", image: i4 },\r\n  { name: \"five\", image: i5 },\r\n  { name: \"six\", image: i6 },\r\n  { name: \"seven\", image: i7 },\r\n  { name: \"eight\", image: i8 },\r\n  { name: \"nine\", image: i9 },\r\n  { name: \"ten\", image: i10 },\r\n  { name: \"eleven\", image: i11 },\r\n  { name: \"twelve\", image: i12 },\r\n  { name: \"thirteen\", image: i13 },\r\n  { name: \"fourteen\", image: i14 },\r\n  { name: \"fifteen\", image: i15 },\r\n  { name: \"sixteen\", image: i16 },\r\n  { name: \"seventeen\", image: i17 },\r\n  { name: \"eighteen\", image: i18 }\r\n];\r\n\r\nexport default images;\r\n","import { NamedImage } from \"../types\";\r\n\r\nimport i1 from \"./1.png\";\r\nimport i2 from \"./2.png\";\r\nimport i3 from \"./3.png\";\r\n\r\nconst images: NamedImage[] = [\r\n  { name: \"one\", image: i1 },\r\n  { name: \"two\", image: i2 },\r\n  { name: \"three\", image: i3 }\r\n];\r\n\r\nexport default images;\r\n","import { NamedImage } from \"../types\";\r\n\r\nimport i1 from \"./1.png\";\r\nimport i2 from \"./2.png\";\r\nimport i3 from \"./3.png\";\r\nimport i4 from \"./4.png\";\r\nimport i5 from \"./5.png\";\r\nimport i6 from \"./6.png\";\r\nimport i7 from \"./7.png\";\r\nimport i8 from \"./8.png\";\r\nimport i9 from \"./9.png\";\r\nimport i10 from \"./10.png\";\r\nimport i11 from \"./11.png\";\r\nimport i12 from \"./12.png\";\r\n\r\nconst images: NamedImage[] = [\r\n  { name: \"one\", image: i1 },\r\n  { name: \"two\", image: i2 },\r\n  { name: \"three\", image: i3 },\r\n  { name: \"four\", image: i4 },\r\n  { name: \"five\", image: i5 },\r\n  { name: \"six\", image: i6 },\r\n  { name: \"seven\", image: i7 },\r\n  { name: \"eight\", image: i8 },\r\n  { name: \"nine\", image: i9 },\r\n  { name: \"ten\", image: i10 },\r\n  { name: \"elevent\", image: i11 },\r\n  { name: \"twelve\", image: i12 }\r\n];\r\n\r\nexport default images;\r\n","import p5, { Image } from \"p5\";\nimport { NamedImage } from \"./types\";\n\nclass ImageSwitcher {\n  images: Image[];\n  imageIndex: number;\n\n  constructor(s: p5, namedImages: NamedImage[]) {\n    this.images = namedImages.map((n) => s.loadImage(n.image));\n    this.imageIndex = 0;\n    this.randomImage();\n  }\n\n  nextImage() {\n    this.imageIndex += 1;\n    this.imageIndex %= this.images.length;\n  }\n\n  randomImage() {\n    this.imageIndex = Math.floor(Math.random() * this.images.length);\n  }\n\n  currentImage(): Image {\n    return this.images[this.imageIndex];\n  }\n}\n\nexport default ImageSwitcher;\n","import p5 from \"p5\";\n\nimport ships from \"./images/ships\";\nimport { ImageSwitcher } from \"./images\";\nimport { GameObject } from \"./types\";\n\nclass Ship implements GameObject {\n  s: p5;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  acceleration: p5.Vector;\n  heading: number;\n  radius: number;\n  imageSwitcher: ImageSwitcher;\n\n  constructor(s: p5, position: p5.Vector, radius: number) {\n    this.s = s;\n    this.position = position;\n    this.velocity = s.createVector();\n    this.acceleration = s.createVector();\n    this.heading = 0;\n    this.radius = radius;\n    this.imageSwitcher = new ImageSwitcher(s, ships);\n  }\n\n  nextImage() {\n    this.imageSwitcher.nextImage();\n  }\n\n  hitBy(other: GameObject) {}\n\n  isStillActive() {\n    return true;\n  }\n\n  update() {\n    let steer = 0;\n    let thrust = 0;\n    if (this.s.keyIsDown((this.s as any).LEFT_ARROW)) {\n      steer = -1;\n    } else if (this.s.keyIsDown((this.s as any).RIGHT_ARROW)) {\n      steer = 1;\n    } else if (this.s.keyIsDown((this.s as any).UP_ARROW)) {\n      thrust = 1;\n    }\n\n    this.heading += steer * 0.1;\n\n    let thrustForce = this.s.createVector(0, thrust * 0.4);\n    thrustForce.rotate(this.heading);\n    this.acceleration.add(thrustForce);\n    this.velocity.add(this.acceleration);\n    this.velocity.limit(4);\n    this.velocity.mult(0.95);\n    this.position.add(this.velocity);\n    this.acceleration.mult(0);\n\n    // Cycle around the edges\n    this.position.x += this.s.width;\n    this.position.x %= this.s.width;\n    this.position.y += this.s.height;\n    this.position.y %= this.s.height;\n  }\n\n  draw() {\n    this.s.push();\n    this.s.noFill();\n    this.s.stroke(\"green\");\n    this.s.translate(this.position.x, this.position.y);\n    this.s.rotate(this.heading);\n    this.s.image(\n      this.imageSwitcher.currentImage(),\n      -this.radius,\n      -this.radius,\n      this.radius * 2,\n      this.radius * 2\n    );\n    // this.s.triangle(\n    //   -this.radius,\n    //   -this.radius,\n    //   this.radius,\n    //   -this.radius,\n    //   0,\n    //   this.radius\n    // );\n    this.s.pop();\n  }\n}\n\nexport default Ship;\n","import p5 from \"p5\";\nimport asteroids from \"./images/asteroids\";\nimport { ImageSwitcher } from \"./images\";\nimport { GameObject } from \"./types\";\n\ntype AsteroidConsumer = (a: Asteroid) => void;\n\nclass Asteroid implements GameObject {\n  s: p5;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  angularVelocity: number;\n  heading: number;\n  radius: number;\n  imageSwitcher: ImageSwitcher;\n  isDead: boolean;\n  addAsteroid: AsteroidConsumer;\n\n  constructor(s: p5, addAsteroid: AsteroidConsumer) {\n    this.s = s;\n    this.position = s.createVector(s.random(s.width), s.random(s.height));\n    this.velocity = s.createVector(s.random(-1, 1), s.random(-1, 1));\n    this.angularVelocity = s.map(s.random(), 0, 1, -s.PI, s.PI) * 0.01;\n    this.heading = s.map(s.random(), 0, 1, -s.PI, s.PI);\n    this.radius = s.floor(s.random(40, 60));\n    this.imageSwitcher = new ImageSwitcher(s, asteroids);\n    this.imageSwitcher.randomImage();\n    this.isDead = false;\n    this.addAsteroid = addAsteroid;\n  }\n\n  hitBy(other: GameObject) {\n    if (!this.isDead && this.radius > 30) {\n      for (let x = 0; x < 2; x++) {\n        let a = new Asteroid(this.s, this.addAsteroid);\n        a.radius = this.radius / 2;\n        a.position = this.position;\n        a.velocity.rotate(x * this.s.PI);\n        this.addAsteroid(a);\n      }\n    }\n\n    this.isDead = true;\n  }\n\n  isStillActive() {\n    return !this.isDead;\n  }\n\n  update() {\n    this.position.add(this.velocity);\n    this.heading += this.angularVelocity;\n\n    // Cycle around the edges\n    this.position.x += this.s.width;\n    this.position.x %= this.s.width;\n    this.position.y += this.s.height;\n    this.position.y %= this.s.height;\n  }\n\n  draw() {\n    this.s.push();\n    this.s.translate(this.position.x, this.position.y);\n    this.s.rotate(this.heading);\n\n    this.s.noFill();\n    this.s.stroke(255);\n    this.s.image(\n      this.imageSwitcher.currentImage(),\n      -this.radius / 2,\n      -this.radius / 2,\n      this.radius,\n      this.radius\n    );\n\n    this.s.pop();\n  }\n}\n\nexport default Asteroid;\n","import p5 from \"p5\";\nimport monsters from \"./images/monsters\";\nimport { ImageSwitcher } from \"./images\";\nimport { GameObject } from \"./types\";\n\nclass Asteroid implements GameObject {\n  s: p5;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  angularVelocity: number;\n  heading: number;\n  radius: number;\n  imageSwitcher: ImageSwitcher;\n  isDead: boolean;\n\n  constructor(s: p5) {\n    this.s = s;\n    this.position = s.createVector(s.random(s.width), s.random(s.height));\n    this.velocity = s.createVector(s.random(-1, 1), s.random(-1, 1));\n    this.angularVelocity = s.map(s.random(), 0, 1, -s.PI, s.PI) * 0.01;\n    this.heading = s.map(s.random(), 0, 1, -s.PI, s.PI);\n    this.radius = s.floor(s.random(20, 60));\n    this.imageSwitcher = new ImageSwitcher(s, monsters);\n    this.imageSwitcher.randomImage();\n    this.isDead = false;\n  }\n\n  hitBy(other: GameObject) {\n    this.isDead = true;\n  }\n\n  isStillActive() {\n    return !this.isDead;\n  }\n\n  update() {\n    this.position.add(this.velocity);\n    this.heading += this.angularVelocity;\n\n    // Cycle around the edges\n    this.position.x += this.s.width;\n    this.position.x %= this.s.width;\n    this.position.y += this.s.height;\n    this.position.y %= this.s.height;\n  }\n\n  draw() {\n    this.s.push();\n    this.s.translate(this.position.x, this.position.y);\n    this.s.rotate(this.heading);\n\n    this.s.noFill();\n    this.s.stroke(255);\n    this.s.image(\n      this.imageSwitcher.currentImage(),\n      -this.radius / 2,\n      -this.radius / 2,\n      this.radius,\n      this.radius\n    );\n\n    this.s.pop();\n  }\n}\n\nexport default Asteroid;\n","import p5 from \"p5\";\nimport { GameObject } from \"./types\";\n\nconst COLOURS = [\n  \"red\",\n  \"orange\",\n  \"yellow\",\n  \"green\",\n  \"blue\",\n  \"indigo\",\n  \"violet\"\n];\n\nclass Bullet implements GameObject {\n  s: p5;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  radius: number;\n  color: string;\n  isDead: boolean;\n\n  constructor(s: p5, position: p5.Vector, velocity: p5.Vector, radius: number) {\n    this.s = s;\n    this.position = position;\n    this.velocity = velocity;\n    this.radius = radius;\n    this.color = COLOURS[Math.floor(Math.random() * COLOURS.length)];\n    this.isDead = false;\n  }\n\n  hitBy(other: GameObject) {\n    this.isDead = true;\n  }\n\n  isStillActive() {\n    return (\n      !this.isDead &&\n      this.position.x > 0 &&\n        this.position.x < this.s.width &&\n        this.position.y > 0 &&\n        this.position.y < this.s.height\n    );\n  }\n\n  update() {\n    this.position.add(this.velocity);\n  }\n\n  draw() {\n    this.s.push();\n    this.s.translate(this.position.x, this.position.y);\n    this.s.noStroke();\n    this.s.fill(this.color);\n    this.s.circle(0, 0, this.radius);\n    this.s.pop();\n  }\n}\n\nexport default Bullet;\n","import p5 from \"p5\";\r\nimport { AbstractSketch } from \"../../p5/useSketch\";\r\nimport Ship from \"./Ship\";\r\nimport Asteroid from \"./Asteroid\";\r\nimport Monster from \"./Monster\";\r\nimport Bullet from \"./Bullet\";\r\n\r\nimport { GameObject } from \"./types\";\r\n\r\ninterface Config { }\r\n\r\nconst defaultConfig: Config = {};\r\n\r\nconst BULLET_SPEED = 10;\r\n\r\nexport function isColliding(obj1: GameObject, obj2: GameObject): boolean {\r\n  let diff = p5.Vector.sub(obj1.position, obj2.position);\r\n  let sumRadii = obj1.radius + obj2.radius;\r\n\r\n  return diff.mag() < sumRadii;\r\n}\r\n\r\nclass Sketch extends AbstractSketch<Config> {\r\n  constructor() {\r\n    super(defaultConfig);\r\n  }\r\n\r\n  sketch(s: p5) {\r\n    // const that = this;\r\n    let ship: Ship;\r\n    let asteroids: Asteroid[] = [];\r\n    let monsters: Monster[] = [];\r\n    let bullets: Bullet[] = [];\r\n    let numberAsteroids = 5;\r\n    let numberMonsters = 5;\r\n    const spawnAsteroid = (a: Asteroid) => asteroids.push(a);\r\n\r\n    s.setup = function () {\r\n      // const {} = that.config;\r\n      s.createCanvas(600, 600);\r\n\r\n      let position = s.createVector(s.width / 2, s.height / 2);\r\n      let radius = s.width / 20;\r\n      ship = new Ship(s, position, radius);\r\n\r\n      for (let i = 0; i < numberAsteroids; i++) {\r\n        asteroids.push(new Asteroid(s, spawnAsteroid));\r\n      }\r\n\r\n      for (let i = 0; i < numberMonsters; i++) {\r\n        monsters.push(new Monster(s));\r\n      }\r\n    };\r\n\r\n    s.keyPressed = function () {\r\n      if (s.keyCode === (s as any).ENTER) {\r\n        ship.nextImage();\r\n      } else if (s.keyCode === 32) {\r\n        // space\r\n        let bulletVelocity = s.createVector(0, 1);\r\n        bulletVelocity.setMag(BULLET_SPEED);\r\n        bulletVelocity.rotate(ship.heading);\r\n        let bullet = new Bullet(s, ship.position.copy(), bulletVelocity, 5);\r\n        bullets.push(bullet);\r\n      }\r\n    };\r\n\r\n    s.draw = function () {\r\n      s.background(0);\r\n\r\n      bullets.forEach((bullet) =>\r\n        [...asteroids, ...monsters]\r\n          .filter((a) => isColliding(a, bullet))\r\n          .forEach((a) => {\r\n            bullet.hitBy(a);\r\n            a.hitBy(bullet);\r\n          })\r\n      );\r\n\r\n      [ship, ...asteroids, ...monsters, ...bullets].forEach((a) => {\r\n        a.update();\r\n        a.draw();\r\n      });\r\n\r\n      bullets = bullets.filter((b) => b.isStillActive());\r\n      asteroids = asteroids.filter((b) => b.isStillActive());\r\n      monsters = monsters.filter((b) => b.isStillActive());\r\n\r\n      while (asteroids.length < numberAsteroids) {\r\n        asteroids.push(new Asteroid(s, spawnAsteroid));\r\n      }\r\n      while (monsters.length < numberMonsters) {\r\n        monsters.push(new Monster(s));\r\n      }\r\n\r\n      // Debug info\r\n      s.noStroke();\r\n      s.fill(255);\r\n      s.text(`Bullets ${bullets.length}`, 50, 50);\r\n    };\r\n  };\r\n}\r\n\r\nexport default Sketch;\r\n","import React from \"react\";\r\n\r\nimport Sketch from \"./Sketch\";\r\nimport useSketch from \"../../p5/useSketch\";\r\n\r\nconst Graphs: React.FunctionComponent = () => {\r\n  const { refContainer } = useSketch(Sketch);\r\n\r\n  return <div ref={refContainer} />;\r\n};\r\n\r\nexport default Graphs;\r\n","import React from \"react\";\n\ninterface Props {\n  items: string[];\n  remove: (item: string) => void;\n  clear: () => void;\n}\n\nconst ItemTable: React.FunctionComponent<Props> = ({\n  items,\n  remove,\n  clear,\n}) => {\n  const itemsWithHandlers = React.useMemo(\n    () => items.map((item) => ({ item, onRemove: () => remove(item) })),\n    [items, remove]\n  );\n\n  return (\n    <table className=\"table table-sm\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Name</th>\n          <th scope=\"col\">\n            <button\n              type=\"button\"\n              className=\"btn btn-sm btn-outline-danger\"\n              onClick={clear}\n            >\n              Clear All\n            </button>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {itemsWithHandlers.map(({ item, onRemove }) => (\n          <tr key={item}>\n            <td>{item}</td>\n            <td>\n              <button\n                type=\"button\"\n                className=\"btn btn-sm btn-outline-danger\"\n                onClick={onRemove}\n              >\n                Remove\n              </button>\n            </td>\n          </tr>\n        ))}\n        <tr />\n      </tbody>\n    </table>\n  );\n};\n\nexport default ItemTable;\n","import React from \"react\";\n\ninterface Props {\n  add: (item: string) => void;\n}\n\nconst NewItemForm: React.FunctionComponent<Props> = ({ add }) => {\n  const [newItem, setNewItem] = React.useState<string>(\"\");\n  const onNewItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewItem(value),\n    [setNewItem]\n  );\n  const onAdd = React.useCallback(() => {\n    add(newItem);\n    setNewItem(\"\");\n  }, [add, newItem, setNewItem]);\n\n  return (\n    <form>\n      <div className=\"form-group\">\n        <label htmlFor=\"itemInput\">Item to Add</label>\n        <input\n          className=\"form-control\"\n          type=\"text\"\n          id=\"itemInput\"\n          aria-describedby=\"itemInput\"\n          placeholder=\"Enter items\"\n          value={newItem}\n          onChange={onNewItemChange}\n        />\n        <small id=\"itemInputHelp\" className=\"form-text text-muted\">\n          Use spaces between multiple items.\n        </small>\n      </div>\n      <button type=\"button\" className=\"btn btn-primary\" onClick={onAdd}>\n        Add\n      </button>\n    </form>\n  );\n};\n\nexport default NewItemForm;\n","import React from \"react\";\nimport { Card } from \"./types\";\n\ninterface Props {\n  items: string[];\n}\n\ninterface UseCards {\n  cards: Card[];\n  itemsRequired: number;\n}\n\nconst useCards = ({ items }: Props): UseCards => {\n  return React.useMemo(() => {\n    let cards: Card[] = [];\n    let itemsRequired = 0;\n\n    if (items.length < 3) {\n      itemsRequired = 3 - items.length;\n    } else {\n      cards.push({ cardItems: [items[0], items[1]] });\n      cards.push({ cardItems: [items[0], items[2]] });\n      cards.push({ cardItems: [items[1], items[2]] });\n      let index = 3;\n\n      while (items.length - index >= cards.length) {\n        let newCard: Card = { cardItems: [] };\n        for (let x = index; x < index + cards.length; x++) {\n          newCard.cardItems.push(items[x]);\n        }\n        for (let x = 0; x < cards.length; x++) {\n          cards[x].cardItems.push(newCard.cardItems[x]);\n          index += 1;\n        }\n        cards.push(newCard);\n      }\n\n      if (index < items.length) {\n        itemsRequired = cards.length - (items.length - index);\n      }\n    }\n\n    return {\n      cards,\n      itemsRequired,\n    };\n  }, [items]);\n};\n\nexport default useCards;\n","import React from \"react\";\n\nimport { Card } from \"./types\";\nimport useCards from \"./useCards\";\n\ninterface Props {\n  items: string[];\n}\n\nconst Cards: React.FunctionComponent<Props> = ({ items }) => {\n  const { cards, itemsRequired } = useCards({ items });\n\n  return (\n    <div>\n      {itemsRequired > 0 ? (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          Please add {itemsRequired} more items\n        </div>\n      ) : null}\n      <ul>\n        {cards.map(({ cardItems }: Card, i) => (\n          <li key={i}>{cardItems.join(\", \")}</li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Cards;\n","import React from \"react\";\n\ninterface AddItem {\n  type: \"add\";\n  item: string;\n}\n\ninterface RemoveItem {\n  type: \"remove\";\n  item: string;\n}\n\ninterface ClearList {\n  type: \"clear\";\n}\n\ntype Action = AddItem | RemoveItem | ClearList;\n\nfunction listReducer(state: string[], action: Action) {\n  switch (action.type) {\n    case \"add\":\n      let items: string[] = action.item.split(\" \");\n      return [...state.filter((s) => !items.includes(s)), ...items].sort();\n    case \"remove\":\n      return state.filter((s) => s !== action.item);\n    case \"clear\":\n      return [];\n  }\n\n  return state;\n}\n\ninterface ListReducer {\n  add: (item: string) => void;\n  remove: (item: string) => void;\n  clear: () => void;\n  items: string[];\n}\n\nconst useList = (initialItems: string[] = []): ListReducer => {\n  const [items, dispatch] = React.useReducer(listReducer, initialItems);\n\n  const add = React.useCallback(\n    (item: string) => dispatch({ type: \"add\", item }),\n    []\n  );\n  const remove = React.useCallback(\n    (item: string) => dispatch({ type: \"remove\", item }),\n    []\n  );\n  const clear = React.useCallback(() => dispatch({ type: \"clear\" }), []);\n\n  return {\n    add,\n    remove,\n    clear,\n    items,\n  };\n};\n\nexport default useList;\n","import React from \"react\";\n\nimport ItemTable from \"./ItemTable\";\nimport NewItemForm from \"./NewItemForm\";\nimport Cards from \"./Cards\";\nimport useList from \"./useList\";\n\nconst Dobble: React.FunctionComponent = () => {\n  const { items, add, remove, clear } = useList([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"]);\n\n  return (\n    <div>\n      <NewItemForm {...{ add }} />\n\n      <h2>Cards to Make</h2>\n      <Cards {...{ items }} />\n\n      <h2>Registered Items (alphabetically ordered)</h2>\n      <ItemTable {...{ items, remove, clear }} />\n    </div>\n  );\n};\n\nexport default Dobble;\n","import React from \"react\";\r\n\r\nimport { IGuess } from \"./types\";\r\n\r\ninterface Props {\r\n  numberDigits: number;\r\n  value: number[];\r\n  onChange: (v: number[]) => any;\r\n}\r\n\r\ninterface DigitUpdateAction {\r\n  index: number;\r\n  value: number;\r\n}\r\n\r\nconst boundValue = (v: number): number => {\r\n  if (v < 0) return 0;\r\n  if (v > 9) return 9;\r\n  return v;\r\n};\r\n\r\nconst valueReducer = (state: IGuess, action: DigitUpdateAction): IGuess => {\r\n  const { index, value } = action;\r\n  return state.map((v, i) => (i === index ? boundValue(value) : v));\r\n};\r\n\r\ninterface DigitWithHandlers {\r\n  digit: number;\r\n  onChange: React.ChangeEventHandler<HTMLSelectElement>;\r\n}\r\n\r\nconst GuessEntry: React.FunctionComponent<Props> = ({\r\n  numberDigits,\r\n  value,\r\n  onChange,\r\n}) => {\r\n  const [digits, dispatchDigits] = React.useReducer(valueReducer, value);\r\n\r\n  const digitWithHandlers: DigitWithHandlers[] = React.useMemo(\r\n    () =>\r\n      digits.map((digit, index) => ({\r\n        digit,\r\n        onChange: (e) =>\r\n          dispatchDigits({ value: Number.parseInt(e.target.value), index }),\r\n      })),\r\n    [digits, dispatchDigits]\r\n  );\r\n\r\n  React.useEffect(() => onChange(digits), [digits, onChange]);\r\n\r\n  if (value.length !== numberDigits) {\r\n    return <div>INVALID NUMBER OF DIGITS</div>;\r\n  }\r\n\r\n  return (\r\n    <form className=\"form-inline\">\r\n      {digitWithHandlers.map(({ digit, onChange }, i) => (\r\n        <div key={i} className=\"form-group\">\r\n          <select className=\"form-control\" value={digit} onChange={onChange}>\r\n            {Array(10)\r\n              .fill(null)\r\n              .map((d, i) => (\r\n                <option>{i}</option>\r\n              ))}\r\n          </select>\r\n        </div>\r\n      ))}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default GuessEntry;\r\n","export type EvaluateFunction = (guess: number[], clue: number[]) => boolean;\r\n\r\nexport type IGuess = number[];\r\n\r\nexport interface IClue {\r\n  description: string;\r\n  evaluate: EvaluateFunction;\r\n}\r\n\r\nexport interface IClueWithValue {\r\n  value: IGuess;\r\n  clue: IClue;\r\n}\r\n\r\ntype CountFunction = (guess: number[], clue: number[]) => number;\r\n\r\nconst numberCommonDigits: CountFunction = (guess, clue) =>\r\n  guess.reduce((acc, curr) => (clue.includes(curr) ? acc + 1 : acc), 0);\r\nconst numberCorrectDigits: CountFunction = (guess, clue) =>\r\n  guess.reduce((acc, curr, i) => (clue[i] === curr ? acc + 1 : acc), 0);\r\n\r\nconst commonEvaluate = (\r\n  commonDigits: number,\r\n  correctDigits: number\r\n): EvaluateFunction => (guess: number[], clue: number[]) =>\r\n  numberCommonDigits(guess, clue) === commonDigits &&\r\n  numberCorrectDigits(guess, clue) === correctDigits;\r\n\r\nexport const oneDigitInCorrectPlace: IClue = {\r\n  description: \"One digit is right and in it's place\",\r\n  evaluate: commonEvaluate(1, 1),\r\n};\r\n\r\nexport const oneDigitInWrongPlace: IClue = {\r\n  description: \"One digit is right but in the wrong place\",\r\n  evaluate: commonEvaluate(1, 0),\r\n};\r\n\r\nexport const twoDigitsInWrongPlace: IClue = {\r\n  description: \"Two digits are right but both are in the wrong place\",\r\n  evaluate: commonEvaluate(2, 0),\r\n};\r\n\r\nexport const allDigitsWrong: IClue = {\r\n  description: \"All digits are wrong\",\r\n  evaluate: commonEvaluate(0, 0),\r\n};\r\n","import React from \"react\";\r\n\r\nimport { IGuess } from \"./types\";\r\n\r\ninterface Props {\r\n  value: IGuess;\r\n}\r\n\r\nconst ValueDisplay: React.FunctionComponent<Props> = ({ value }) => (\r\n  <div className=\"valueDisplay\">\r\n    {value.map((v, i) => (\r\n      <span className=\"valueDisplay__digit\" key={i}>\r\n        {v}\r\n      </span>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default ValueDisplay;\r\n","import React from \"react\";\r\n\r\nimport { IClueWithValue, IGuess } from \"./types\";\r\nimport ValueDisplay from \"./ValueDisplay\";\r\n\r\ninterface Props {\r\n  guess: IGuess;\r\n  clueWithValue: IClueWithValue;\r\n}\r\n\r\nconst Clue: React.FunctionComponent<Props> = ({\r\n  guess,\r\n  clueWithValue: {\r\n    clue: { description, evaluate },\r\n    value,\r\n  },\r\n}) => {\r\n  const guessMatches: boolean = React.useMemo(() => evaluate(guess, value), [\r\n    guess,\r\n    value,\r\n    evaluate,\r\n  ]);\r\n\r\n  return (\r\n    <div className=\"clueWithValue\">\r\n      <div className=\"clueWithValue__display\">\r\n        <ValueDisplay value={value} />\r\n      </div>\r\n      <div className=\"clueWithValue__description\">{description}</div>\r\n      <div\r\n        className={`clueWithValue__guessMatches alert alert-${\r\n          guessMatches ? \"success\" : \"danger\"\r\n        }`}\r\n      >\r\n        {guessMatches ? \"YES\" : \"NO\"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Clue;\r\n","import React from \"react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nimport GuessEntry from \"./GuessEntry\";\r\nimport {\r\n  IGuess,\r\n  IClueWithValue,\r\n  allDigitsWrong,\r\n  oneDigitInCorrectPlace,\r\n  oneDigitInWrongPlace,\r\n  twoDigitsInWrongPlace,\r\n} from \"./types\";\r\nimport Clue from \"./Clue\";\r\n\r\nconst cluesWithValues: IClueWithValue[] = [\r\n  {\r\n    clue: oneDigitInCorrectPlace,\r\n    value: [6, 8, 2],\r\n  },\r\n  {\r\n    clue: oneDigitInWrongPlace,\r\n    value: [6, 1, 4],\r\n  },\r\n  {\r\n    clue: twoDigitsInWrongPlace,\r\n    value: [2, 0, 6],\r\n  },\r\n  {\r\n    clue: allDigitsWrong,\r\n    value: [7, 3, 8],\r\n  },\r\n  {\r\n    clue: oneDigitInWrongPlace,\r\n    value: [3, 8, 0],\r\n  },\r\n];\r\n\r\nconst AllAreCorrect: React.FunctionComponent = () => (\r\n  <div className=\"alert alert-success\" role=\"alert\">\r\n    All the clues match your value!\r\n  </div>\r\n);\r\n\r\nconst SomeIncorrect: React.FunctionComponent = () => (\r\n  <div className=\"alert alert-danger\" role=\"alert\">\r\n    Some of the clues do not match your value\r\n  </div>\r\n);\r\n\r\nconst LogicPadlock: React.FunctionComponent = () => {\r\n  const [guess, setGuess] = React.useState<IGuess>([0, 0, 0]);\r\n\r\n  const allCorrect = React.useMemo(\r\n    () =>\r\n      cluesWithValues.reduce(\r\n        (acc, curr) => (curr.clue.evaluate(guess, curr.value) ? acc : false),\r\n        true\r\n      ),\r\n    [guess]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <p>Can you open the lock using these clues?</p>\r\n      {cluesWithValues.map((clueWithValue, i) => (\r\n        <Clue key={i} guess={guess} clueWithValue={clueWithValue} />\r\n      ))}\r\n      <p>Set your guess here</p>\r\n      <GuessEntry numberDigits={3} value={guess} onChange={setGuess} />\r\n      <div>Guess: {guess}</div>\r\n      {allCorrect ? <AllAreCorrect /> : <SomeIncorrect />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogicPadlock;\r\n","import LogicPadlock from \"./LogicPadlock\";\r\n\r\nexport default LogicPadlock;\r\n","import React from \"react\";\r\n\r\ninterface Props {\r\n  noteOn: (note: number, velocity: number) => void;\r\n  noteOff: (note: number) => void;\r\n}\r\n\r\ninterface UseMidi {\r\n  inputDevices: WebMidi.MIDIInputMap;\r\n  selectedInputDeviceId?: string;\r\n  onInputDeviceSelected: (id: string) => void;\r\n  error: string;\r\n}\r\n\r\nconst useMidi = ({ noteOn, noteOff }: Props): UseMidi => {\r\n  const [inputDevices, setInputDevices] = React.useState(new Map());\r\n  const [error, setError] = React.useState<string>(\"init\");\r\n  const [selectedInputDeviceId, onInputDeviceSelected] = React.useState<\r\n    string | undefined\r\n  >();\r\n\r\n  React.useEffect(() => {\r\n    // if (navigator.requestMIDIAccess) {\r\n    //   setError(\"This browser supports WebMIDI!\");\r\n    // } else {\r\n    //   setError(\"WebMIDI is not supported in this browser.\");\r\n    // }\r\n\r\n    const onMIDISuccess = (midiAccess: WebMidi.MIDIAccess) => {\r\n      setInputDevices(midiAccess.inputs);\r\n    };\r\n\r\n    const onMIDIFailure = () => {\r\n      setError(\"Could not access your M\");\r\n    };\r\n\r\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\r\n  }, [setInputDevices, setError]);\r\n\r\n  React.useEffect(() => {\r\n    if (!!selectedInputDeviceId) {\r\n      const inputDevice = inputDevices.get(selectedInputDeviceId);\r\n      if (!!inputDevice) {\r\n        inputDevice.onmidimessage = (e: WebMidi.MIDIMessageEvent) => {\r\n          // Mask off the lower nibble (MIDI channel, which we don't care about)\r\n          switch (e.data[0] & 0xf0) {\r\n            case 0x90: {\r\n              if (e.data[2] !== 0) {\r\n                // if velocity != 0, this is a note-on message\r\n                noteOn(e.data[1], e.data[2]);\r\n                return;\r\n              } else {\r\n                noteOff(e.data[1]);\r\n              }\r\n              break;\r\n            }\r\n            // if velocity == 0, fall thru: it's a note-off.  MIDI's weird, y'all.\r\n            case 0x80: {\r\n              noteOff(e.data[1]);\r\n              return;\r\n            }\r\n          }\r\n        };\r\n      }\r\n\r\n      return () => {\r\n        inputDevice.onmidimessage = undefined;\r\n      };\r\n    }\r\n\r\n    return () => {};\r\n  }, [noteOn, noteOff, selectedInputDeviceId, inputDevices]);\r\n\r\n  return { inputDevices, error, selectedInputDeviceId, onInputDeviceSelected };\r\n};\r\n\r\nexport default useMidi;\r\n","import p5 from \"p5\";\r\n\r\ninterface Coord {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nconst TShape: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 0, y: -1 },\r\n  { x: 1, y: 0 }\r\n];\r\nconst LongOne: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 0, y: -1 },\r\n  { x: 0, y: 2 }\r\n];\r\nconst ZRIght: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: -1, y: 1 },\r\n  { x: 1, y: 0 }\r\n];\r\nconst ZLeft: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 1, y: 1 },\r\n  { x: -1, y: 0 }\r\n];\r\nconst LLeft: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 0, y: 2 },\r\n  { x: -1, y: 2 }\r\n];\r\nconst LRight: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 0, y: 2 },\r\n  { x: 1, y: 2 }\r\n];\r\nconst Block: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 1, y: 1 },\r\n  { x: 1, y: 0 }\r\n];\r\nconst SHAPES: Coord[][] = [\r\n  TShape,\r\n  LongOne,\r\n  ZRIght,\r\n  ZLeft,\r\n  LLeft,\r\n  LRight,\r\n  Block\r\n];\r\n\r\nclass Tetronimo {\r\n  note: number;\r\n  velocity: number;\r\n  position: p5.Vector;\r\n  size: number;\r\n  colour: p5.Color;\r\n  accumulating: boolean;\r\n  tailLength: number = 0;\r\n  squares: Coord[];\r\n\r\n  constructor(\r\n    note: number,\r\n    velocity: number,\r\n    position: p5.Vector,\r\n    size: number,\r\n    colour: p5.Color,\r\n    accumulating: boolean\r\n  ) {\r\n    this.note = note;\r\n    this.velocity = velocity;\r\n    this.position = position;\r\n    this.size = size;\r\n    this.colour = colour;\r\n    this.accumulating = accumulating;\r\n    this.squares = SHAPES[Math.floor(Math.random() * SHAPES.length)];\r\n  }\r\n\r\n  update() {\r\n    this.position.y += this.size;\r\n    if (this.accumulating) {\r\n      this.tailLength += 1;\r\n    }\r\n  }\r\n\r\n  draw(s: p5) {\r\n    s.strokeWeight(2);\r\n    s.stroke(\"black\");\r\n    s.fill(this.colour);\r\n    this.squares.forEach(({ x, y }) => {\r\n      s.push();\r\n      s.translate(\r\n        this.position.x + this.size * x,\r\n        this.position.y + this.size * y\r\n      );\r\n      s.square(0, 0, this.size);\r\n      s.pop();\r\n    });\r\n\r\n    s.push();\r\n    s.translate(this.position.x, this.position.y);\r\n    for (let i = 0; i < this.tailLength; i++) {\r\n      s.translate(0, -this.size);\r\n      s.square(0, 0, this.size);\r\n    }\r\n    s.pop();\r\n  }\r\n}\r\n\r\nexport default Tetronimo;\r\n","import p5 from \"p5\";\r\n\r\nclass Tetronimo {\r\n  note: number;\r\n  velocity: number;\r\n  position: p5.Vector;\r\n  size: number;\r\n  colour: p5.Color;\r\n  accumulating: boolean;\r\n  tailLength: number = 0;\r\n\r\n  constructor(\r\n    note: number,\r\n    velocity: number,\r\n    position: p5.Vector,\r\n    size: number,\r\n    colour: p5.Color,\r\n    accumulating: boolean\r\n  ) {\r\n    this.note = note;\r\n    this.velocity = velocity;\r\n    this.position = position;\r\n    this.size = size;\r\n    this.colour = colour;\r\n    this.accumulating = accumulating;\r\n  }\r\n\r\n  update() {\r\n    this.position.y += this.size;\r\n    if (this.accumulating) {\r\n      this.tailLength += 1;\r\n    }\r\n  }\r\n\r\n  draw(s: p5) {\r\n    s.strokeWeight(2);\r\n    s.stroke(this.colour);\r\n    s.fill(\"gold\");\r\n\r\n    s.push();\r\n    s.translate(this.position.x, this.position.y);\r\n    s.triangle(0, -this.size, -(this.size / 2), 0, this.size / 2, 0);\r\n    s.triangle(-this.size / 2, 0, -this.size, this.size, 0, this.size);\r\n    s.triangle(this.size / 2, 0, this.size, this.size, 0, this.size);\r\n    s.pop();\r\n\r\n    s.push();\r\n    s.translate(this.position.x, this.position.y);\r\n    for (let i = 0; i < this.tailLength; i++) {\r\n      s.translate(0, -this.size * 2);\r\n      s.scale(0.9);\r\n      s.triangle(0, -this.size, -(this.size / 2), 0, this.size / 2, 0);\r\n    }\r\n    s.pop();\r\n  }\r\n}\r\n\r\nexport default Tetronimo;\r\n","import React from \"react\";\r\nimport p5 from \"p5\";\r\n\r\nimport Tetronimo from \"./Tetronimo\";\r\nimport Triforce from \"./Triforce\";\r\nimport { Drawable } from \"./types\";\r\n\r\nconst NOTE_MIN = 21;\r\nconst NOTE_MAX = 108;\r\nconst NUMBER_NOTES = NOTE_MAX - NOTE_MIN;\r\n\r\nconst TETRIS_MODE = 0;\r\nconst ZELDA_MODE = 1;\r\n\r\ninterface Note {\r\n  note: number;\r\n  velocity: number;\r\n  accumulating: boolean;\r\n}\r\n\r\nclass SketchContainer {\r\n  blockWidth: number = 0;\r\n  pendingNotes: Note[] = [];\r\n  drawables: Drawable[] = [];\r\n  width: number = 0;\r\n  mode: number = TETRIS_MODE;\r\n\r\n  setWidth(w: number) {\r\n    this.width = w;\r\n  }\r\n\r\n  noteOn(note: number, velocity: number) {\r\n    this.pendingNotes.push({ note, velocity, accumulating: true });\r\n\r\n    switch (note) {\r\n      case 21:\r\n        this.mode = TETRIS_MODE;\r\n        break;\r\n      case 22:\r\n        this.mode = ZELDA_MODE;\r\n        break;\r\n    }\r\n  }\r\n\r\n  noteOff(note: number) {\r\n    this.drawables\r\n      .filter((t) => t.note === note)\r\n      .forEach((t) => (t.accumulating = false));\r\n    this.pendingNotes\r\n      .filter((p) => p.note === note)\r\n      .forEach((p) => (p.accumulating = false));\r\n  }\r\n\r\n  sketch(s: p5) {\r\n    const that = this;\r\n\r\n    s.setup = function () {\r\n      s.createCanvas(that.width, 600);\r\n      s.frameRate(15);\r\n      s.colorMode(s.HSB, s.width);\r\n      that.blockWidth = Math.round(s.width / NUMBER_NOTES);\r\n    };\r\n\r\n    s.keyPressed = function () {\r\n      switch (s.keyCode) {\r\n        case 37: // Left Arrow\r\n          that.mode = TETRIS_MODE;\r\n          break;\r\n        case 39: // Right Arrow\r\n          that.mode = ZELDA_MODE;\r\n          break;\r\n        default:\r\n          that.pendingNotes.push({\r\n            note: s.keyCode,\r\n            velocity: 50,\r\n            accumulating: false,\r\n          });\r\n          break;\r\n      }\r\n    };\r\n\r\n    s.draw = function () {\r\n      switch (that.mode) {\r\n        case TETRIS_MODE:\r\n          s.background(\"darkblue\");\r\n          break;\r\n        case ZELDA_MODE:\r\n          s.background(\"darkgreen\");\r\n          break;\r\n      }\r\n\r\n      that.pendingNotes.forEach(({ note, velocity, accumulating }) => {\r\n        let x = (note - NOTE_MIN) * that.blockWidth;\r\n        let y = 0;\r\n        let colour = s.color(x, s.width, s.width);\r\n        let newDrawable: Drawable | undefined = undefined;\r\n        switch (that.mode) {\r\n          case TETRIS_MODE:\r\n            newDrawable = new Tetronimo(\r\n              note,\r\n              velocity,\r\n              s.createVector(x, y),\r\n              that.blockWidth,\r\n              colour,\r\n              accumulating\r\n            );\r\n            break;\r\n          case ZELDA_MODE:\r\n            newDrawable = new Triforce(\r\n              note,\r\n              velocity,\r\n              s.createVector(x, y),\r\n              that.blockWidth,\r\n              colour,\r\n              accumulating\r\n            );\r\n        }\r\n\r\n        if (!!newDrawable) {\r\n          that.drawables.unshift(newDrawable);\r\n        }\r\n      });\r\n      that.pendingNotes = [];\r\n\r\n      that.drawables.forEach((t) => t.update());\r\n      that.drawables.forEach((t) => t.draw(s));\r\n\r\n      // Filter out any tetronimos that have fallen off the bottom of the screen\r\n      that.drawables = that.drawables.filter((t) => t.position.y < s.height);\r\n    };\r\n  }\r\n}\r\n\r\ninterface UseMidiSketch {\r\n  sketchContainer: SketchContainer;\r\n  noteOn: (note: number, velocity: number) => void;\r\n  noteOff: (note: number) => void;\r\n}\r\n\r\nexport function useMidiSketch(): UseMidiSketch {\r\n  const sketchContainer = React.useMemo(() => new SketchContainer(), []);\r\n\r\n  return {\r\n    sketchContainer,\r\n    noteOn: sketchContainer.noteOn.bind(sketchContainer),\r\n    noteOff: sketchContainer.noteOff.bind(sketchContainer),\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport Select from \"react-select\";\r\nimport p5 from \"p5\";\r\n\r\nimport useMidi from \"./useMidi\";\r\nimport { useMidiSketch } from \"./midiSketch\";\r\n\r\nconst MidiFun: React.FunctionComponent = () => {\r\n  const refContainer = React.useRef(null);\r\n\r\n  const { sketchContainer, noteOn, noteOff } = useMidiSketch();\r\n\r\n  const {\r\n    inputDevices,\r\n    error,\r\n    selectedInputDeviceId,\r\n    onInputDeviceSelected,\r\n  } = useMidi({ noteOn, noteOff });\r\n\r\n  const inputOptions = React.useMemo(() => {\r\n    const options = [];\r\n\r\n    for (let [key, value] of inputDevices.entries()) {\r\n      options.push({ value: key, label: value.name });\r\n    }\r\n\r\n    return options;\r\n  }, [inputDevices]);\r\n\r\n  const selectedValue = React.useMemo(\r\n    () =>\r\n      inputOptions.find(\r\n        (inputOption) => inputOption.value === selectedInputDeviceId\r\n      ),\r\n    [selectedInputDeviceId, inputOptions]\r\n  );\r\n  const onSelectedInputChange = React.useCallback(\r\n    (e) => {\r\n      if (!!e.value) {\r\n        onInputDeviceSelected(e.value);\r\n      }\r\n    },\r\n    [onInputDeviceSelected]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    let sketchInUse: p5;\r\n\r\n    if (!!refContainer) {\r\n      sketchContainer.setWidth(\r\n        ((refContainer.current as unknown) as HTMLElement).clientWidth\r\n      );\r\n      sketchInUse = new p5(\r\n        sketchContainer.sketch.bind(sketchContainer),\r\n        (refContainer.current as unknown) as HTMLElement\r\n      );\r\n    }\r\n\r\n    return () => {\r\n      if (!!sketchInUse) {\r\n        sketchInUse.remove();\r\n      }\r\n    };\r\n  }, [sketchContainer, refContainer]);\r\n\r\n  return (\r\n    <div>\r\n      <p>{error}</p>\r\n\r\n      <Select\r\n        value={selectedValue}\r\n        onChange={onSelectedInputChange}\r\n        options={inputOptions}\r\n      />\r\n      <div ref={refContainer} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MidiFun;\r\n","import React from \"react\";\n\nimport { ControlledInput } from \"src/types\";\n\ninterface Props extends ControlledInput<string> {\n  sketchNames: string[];\n  className?: string;\n}\n\nconst SketchPicker: React.FunctionComponent<Props> = ({\n  sketchNames,\n  value,\n  onChange,\n  className,\n}: Props) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => onChange(value),\n    [onChange]\n  );\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      <option />\n      {sketchNames.map((s) => (\n        <option key={s} value={s}>\n          {s}\n        </option>\n      ))}\n    </select>\n  );\n};\n\nexport default SketchPicker;\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"../useSketch\";\n\nconst WIDTH = 600;\nconst HEIGHT = 300;\nconst FIRST_MOONS = 3;\nconst SECOND_MOONS = 3;\n\nexport default class GravityOrbits extends AbstractSketch<{}> {\n  sketch(s: p5) {\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.angleMode(s.DEGREES);\n    };\n\n    s.draw = function () {\n      s.background(0);\n      s.fill(\"yellow\");\n\n      s.translate(WIDTH / 2, HEIGHT / 2);\n      s.ellipse(0, 0, WIDTH / 10);\n\n      for (let i = 0; i < FIRST_MOONS; i++) {\n        s.push();\n        s.fill(\n          s.color(\n            (s.frameCount + s.map(i, 0, FIRST_MOONS, 0, 255)) % 255,\n            255,\n            255\n          )\n        );\n        s.rotate(s.frameCount * 0.5 + s.map(i, 0, FIRST_MOONS, 0, 360));\n        s.translate(WIDTH / 12, HEIGHT / 12);\n        s.ellipse(0, 0, WIDTH / 13);\n        for (let j = 0; j < SECOND_MOONS; j++) {\n          s.push();\n          s.fill(\n            s.color(\n              (s.frameCount + s.map(j, 0, FIRST_MOONS, 0, 255)) % 255,\n              255,\n              255\n            )\n          );\n          s.rotate(s.frameCount * 0.5 + s.map(j, 0, SECOND_MOONS, 0, 360));\n          s.translate(WIDTH / 12, HEIGHT / 12);\n          s.ellipse(0, 0, WIDTH / 20);\n\n          s.pop();\n        }\n\n        s.pop();\n      }\n    };\n  };\n}\n","import Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport React from \"react\";\nimport p5 from \"p5\";\nimport { PointDataItem } from \"src/components/p5/Boid//types\";\n\ninterface Props {\n  rows: number;\n  columns: number;\n}\n\nexport interface UseGridGraph {\n  version: number;\n  topLeft: PointDataItem;\n  bottomRight: PointDataItem;\n  graph: Graph<PointDataItem>;\n  connect: (vertex: PointDataItem) => void;\n  disconnect: (vertex: PointDataItem) => void;\n  toggleConnection: (vertex: PointDataItem) => void;\n}\n\nexport function createP5Vector(x: number, y: number): p5.Vector {\n  return p5.Vector.random2D().set(x, y);\n}\n\nexport function createKeyedPoint(x: number, y: number): PointDataItem {\n  return {\n    key: `${x}-${y}`,\n    label: `${x}, ${y}`,\n    value: { x, y },\n  };\n}\n\nexport default ({ rows, columns }: Props): UseGridGraph => {\n  const [version, tickVersion] = React.useReducer((s) => s + 1, 0);\n\n  const graph = React.useRef<Graph<PointDataItem>>(new Graph());\n\n  const connect = React.useCallback(\n    (point: PointDataItem) => {\n      if (point.value.y > 0) {\n        const to: PointDataItem = createKeyedPoint(\n          point.value.x,\n          point.value.y - 1\n        );\n        graph.current.addBiDirectionalEdge(point, to);\n      }\n      if (point.value.y < rows - 1) {\n        const to: PointDataItem = createKeyedPoint(\n          point.value.x,\n          point.value.y + 1\n        );\n        graph.current.addBiDirectionalEdge(point, to);\n      }\n      if (point.value.x > 0) {\n        const to: PointDataItem = createKeyedPoint(\n          point.value.x - 1,\n          point.value.y\n        );\n        graph.current.addBiDirectionalEdge(point, to);\n      }\n      if (point.value.x < columns - 1) {\n        const to: PointDataItem = createKeyedPoint(\n          point.value.x + 1,\n          point.value.y\n        );\n        graph.current.addBiDirectionalEdge(point, to);\n      }\n      tickVersion();\n    },\n    [rows, columns, graph, tickVersion]\n  );\n  const disconnect = React.useCallback(\n    (vertex: PointDataItem) => {\n      graph.current.removeVertex(vertex);\n      graph.current.addVertex(vertex);\n\n      tickVersion();\n    },\n    [graph]\n  );\n\n  const toggleConnection = React.useCallback(\n    (vertex: PointDataItem) => {\n      if (\n        graph.current.getIncoming(vertex).length > 0 ||\n        graph.current.getOutgoing(vertex).length > 0\n      ) {\n        disconnect(vertex);\n      } else {\n        connect(vertex);\n      }\n    },\n    [graph, disconnect, connect]\n  );\n\n  React.useEffect(() => {\n    graph.current.clearAll();\n\n    for (let col = 0; col < columns; col++) {\n      for (let row = 0; row < rows; row++) {\n        graph.current.addVertex(createKeyedPoint(col, row));\n      }\n    }\n\n    graph.current.vertices.forEach((v) => connect(v));\n    disconnect(createKeyedPoint(0, 7));\n    disconnect(createKeyedPoint(1, 6));\n    disconnect(createKeyedPoint(2, 5));\n    disconnect(createKeyedPoint(3, 4));\n    disconnect(createKeyedPoint(4, 3));\n    disconnect(createKeyedPoint(4, 4));\n    disconnect(createKeyedPoint(4, 5));\n\n    disconnect(createKeyedPoint(8, 1));\n    disconnect(createKeyedPoint(8, 2));\n    disconnect(createKeyedPoint(8, 3));\n    disconnect(createKeyedPoint(8, 4));\n\n    disconnect(createKeyedPoint(9, 4));\n    disconnect(createKeyedPoint(9, 7));\n    disconnect(createKeyedPoint(10, 3));\n    disconnect(createKeyedPoint(11, 1));\n    disconnect(createKeyedPoint(11, 6));\n    disconnect(createKeyedPoint(11, 7));\n\n    disconnect(createKeyedPoint(12, 1));\n    disconnect(createKeyedPoint(12, 4));\n    disconnect(createKeyedPoint(12, 5));\n\n    tickVersion();\n  }, [rows, columns, connect, disconnect]);\n\n  return {\n    version,\n    topLeft: React.useMemo(() => createKeyedPoint(0, 0), []),\n    bottomRight: React.useMemo(() => createKeyedPoint(columns - 1, rows - 1), [\n      rows,\n      columns,\n    ]),\n    graph: graph.current,\n    connect,\n    disconnect,\n    toggleConnection,\n  };\n};\n","import p5 from \"p5\";\nimport { AbstractBoid } from \"./types\";\nimport { createP5Vector } from \"src/components/ComputerScience/Algorithms/Routing/GridRouting/useGridGraph\";\n\nconst DEFAULT_COLOUR = \"red\";\nconst DEFAULT_BORDER_COLOUR = \"black\";\nconst DEFAULT_BORDER_WEIGHT = 1;\nconst DEFAULT_MAX_SPEED = 1.5;\nconst DEFAULT_MAX_FORCE = 0.5;\nconst DEFAULT_MIN_FORCE = 0.01;\n\nexport default class Boid<T> implements AbstractBoid<T> {\n  entity: T;\n  label?: string;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  acceleration: p5.Vector;\n  radius: number;\n  colour: string;\n  borderWeight: number;\n  borderColour: string;\n  maxSpeed: number;\n  maxForce: number;\n  minForce: number;\n  environmentalFriction: number;\n  grabbed: boolean;\n  lockX: boolean;\n  lockY: boolean;\n  initialPosition: p5.Vector;\n\n  constructor({\n    entity,\n    position,\n    radius,\n    label,\n    colour = DEFAULT_COLOUR,\n    borderWeight = DEFAULT_BORDER_WEIGHT,\n    borderColour = DEFAULT_BORDER_COLOUR,\n    maxSpeed = DEFAULT_MAX_SPEED,\n    maxForce = DEFAULT_MAX_FORCE,\n    minForce = DEFAULT_MIN_FORCE,\n    environmentalFriction = 0.9,\n    lockX = false,\n    lockY = false,\n  }: AbstractBoid<T>) {\n    this.entity = entity;\n    this.position = position;\n    this.label = label;\n    this.velocity = createP5Vector(0, 0);\n    this.acceleration = createP5Vector(0, 0);\n    this.radius = radius;\n    this.colour = colour;\n    this.borderWeight = borderWeight;\n    this.borderColour = borderColour;\n    this.maxSpeed = maxSpeed;\n    this.maxForce = maxForce;\n    this.minForce = minForce;\n    this.environmentalFriction = environmentalFriction;\n    this.grabbed = false;\n    this.lockX = lockX;\n    this.lockY = lockY;\n    this.initialPosition = position.copy();\n  }\n\n  grab() {\n    this.grabbed = true;\n    this.velocity.mult(0);\n    this.acceleration.mult(0);\n  }\n\n  dragged(mousePosition: p5.Vector) {\n    if (this.grabbed) {\n      this.position = mousePosition;\n      this.lockAxis();\n    }\n  }\n\n  releaseGrab() {\n    this.grabbed = false;\n  }\n\n  applyForce(force: p5.Vector) {\n    force.limit(this.maxForce);\n    this.acceleration.add(force);\n  }\n\n  lockAxis() {\n    // Implement axis locking\n    if (this.lockX) {\n      this.position.x = this.initialPosition.x;\n    }\n    if (this.lockY) {\n      this.position.y = this.initialPosition.y;\n    }\n  }\n\n  update(s: p5) {\n    if (!this.grabbed && this.acceleration.mag() > this.minForce) {\n      this.velocity.add(this.acceleration);\n      this.velocity.mult(this.environmentalFriction);\n      this.position.add(this.velocity);\n    }\n    this.acceleration.mult(0);\n    this.lockAxis();\n  }\n\n  draw(s: p5) {\n    // Expect to be overridden\n    s.stroke(this.borderColour);\n    s.strokeWeight(this.borderWeight);\n    s.fill(this.colour);\n    s.circle(this.position.x, this.position.y, this.radius);\n  }\n\n  seek(target: p5.Vector): void {\n    let desired = p5.Vector.sub(target, this.position);\n    desired.normalize();\n    desired.mult(this.maxSpeed);\n    desired.sub(this.velocity);\n    this.applyForce(desired);\n  }\n\n  flee(target: p5.Vector, radius: number = 20): void {\n    let desired = p5.Vector.sub(target, this.position);\n    if (desired.mag() === 0) {\n      this.applyForce(p5.Vector.random2D().mult(0.01));\n    } else if (desired.mag() < radius) {\n      desired.normalize();\n      desired.mult(-this.maxSpeed);\n      desired.sub(this.velocity);\n      this.applyForce(desired);\n    }\n  }\n\n  spring(tether: p5.Vector, springLength: number, tolerance: number) {\n    let desired = p5.Vector.sub(tether, this.position);\n    let diff = desired.mag() - springLength;\n    if (diff < -tolerance) {\n      desired.mult(-this.maxSpeed);\n      this.applyForce(desired);\n    } else if (diff > tolerance) {\n      desired.mult(+this.maxSpeed);\n      this.applyForce(desired);\n    }\n  }\n\n  arrive(s: p5, target: p5.Vector, arriveRadius: number): void {\n    let desired = p5.Vector.sub(target, this.position);\n    let d = desired.mag();\n    desired.normalize();\n    if (d < arriveRadius) {\n      let m = s.map(d, 0, arriveRadius, 0, this.maxSpeed);\n      desired.mult(m);\n    } else {\n      desired.mult(this.maxSpeed);\n    }\n    desired.sub(this.velocity);\n    this.applyForce(desired);\n  }\n\n  onScreen(s: p5) {\n    const { x, y } = this.position;\n    const { width, height } = s;\n    return x > 0 && x < width && y > 0 && y < height;\n  }\n}\n","import FlowField from \"./FlowField\";\nimport Boid from \"../../Boid/Boid\";\nimport p5 from \"p5\";\n\nexport default class ArrowBoidBoid extends Boid<number> {\n  colour: string = \"red\";\n\n  follow(flow: FlowField) {\n    let desired = flow.lookup(this.position);\n    desired.mult(this.maxSpeed);\n    desired.sub(this.velocity);\n    desired.limit(this.maxForce);\n    return desired;\n  }\n\n  draw(s: p5) {\n    let theta = this.velocity.heading() + s.PI / 2;\n    s.fill(this.colour);\n    s.noStroke();\n    s.push();\n    s.translate(this.position.x, this.position.y);\n    s.rotate(theta);\n    s.beginShape();\n    s.vertex(0, -this.radius * 2);\n    s.vertex(-this.radius, this.radius * 2);\n    s.vertex(this.radius, this.radius * 2);\n    s.endShape();\n    s.pop();\n  }\n}\n","import p5 from \"p5\";\nimport drawArrow from \"./drawArrow\";\n\ninterface FlowFieldArgs {\n  resolution: number;\n  sketch: p5;\n}\n\ninterface FlowCell {\n  position: p5.Vector;\n  angle: number;\n  force: p5.Vector;\n}\n\nexport default class FlowField {\n  resolution: number;\n  sketch: p5;\n  cols: number;\n  rows: number;\n  field: Array<Array<FlowCell>>;\n  flowCells: Array<FlowCell>;\n\n  constructor({ sketch, resolution }: FlowFieldArgs) {\n    this.sketch = sketch;\n    const { width, height } = this.sketch;\n    this.resolution = resolution;\n    this.cols = width / resolution;\n    this.rows = height / resolution;\n    this.field = [];\n    this.flowCells = [];\n    this.init();\n  }\n\n  init() {\n    const s = this.sketch;\n    let xoff = 0;\n    for (let i = 0; i < this.cols; i++) {\n      let yoff = 0;\n      let yField: Array<FlowCell> = [];\n      for (let j = 0; j < this.rows; j++) {\n        let theta = s.map(s.noise(xoff, yoff), 0, 1, 0, s.TWO_PI);\n        let flowCell: FlowCell = {\n          position: s.createVector(i * this.resolution, j * this.resolution),\n          angle: theta,\n          force: s.createVector(s.cos(theta), s.sin(theta)),\n        };\n        yField.push(flowCell);\n        this.flowCells.push(flowCell);\n        yoff += 0.1;\n      }\n      this.field.push(yField);\n\n      xoff += 0.1;\n    }\n  }\n\n  attract(focalPoint: p5.Vector, range: number) {\n    const s = this.sketch;\n\n    this.flowCells.forEach((flowCell) => {\n      let diff: p5.Vector = p5.Vector.sub(focalPoint, flowCell.position);\n      if (diff.mag() < range) {\n        let a: number = diff.heading();\n        flowCell.angle = a;\n        flowCell.force = s.createVector(s.cos(a), s.sin(a));\n      }\n    });\n  }\n\n  display() {\n    this.field.forEach((row) => {\n      row.forEach(({ position, angle, force }) => {\n        drawArrow({\n          sketch: this.sketch,\n          position,\n          angle,\n          colour: 50,\n          radius: force.mag() * 2,\n        });\n      });\n    });\n  }\n\n  lookup(lookup: p5.Vector) {\n    const s = this.sketch;\n    let column = Math.floor(\n      s.constrain(lookup.x / this.resolution, 0, this.cols - 1)\n    );\n    let row = Math.floor(\n      s.constrain(lookup.y / this.resolution, 0, this.rows - 1)\n    );\n    return this.field[column][row].force.copy();\n  }\n}\n","import p5 from \"p5\";\n\ninterface ArrowProps {\n  sketch: p5;\n  position: p5.Vector;\n  angle: number;\n  colour: any;\n  radius: number;\n}\n\nexport default ({ sketch: s, position, angle, colour, radius }: ArrowProps) => {\n  let theta = angle + s.PI / 2;\n  s.fill(colour);\n  s.noStroke();\n  s.push();\n  s.translate(position.x, position.y);\n  s.rotate(theta);\n  s.beginShape();\n  s.vertex(0, -radius * 2);\n  s.vertex(-radius, radius * 2);\n  s.vertex(radius, radius * 2);\n  s.endShape();\n  s.pop();\n};\n","import p5 from \"p5\";\nimport Boid from \"./ArrowBoid\";\nimport FlowField from \"./FlowField\";\nimport { AbstractSketch } from \"../../useSketch\";\n\nconst COLOURS = [\n  \"red\",\n  \"orange\",\n  \"yellow\",\n  \"green\",\n  \"blue\",\n  \"indigo\",\n  \"violet\",\n];\nconst MINIMUM_BOIDS = 200;\nconst RADIUS = 3;\nconst RESOLUTION = 10;\nconst MOUSE_RANGE = RESOLUTION * 3;\n\nfunction randomInt(s: p5, from: number, to: number) {\n  return Math.floor(s.map(Math.random(), 0, 1, from, to));\n}\n\nexport default class RainbowFlowField extends AbstractSketch<{}> {\n  sketch(s: p5) {\n    let boids: Array<Boid> = [];\n    let flowField: FlowField;\n\n    s.setup = function () {\n      s.createCanvas(400, 400);\n      flowField = new FlowField({\n        sketch: s,\n        resolution: RESOLUTION,\n      });\n    };\n\n    s.mouseDragged = function () {\n      flowField.attract(s.createVector(s.mouseX, s.mouseY), MOUSE_RANGE);\n    };\n\n    s.draw = function () {\n      s.background(0);\n\n      // let mouseTarget = createVector(mouseX, mouseY);\n      // boids.forEach(boid => {\n      //   let findMouse = boid.arrive(mouseTarget, 50);\n      //   boid.applyForce(findMouse);\n      // });\n\n      boids.forEach((boid) => {\n        let force = boid.follow(flowField);\n        boid.applyForce(force);\n      });\n\n      flowField.display();\n      boids.forEach((boid) => {\n        boid.update(s);\n        boid.draw(s);\n      });\n\n      boids = boids.filter((b) => b.onScreen(s));\n\n      // Keep the population up\n      while (boids.length < MINIMUM_BOIDS) {\n        let aBoid = new Boid({\n          entity: boids.length,\n          position: s.createVector(\n            randomInt(s, 0, s.width),\n            randomInt(s, 0, s.height)\n          ),\n          radius: RADIUS,\n        });\n        aBoid.colour = s.random(COLOURS);\n        boids.push(aBoid);\n      }\n    };\n  };\n}\n","import p5 from \"p5\";\n\nimport ArrowBoid from \"../rainbowFlowField/ArrowBoid\";\nimport { AbstractSketch } from \"../../useSketch\";\n\n/**\n * Generate a random integer within a p5 sketch.\n *\n * @param s The p5 sketch, provides library function .map()\n * @param from The lower bound of the number (inclusive)\n * @param to The upper bound of the number to generate (exclusive)\n */\nfunction randomInt(s: p5, from: number, to: number) {\n  return Math.floor(s.map(Math.random(), 0, 1, from, to));\n}\n\n// Each boid will be one of these colours\nconst COLOURS: string[] = [\"red\", \"blue\", \"green\"];\n\n// Clip the speed of all boids to this\nconst MAX_SPEED = 1.5;\n\n// Clip the force applied per frame\nconst MAX_FORCE = 0.5;\n\n// Size of boid\nconst RADIUS = 3;\n\nexport default class GravitySketch extends AbstractSketch<{}> {\n  sketch(s: p5) {\n    let boids: Array<ArrowBoid> = [];\n    let centreScreen: p5.Vector;\n\n    // Create the initial list of boids\n    s.setup = function () {\n      s.createCanvas(400, 400);\n      centreScreen = s.createVector(200, 200);\n\n      for (let i = 0; i < 5; i++) {\n        // Place the boids randomly anywhere within the view\n        let position = s.createVector(\n          randomInt(s, 0, s.width),\n          randomInt(s, 0, s.height)\n        );\n\n        // Each boid will be a random colour\n        let aBoid = new ArrowBoid({\n          entity: i,\n          position,\n          radius: RADIUS,\n          maxSpeed: MAX_SPEED,\n          maxForce: MAX_FORCE,\n        });\n        aBoid.colour = s.random(COLOURS);\n        boids.push(aBoid);\n      }\n    };\n\n    s.draw = function () {\n      // Draw the background\n      s.background(0);\n\n      // Loop through the boids\n      boids.forEach((b) => {\n        b.seek(centreScreen);\n      });\n\n      // Loop through each boid, calling update\n      boids.forEach((b) => b.update(s));\n\n      // Loop through each boid, calling display\n      boids.forEach((b) => b.draw(s));\n\n      // Filter boids by calling onScreen\n      boids = boids.filter((b) => b.onScreen(s));\n    };\n  };\n}\n","import BinaryTree from \"comp-sci-maths-lib/dist/dataStructures/binaryTree/BinaryTree\";\n\nexport enum TreeDirection {\n  up = \"up\",\n  down = \"down\",\n}\n\nexport interface Config<T> {\n  binaryTree: BinaryTree<T>;\n  treeDirection: TreeDirection;\n  toString: (v: T) => string;\n}\n","import gravityOrbits from \"./gravityOrbits\";\nimport rainbowFlowField from \"./rainbowFlowField\";\nimport gravityDemo from \"./gravityDemo\";\n\nexport default {\n  gravityOrbits,\n  rainbowFlowField,\n  gravityDemo,\n};\n","import React from \"react\";\n\nimport Asteroids from \"./Asteroids\";\nimport Dobble from \"./Dobble\";\nimport LogicPadlock from \"./LogicPadlock\";\nimport MidiFun from \"./MidiFun\";\nimport { Page } from \"src/types\";\nimport P5SketchLibrary from \"../p5/P5SketchLibrary\";\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\nconst experimentPages: Page[] = [\n  {\n    component: Asteroids,\n    href: \"/experiments/asteroids\",\n    description: \"A demonstration of simple game development for year 7\",\n    title: \"Asteroids\",\n  },\n  {\n    component: Dobble,\n    href: \"/experiments/dobble\",\n    description: \"Derive a card set for Dobble\",\n    title: \"Dobble\",\n  },\n  {\n    component: LogicPadlock,\n    href: \"/experiments/logicPadlock\",\n    description:\n      \"Logic puzzle involving a series of rules that can be used to determine the secret combination\",\n    title: \"Logic Padlock\",\n  },\n  {\n    component: MidiFun,\n    href: \"/experiments/midiFun\",\n    description: \"A digital piano (Chrome only...I think)\",\n    title: \"MIDI\",\n  },\n  {\n    component: P5SketchLibrary,\n    href: \"/experiments/sketches\",\n    description: \"A series of random sketches in p5.js\",\n    title: \"P5 Sketches\",\n  },\n] as Page[];\n\nconst Experiments: React.FunctionComponent = () => (\n  <CardCollection cards={experimentPages} />\n);\n\nexport const page: Page = {\n  href: \"/experiments\",\n  title: \"Experiments\",\n  description: \"Random projects of my own\",\n  component: Experiments,\n};\nexport const pages: Page[] = [page, ...experimentPages];\n","import React from \"react\";\n\nimport SketchPicker from \"../SketchPicker\";\nimport sketches from \"../sketches\";\nimport useSketch from \"../useSketch\";\n\nconst P5SketchLibrary: React.FunctionComponent = () => {\n  const [sketch, onSketchChange] = React.useState<string>(\n    Object.keys(sketches)[0]\n  );\n\n  const { refContainer } = useSketch(sketches[sketch]);\n\n  return (\n    <div>\n      <h1>Sketches</h1>\n      <form>\n        <div className=\"form-group\">\n          <label>Sketch</label>\n          <SketchPicker\n            sketchNames={Object.keys(sketches)}\n            className=\"form-control\"\n            value={sketch}\n            onChange={onSketchChange}\n          />\n        </div>\n      </form>\n\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default P5SketchLibrary;\n","import React from \"react\";\n\ninterface Props {\n  min?: number;\n  max?: number;\n}\n\ninterface UseLoopCounter {\n  count: number;\n  goToFirst: () => void;\n  goToLast: () => void;\n  increment: (amount?: number) => void;\n  decrement: (amount?: number) => void;\n}\n\ninterface ReducerState {\n  min: number;\n  max: number;\n  count: number;\n}\ninterface BaseAction {\n  type: string;\n  amount: number;\n}\ninterface SetMinAction extends BaseAction {\n  type: \"setmin\";\n}\ninterface SetMaxAction extends BaseAction {\n  type: \"setmax\";\n}\ninterface GoToFirstAction extends BaseAction {\n  type: \"goToFirst\";\n}\ninterface GoToLastAction extends BaseAction {\n  type: \"goToLast\";\n}\ninterface IncrementAction extends BaseAction {\n  type: \"increment\";\n}\ninterface DecrementAction extends BaseAction {\n  type: \"decrement\";\n}\ntype Action =\n  | SetMinAction\n  | SetMaxAction\n  | GoToFirstAction\n  | GoToLastAction\n  | IncrementAction\n  | DecrementAction;\n\nconst reducer = (\n  state: ReducerState,\n  { type, amount = 1 }: Action\n): ReducerState => {\n  switch (type) {\n    case \"goToFirst\": {\n      return {\n        ...state,\n        count: state.min,\n      };\n    }\n    case \"goToLast\": {\n      return {\n        ...state,\n        count: state.max,\n      };\n    }\n    case \"setmin\": {\n      return {\n        ...state,\n        min: amount,\n        count: state.count >= amount ? state.count : amount,\n      };\n    }\n    case \"setmax\": {\n      return {\n        ...state,\n        count: state.count <= amount ? state.count : amount,\n        max: amount,\n      };\n    }\n    case \"increment\": {\n      let count = state.count + amount;\n      if (count > state.max) {\n        count -= state.max - state.min + 1;\n      }\n      return {\n        ...state,\n        count,\n      };\n    }\n    case \"decrement\": {\n      let count = state.count - amount;\n      if (count < state.min) {\n        count += state.max - state.min + 1;\n      }\n      return {\n        ...state,\n        count,\n      };\n    }\n  }\n};\n\nconst useLoopCounter = ({ min = 0, max = 100 }: Props): UseLoopCounter => {\n  const [{ count }, dispatch] = React.useReducer(reducer, {\n    min,\n    max,\n    count: min,\n  });\n\n  React.useEffect(() => dispatch({ type: \"setmin\", amount: min }), [min]);\n  React.useEffect(() => dispatch({ type: \"setmax\", amount: max }), [max]);\n\n  return {\n    count,\n    goToFirst: React.useCallback(\n      () => dispatch({ type: \"goToFirst\", amount: 0 }),\n      []\n    ),\n    goToLast: React.useCallback(\n      () => dispatch({ type: \"goToLast\", amount: 0 }),\n      []\n    ),\n    increment: React.useCallback(\n      (amount: number = 1) => dispatch({ type: \"increment\", amount }),\n      []\n    ),\n    decrement: React.useCallback(\n      (amount: number = 1) => dispatch({ type: \"decrement\", amount }),\n      []\n    ),\n  };\n};\n\nexport default useLoopCounter;\n","import React from \"react\";\n\nimport useLoopCounter from \"./useLoopCounter\";\n\ninterface Props<T> {\n  items: T[];\n}\n\nexport interface UseItemInArray<T> {\n  item?: T;\n  index: number;\n  goToFirst: () => void;\n  goToLast: () => void;\n  stepForward: () => void;\n  stepBackward: () => void;\n}\n\nconst useItemInArray = <T>({ items }: Props<T>): UseItemInArray<T> => {\n  const {\n    count: index,\n    goToFirst,\n    goToLast,\n    decrement,\n    increment,\n  } = useLoopCounter({\n    max: items.length > 0 ? items.length - 1 : 0,\n  });\n\n  // The items can be updated before the index has a chance to change,\n  // so we must guard against running off the end of the items list.\n  const item = React.useMemo(() => items[index], [items, index]);\n\n  return {\n    item,\n    index,\n    goToFirst,\n    goToLast,\n    stepForward: React.useCallback(() => increment(1), [increment]),\n    stepBackward: React.useCallback(() => decrement(1), [decrement]),\n  };\n};\n\nexport default useItemInArray;\n","import React from \"react\";\n\nimport \"./searchBox.css\";\n\nimport useItemInArray from \"../lib/useLoopCounter/useItemInArray\";\n\ninterface Props<T> {\n  items: T[];\n  filter: (item: T, criteria: string) => boolean;\n  itemChosen: (item: T) => void;\n  itemToString: (item: T) => string;\n}\n\nconst SearchBox = <T,>({\n  items,\n  filter,\n  itemChosen,\n  itemToString,\n}: Props<T>) => {\n  const [criteria, setCriteria] = React.useState<string>(\"\");\n\n  const inputRef = React.useRef<HTMLInputElement>(null);\n\n  const matchedItems: T[] = React.useMemo(\n    () => (criteria.length > 2 ? items.filter((p) => filter(p, criteria)) : []),\n    [items, criteria, filter]\n  );\n\n  const [hasFocus, setHasFocus] = React.useState<boolean>(false);\n\n  const onCriteriaFocus: React.FocusEventHandler<HTMLInputElement> = React.useCallback(\n    () => setHasFocus(true),\n    [setHasFocus]\n  );\n  const onCriteriaBlur: React.FocusEventHandler<HTMLInputElement> = React.useCallback(\n    () => setHasFocus(false),\n    [setHasFocus]\n  );\n\n  const {\n    item,\n    index: selectedIndex,\n    stepForward,\n    stepBackward,\n  } = useItemInArray({ items: matchedItems });\n\n  const matchedItemsWithHandlers = React.useMemo(\n    () =>\n      matchedItems.map((item, i) => ({\n        key: i.toString(10),\n        itemStr: itemToString(item),\n        onClick: () => itemChosen(item),\n        className: i === selectedIndex ? \"autocomplete-active\" : \"\",\n      })),\n    [matchedItems, selectedIndex, itemChosen, itemToString]\n  );\n\n  const onCriteriaChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setCriteria(value),\n    [setCriteria]\n  );\n\n  const onCriteriaKeyDown: React.KeyboardEventHandler<HTMLInputElement> = React.useCallback(\n    (e) => {\n      switch (e.keyCode) {\n        case 40: {\n          /*If the arrow DOWN key is pressed,\n            increase the currentFocus variable:*/\n          stepForward();\n          break;\n        }\n        case 38: {\n          /*If the arrow UP key is pressed,\n        decrease the currentFocus variable:*/\n          stepBackward();\n          break;\n        }\n        case 13: {\n          /*If the ENTER key is pressed, prevent the form from being submitted,*/\n          e.preventDefault();\n          if (item !== undefined) {\n            if (inputRef.current !== null) {\n              inputRef.current.blur();\n            }\n            /*and simulate a click on the \"active\" item:*/\n            itemChosen(item);\n            setCriteria(itemToString(item));\n          }\n        }\n      }\n    },\n    [item, setCriteria, itemToString, itemChosen, stepForward, stepBackward]\n  );\n\n  return (\n    <form className=\"form-inline my-2 my-lg-0\">\n      <div className=\"autocomplete\">\n        <input\n          ref={inputRef}\n          className=\"form-control mr-sm-2\"\n          type=\"search\"\n          placeholder=\"Search\"\n          aria-label=\"Search\"\n          value={criteria}\n          onChange={onCriteriaChange}\n          onKeyDown={onCriteriaKeyDown}\n          onFocus={onCriteriaFocus}\n          onBlur={onCriteriaBlur}\n        />\n        {hasFocus && matchedItems.length > 0 && (\n          <div className=\"autocomplete-items\">\n            {matchedItemsWithHandlers.map(\n              ({ itemStr, onClick, key, className }) => (\n                <div key={key} className={className} onMouseDown={onClick}>\n                  {itemStr}\n                  <input type=\"hidden\" value={itemStr}></input>\n                </div>\n              )\n            )}\n          </div>\n        )}\n      </div>\n      <button className=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default SearchBox;\n","export const PRE_ORDER = \"Pre Order\";\nexport const IN_ORDER = \"In Order\";\nexport const POST_ORDER = \"Post Order\";\n\nexport const binaryTreeTraversalAlgorithms: string[] = [\n  PRE_ORDER,\n  IN_ORDER,\n  POST_ORDER,\n];\n","import React from \"react\";\n\nimport { ControlledInput } from \"src/types\";\nimport { binaryTreeTraversalAlgorithms } from \"./common\";\n\ninterface Props extends ControlledInput<string> {\n  className?: string;\n}\n\nconst BinaryTreeTraversalAlgorithmPicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => onChange(value),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(binaryTreeTraversalAlgorithms[0]), [onChange]);\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      <option />\n      {binaryTreeTraversalAlgorithms.map((value) => (\n        <option key={value} value={value}>\n          {value}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker<T> {\n  algorithmName: string;\n  componentProps: Props;\n}\n\nexport const usePicker = <T,>(className?: string): UsePicker<T> => {\n  const [value, onChange] = React.useState<string>(\n    binaryTreeTraversalAlgorithms[0]\n  );\n\n  return {\n    algorithmName: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default BinaryTreeTraversalAlgorithmPicker;\n","import React from \"react\";\nimport BinaryTree from \"comp-sci-maths-lib/dist/dataStructures/binaryTree/BinaryTree\";\nimport traversePreOrder from \"comp-sci-maths-lib/dist/algorithms/binaryTreeTraversal/traversePreOrder\";\nimport traverseInOrder from \"comp-sci-maths-lib/dist/algorithms/binaryTreeTraversal/traverseInOrder\";\nimport traversePostOrder from \"comp-sci-maths-lib/dist/algorithms/binaryTreeTraversal/traversePostOrder\";\nimport { VisitFunction } from \"comp-sci-maths-lib/dist/types\";\n\nimport { PRE_ORDER, IN_ORDER, POST_ORDER } from \"./common\";\n\ninterface Props<T> {\n  version: number;\n  algorithmName: string;\n  binaryTree: BinaryTree<T>;\n}\n\nexport interface UseBinaryTreeTraversal<T> {\n  visitedItems: T[];\n}\n\nconst useBinaryTreeTraversal = <T>({\n  version,\n  algorithmName,\n  binaryTree,\n}: Props<T>): UseBinaryTreeTraversal<T> => {\n  const visitedItems: T[] = React.useMemo(() => {\n    const items: T[] = [];\n    const visit: VisitFunction<T> = (d: T) => items.push(d);\n\n    switch (algorithmName) {\n      case PRE_ORDER:\n        traversePreOrder(binaryTree, visit);\n        break;\n      case IN_ORDER:\n        traverseInOrder(binaryTree, visit);\n        break;\n      case POST_ORDER:\n        traversePostOrder(binaryTree, visit);\n        break;\n    }\n\n    return items;\n    /// ewwww\n    // eslint-disable-next-line\n  }, [version, algorithmName, binaryTree]);\n\n  return { visitedItems };\n};\n\nexport default useBinaryTreeTraversal;\n","import React from \"react\";\nimport BinaryTree from \"comp-sci-maths-lib/dist/dataStructures/binaryTree/BinaryTree\";\nimport { stringComparator } from \"comp-sci-maths-lib/dist/common\";\n\nexport interface UseBinaryTreeBuilder {\n  binaryTree: BinaryTree<string>;\n  version: number;\n  addValue: (value: string) => void;\n  clearAll: () => void;\n}\n\nexport const defaultBinaryTree: BinaryTree<string> = new BinaryTree<string>(\n  stringComparator\n)\n  .add(\"B\")\n  .add(\"A\")\n  .add(\"D\")\n  .add(\"E\")\n  .add(\"C\")\n  .add(\"F\");\n\nconst useBinaryTreeBuilder = (\n  initialTree: BinaryTree<string> = defaultBinaryTree\n): UseBinaryTreeBuilder => {\n  const binaryTree = React.useRef(initialTree);\n  const [version, tickVersion] = React.useReducer((s) => s + 1, 0);\n\n  const addValue = React.useCallback(\n    (value: string) => {\n      binaryTree.current.add(value);\n      tickVersion();\n    },\n    [binaryTree]\n  );\n\n  const clearAll = React.useCallback(() => {\n    binaryTree.current.value = undefined;\n    binaryTree.current.leftBranch = undefined;\n    binaryTree.current.rightBranch = undefined;\n    tickVersion();\n  }, []);\n\n  return {\n    binaryTree: binaryTree.current,\n    clearAll,\n    addValue,\n    version,\n  };\n};\n\nexport default useBinaryTreeBuilder;\n","import p5 from \"p5\";\nimport Boid from \"./Boid\";\nimport { NumberDataItem, StringDataItem } from \"./types\";\n\nexport const createSimpleStringDataItem = (\n  keyPrefix: string,\n  content: string\n): StringDataItem => ({\n  key: `${keyPrefix}-${content}`,\n  label: content,\n  value: content,\n});\n\nexport const createSimpleNumberDataItem = (\n  keyPrefix: string,\n  content: number\n): NumberDataItem => ({\n  key: `${keyPrefix}-${content}`,\n  label: content.toString(10),\n  value: content,\n});\n\nexport default class DataItemBoid<T> extends Boid<T> {\n  isMouseOver(mousePosition: p5.Vector) {\n    // Is the mouse pointer within the radius of our boid circle?\n    let diff = p5.Vector.sub(this.position, mousePosition);\n    return diff.mag() < this.radius;\n  }\n\n  update(s: p5) {\n    super.update(s);\n\n    // Clip to Sides\n    if (this.position.x > s.width) {\n      this.position.x = s.width;\n    } else if (this.position.x < 0) {\n      this.position.x = 0;\n    }\n\n    // Clip to top and bottom\n    if (this.position.y > s.height) {\n      this.position.y = s.height;\n    } else if (this.position.y < 0) {\n      this.position.y = 0;\n    }\n  }\n\n  draw(s: p5) {\n    s.stroke(this.borderColour);\n    if (this.grabbed) {\n      s.strokeWeight(4);\n    } else {\n      s.strokeWeight(this.borderWeight);\n    }\n\n    s.fill(this.colour);\n    s.ellipse(this.position.x, this.position.y, this.radius);\n\n    if (this.label !== undefined) {\n      s.fill(\"white\");\n      s.stroke(\"black\");\n      s.textAlign(s.CENTER, s.CENTER);\n      s.text(this.label, this.position.x, this.position.y);\n    }\n  }\n}\n","import { AbstractSketch } from \"src/components/p5/useSketch\";\nimport BinaryTree from \"comp-sci-maths-lib/dist/dataStructures/binaryTree/BinaryTree\";\nimport DataItemBoid from \"src/components/p5/Boid/DataItemBoid\";\nimport p5 from \"p5\";\nimport { createP5Vector } from \"src/components/ComputerScience/Algorithms/Routing/GridRouting/useGridGraph\";\nimport { Config, TreeDirection } from \"./types\";\n\nconst WIDTH = 1024;\nconst HEIGHT = 500;\n\nconst RADIUS = 50;\nconst LEVEL_X_DIFF = 50;\nconst LEVEL_Y_DIFF = 70;\n\nconst getDefaultConfig = (): Config<any> => ({\n  binaryTree: new BinaryTree<any>((a, b) => a - b),\n  treeDirection: TreeDirection.down,\n  toString: (v: any) => `${v}`,\n});\n\nclass BinaryTreeSketch<T> extends AbstractSketch<Config<T>> {\n  boids: {\n    [id: string]: DataItemBoid<BinaryTree<T>>;\n  };\n  headLeft: p5.Vector;\n  headRight: p5.Vector;\n  boidLevels: {\n    [id: string]: number;\n  };\n  maxLevel: number;\n\n  constructor() {\n    super(getDefaultConfig());\n    this.boids = {};\n    this.headLeft = createP5Vector(-LEVEL_X_DIFF, LEVEL_Y_DIFF);\n    this.headRight = createP5Vector(LEVEL_X_DIFF, LEVEL_Y_DIFF);\n    this.boidLevels = {};\n    this.maxLevel = 0;\n  }\n\n  sortHorizontalPositions() {\n    for (let l = 0; l <= this.maxLevel; l++) {\n      let boids: DataItemBoid<BinaryTree<T>>[] = Object.entries(this.boids)\n        .filter(([id]) => this.boidLevels[id] === l)\n        .map(([_, b]) => b);\n\n      boids.forEach((a) => {\n        boids\n          .filter((b) => a !== b)\n          .forEach((b) => a.flee(b.position, RADIUS * 2));\n      });\n\n      // Sort the positions by x-value\n      let positions: p5.Vector[] = boids\n        .map(({ position }) => position)\n        .sort((a, b) => a.x - b.x);\n      boids\n        .sort((a, b) =>\n          a.entity.compare(a.entity.value as T, b.entity.value as T)\n        )\n        .map((b) => {\n          return b;\n        })\n        .forEach((b, index) => {\n          b.position = positions[index];\n        });\n    }\n  }\n\n  visitBoids(\n    sketch: p5,\n    treeNode: BinaryTree<T>,\n    position: p5.Vector,\n    boidReceiver: (boid: DataItemBoid<BinaryTree<T>>) => void,\n    id: string,\n    parentBoid?: DataItemBoid<BinaryTree<T>>,\n    level: number = 0\n  ): void {\n    if (treeNode.value === undefined) {\n      return;\n    }\n\n    if (level > this.maxLevel) {\n      this.maxLevel = level;\n    }\n    this.boidLevels[id] = level;\n\n    if (!this.boids[id]) {\n      this.boids[id] = new DataItemBoid({\n        radius: RADIUS,\n        entity: treeNode,\n        label: this.config.toString(treeNode.value),\n        position,\n        lockY: true,\n      });\n    } else {\n      // position = this.boids[id].position;\n      this.boids[id].entity = treeNode;\n      this.boids[id].label = this.config.toString(treeNode.value);\n    }\n    const thisBoid = this.boids[id];\n    boidReceiver(thisBoid);\n\n    // Draw the line between this boid and it's parents\n    if (!!parentBoid) {\n      sketch.strokeWeight(2);\n      sketch.stroke(\"black\");\n      sketch.line(\n        thisBoid.position.x,\n        thisBoid.position.y,\n        parentBoid.position.x,\n        parentBoid.position.y\n      );\n\n      let midpoint: p5.Vector = (p5.Vector.lerp(\n        parentBoid.position,\n        thisBoid.position,\n        0.5\n      ) as unknown) as p5.Vector; // error in p5 type definition\n\n      sketch.fill(\"white\");\n      sketch.circle(midpoint.x, midpoint.y, 30);\n      sketch.fill(\"black\");\n      sketch.strokeWeight(1);\n      sketch.textFont(\"Helvetica\", 14);\n      sketch.textAlign(sketch.CENTER, sketch.CENTER);\n      sketch.text(id[id.length - 1], midpoint.x, midpoint.y);\n    }\n\n    if (!!treeNode.leftBranch) {\n      this.visitBoids(\n        sketch,\n        treeNode.leftBranch,\n        p5.Vector.add(position, this.headLeft),\n        boidReceiver,\n        id + \"L\",\n        thisBoid,\n        level + 1\n      );\n    }\n    if (!!treeNode.rightBranch) {\n      this.visitBoids(\n        sketch,\n        treeNode.rightBranch,\n        p5.Vector.add(position, this.headRight),\n        boidReceiver,\n        id + \"R\",\n        thisBoid,\n        level + 1\n      );\n    }\n  }\n\n  sketch(s: import(\"p5\")) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textAlign(s.CENTER, s.CENTER);\n      s.angleMode(s.DEGREES);\n    };\n\n    s.mousePressed = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      const boid = Object.values(that.boids).find((boid) =>\n        boid.isMouseOver(mousePosition)\n      );\n      if (boid !== undefined) {\n        boid.grab();\n      }\n    };\n\n    s.mouseDragged = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      Object.values(that.boids).forEach((boid) => boid.dragged(mousePosition));\n    };\n\n    s.mouseReleased = function () {\n      Object.values(that.boids).forEach((boid) => boid.releaseGrab());\n    };\n\n    s.draw = () => {\n      s.background(230);\n\n      const { binaryTree } = that.config;\n      s.push();\n\n      that.maxLevel = 0;\n      that.boidLevels = {};\n      const boids: DataItemBoid<BinaryTree<T>>[] = [];\n      that.visitBoids(\n        s,\n        binaryTree,\n        s.createVector(s.width / 2, 30),\n        (b) => boids.push(b),\n        \"ROOT\"\n      );\n\n      that.sortHorizontalPositions();\n\n      // All boids should seek the midpoint of both children...if they have them\n      boids.forEach((boid) => {\n        const {\n          entity: { leftBranch, rightBranch },\n        } = boid;\n        const leftBoid = Object.values(that.boids).find(\n          (b) => b.entity === leftBranch\n        );\n        const rightBoid = Object.values(that.boids).find(\n          (b) => b.entity === rightBranch\n        );\n\n        if (leftBoid !== undefined && rightBoid !== undefined) {\n          boid.arrive(\n            s,\n            s.createVector(\n              (leftBoid.position.x + rightBoid.position.x) / 2,\n              boid.position.y\n            ),\n            10\n          );\n        }\n      });\n\n      Object.values(boids)\n        .filter((_, i) => i > 0)\n        .forEach((b) => b.update(s));\n\n      s.textFont(\"Helvetica\", 24);\n      Object.values(boids).forEach((b) => b.draw(s));\n\n      s.pop();\n    };\n  };\n}\n\nexport default BinaryTreeSketch;\n","import React from \"react\";\r\n\r\nexport interface Props extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  text: string;\r\n  styleType:\r\n    | \"primary\"\r\n    | \"secondary\"\r\n    | \"success\"\r\n    | \"danger\"\r\n    | \"warning\"\r\n    | \"info\"\r\n    | \"light\"\r\n    | \"dark\"\r\n    | \"link\";\r\n  onClick: React.MouseEventHandler;\r\n}\r\n\r\nconst Button: React.FunctionComponent<Props> = ({\r\n  text,\r\n  styleType,\r\n  onClick,\r\n  ...rest\r\n}) => (\r\n  <button\r\n    {...rest}\r\n    className={`btn btn-${styleType} ${rest.className}`}\r\n    onClick={onClick}\r\n  >\r\n    {text}\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\n\r\nimport Button, { Props as ButtonProps } from \"./Button\";\r\n\r\nexport interface Props {\r\n  buttons: ButtonProps[];\r\n}\r\n\r\nconst ButtonBar: React.FunctionComponent<Props> = ({ buttons }) => (\r\n  <div className=\"btn-toolbar\" role=\"toolbar\" aria-label=\"Course Actions\">\r\n    {buttons.map((button, i) => (\r\n      <div key={i} className=\"btn-group mr-2\" role=\"group\" aria-label=\"Edit\">\r\n        <Button {...button} />\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default ButtonBar;\r\n","import React from \"react\";\nimport { UseBinaryTreeBuilder } from \"./useBinaryTreeBuilder\";\nimport useSketch from \"src/components/p5/useSketch\";\nimport BinaryTreeSketch from \"./BinaryTreeSketch\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\nimport { TreeDirection } from \"./types\";\n\ninterface Props {\n  binaryTreeBuilder: UseBinaryTreeBuilder;\n}\n\nconst BinaryTreeBuilder: React.FunctionComponent<Props> = ({\n  binaryTreeBuilder: { addValue, binaryTree, version, clearAll },\n}) => {\n  const [newValue, setNewValue] = React.useState(\"\");\n\n  const [treeDirection, setTreeDirection] = React.useState<TreeDirection>(\n    TreeDirection.down\n  );\n\n  const onTreeDirectionChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => setTreeDirection(value as TreeDirection),\n    [setTreeDirection]\n  );\n\n  const onNewValueChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewValue(value),\n    [setNewValue]\n  );\n  const onAddNewItem: React.MouseEventHandler = React.useCallback(\n    () => newValue.length > 0 && addValue(newValue),\n    [addValue, newValue]\n  );\n\n  const { refContainer, updateConfig } = useSketch(BinaryTreeSketch);\n\n  React.useEffect(() => updateConfig({ binaryTree, treeDirection }), [\n    binaryTree,\n    treeDirection,\n    updateConfig,\n  ]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Add\",\n          onClick: onAddNewItem,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Clear\",\n          styleType: \"danger\",\n          onClick: clearAll,\n        },\n      ],\n    }),\n    [onAddNewItem, clearAll]\n  );\n\n  return (\n    <div>\n      <h4>Binary Tree Builder v{version}</h4>\n      <form>\n        <div className=\"form-group\">\n          <label>New Value</label>\n          <input\n            className=\"form-control\"\n            value={newValue}\n            onChange={onNewValueChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Tree Direction</label>\n          <select\n            className=\"form-control\"\n            value={treeDirection.toString()}\n            onChange={onTreeDirectionChange}\n          >\n            {Object.keys(TreeDirection).map((v) => (\n              <option key={v} value={v}>\n                {v}\n              </option>\n            ))}\n          </select>\n        </div>\n      </form>\n\n      <ButtonBar {...buttonBarProps} />\n\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default BinaryTreeBuilder;\n","import React from \"react\";\nimport BinaryTreeTraversalAlgorithmPicker, {\n  usePicker,\n} from \"./BinaryTreeTraversalAlgorithmPicker\";\nimport useBinaryTreeTraversal from \"./useBinaryTreeTraversal\";\nimport useBinaryTreeBuilder from \"../../BinaryTreeBuilder/useBinaryTreeBuilder\";\nimport BinaryTreeBuilder from \"../../BinaryTreeBuilder\";\n\nconst BinaryTreeTraversal: React.FunctionComponent = () => {\n  const { algorithmName, componentProps } = usePicker(\"form-control\");\n\n  const binaryTreeBuilder = useBinaryTreeBuilder();\n  const { binaryTree, version } = binaryTreeBuilder;\n\n  const { visitedItems } = useBinaryTreeTraversal({\n    binaryTree,\n    algorithmName,\n    version,\n  });\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Algorithm</label>\n          <BinaryTreeTraversalAlgorithmPicker {...componentProps} />\n        </div>\n      </form>\n\n      <h2>Item Visit Order: {visitedItems.join(\" -> \")}</h2>\n\n      <BinaryTreeBuilder binaryTreeBuilder={binaryTreeBuilder} />\n    </div>\n  );\n};\n\nexport default BinaryTreeTraversal;\n","import Component from \"./BinaryTreeTraversal\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/traversal/tree\",\n  title: \"Traversal - Tree\",\n  description:\n    \"Build a binary tree and learn how each traversal algorithm affects the order of visiting nodes\",\n  component: Component,\n};\n\nexport default Component;\n","export const BREADTH_FIRST_SEARCH = \"Breadth First Search\";\nexport const DEPTH_FIRST_SEARCH = \"Depth First Search\";\n\nexport const graphTraversalAlgorithms: string[] = [\n  BREADTH_FIRST_SEARCH,\n  DEPTH_FIRST_SEARCH,\n];\n","import React from \"react\";\n\nimport { ControlledInput } from \"src/types\";\nimport { graphTraversalAlgorithms, BREADTH_FIRST_SEARCH } from \"./common\";\n\ninterface Props extends ControlledInput<string> {\n  className?: string;\n}\n\nconst GraphTraversalAlgorithmPicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => onChange(value),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(BREADTH_FIRST_SEARCH), [onChange]);\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      <option />\n      {graphTraversalAlgorithms.map((value) => (\n        <option key={value} value={value}>\n          {value}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker<T> {\n  algorithmName: string;\n  componentProps: Props;\n}\n\nexport const usePicker = <T,>(className?: string): UsePicker<T> => {\n  const [value, onChange] = React.useState<string>(BREADTH_FIRST_SEARCH);\n\n  return {\n    algorithmName: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default GraphTraversalAlgorithmPicker;\n","import React from \"react\";\nimport { depthFirstSearch, breadthFirstSearch } from \"comp-sci-maths-lib/dist/\";\nimport { VisitFunction, AnyGraphVertex } from \"comp-sci-maths-lib/dist/types\";\n\nimport { BREADTH_FIRST_SEARCH, DEPTH_FIRST_SEARCH } from \"./common\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\n\ninterface Props<T extends AnyGraphVertex> {\n  algorithmName: string;\n  graph: Graph<T>;\n  startVertex?: T;\n}\n\nexport interface UseGraphTraversal<T> {\n  visitedItems: T[];\n}\n\nconst useGraphTraversal = <T extends AnyGraphVertex>({\n  algorithmName,\n  graph,\n  startVertex,\n}: Props<T>): UseGraphTraversal<T> => {\n  const visitedItems: T[] = React.useMemo(() => {\n    const items: T[] = [];\n    const visit: VisitFunction<T> = (d: T) => items.push(d);\n\n    if (startVertex !== undefined) {\n      switch (algorithmName) {\n        case BREADTH_FIRST_SEARCH:\n          breadthFirstSearch(graph, startVertex.key, visit);\n          break;\n        case DEPTH_FIRST_SEARCH:\n          depthFirstSearch(graph, startVertex.key, visit);\n          break;\n      }\n    }\n\n    return items;\n  }, [algorithmName, graph, startVertex]);\n\n  return { visitedItems };\n};\n\nexport default useGraphTraversal;\n","import React from \"react\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { DisplayDataItem } from \"src/components/p5/Boid/types\";\n\nexport interface Props<DATA_ITEM extends DisplayDataItem<any>> {\n  className?: string;\n  graph: Graph<DATA_ITEM>;\n  value: string | undefined;\n  onChange: (v: string | undefined) => void;\n}\n\nconst VertexPicker = <DATA_ITEM extends DisplayDataItem<any>>({\n  graph,\n  value,\n  onChange,\n  className,\n}: Props<DATA_ITEM>) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => {\n      onChange(value);\n    },\n    [onChange]\n  );\n\n  React.useEffect(() => {\n    if (graph.vertices.length > 0) {\n      onChange(graph.vertices[0].key);\n    }\n  }, [graph, onChange]);\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      {graph.vertices.map((vertex) => (\n        <option key={vertex.key} value={vertex.key}>\n          {vertex.label}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker<DATA_ITEM extends DisplayDataItem<any>> {\n  vertex: DATA_ITEM | undefined;\n  componentProps: Props<DATA_ITEM>;\n}\n\nexport const usePicker = <DATA_ITEM extends DisplayDataItem<any>>(\n  graph: Graph<DATA_ITEM>,\n  className?: string\n): UsePicker<DATA_ITEM> => {\n  const [value, onChange] = React.useState<string | undefined>(undefined);\n\n  const vertex = React.useMemo(\n    () => graph.vertices.find((v) => v.key === value),\n    [value, graph]\n  );\n\n  return {\n    vertex,\n    componentProps: React.useMemo(\n      () => ({\n        graph,\n        className,\n        value,\n        onChange,\n      }),\n      [graph, className, value, onChange]\n    ),\n  };\n};\n\nexport default VertexPicker;\n","import React from \"react\";\n\ntype ValueReducer<T> = (existingValue: T) => T;\n\ninterface OutProps<T> {\n  value: T;\n  setValue: (newValue: T) => void;\n  reduceValue: (reducer: ValueReducer<T>) => void;\n  resetValue: () => void;\n}\n\ninterface StringConversion<T> {\n  toString: (v: T) => string;\n  fromString: (v: string) => T;\n}\n\n/**\n * Pre-made utility string conversion for storing boolean\n */\nexport const storeBoolean: StringConversion<boolean> = {\n  toString: (v) => (v ? \"true\" : \"false\"),\n  fromString: (s) => s === \"true\",\n};\n\n/**\n * Pre-made utility string conversion for storing string (no transform)\n */\nexport const storeString: StringConversion<string> = {\n  toString: (v) => v,\n  fromString: (s) => s,\n};\n\n/**\n * Pre-made utility string conversion for storing number\n */\nexport const storeNumber: StringConversion<number> = {\n  toString: (n) => `${n}`,\n  fromString: (v) => Number.parseInt(v),\n};\n\n/**\n * Pre-made utility string conversion generator for storing objects\n */\nexport const useStoreObjectFactory = <T>(): StringConversion<T> => {\n  return React.useMemo(\n    () => ({\n      toString: (v: T) => JSON.stringify(v),\n      fromString: (v: string) => JSON.parse(v),\n    }),\n    []\n  );\n};\n\nconst useLocalStorage = function <T>(\n  stateName: string,\n  noLocalStorageInitialState: T,\n  stringConversion: StringConversion<T>\n): OutProps<T> {\n  const [value, setStateValue] = React.useState<T>(noLocalStorageInitialState);\n\n  const getFromStorage = React.useCallback(() => {\n    const rawValue: string | null = localStorage.getItem(stateName);\n    if (rawValue !== null) {\n      return stringConversion.fromString(rawValue);\n    }\n    return noLocalStorageInitialState;\n  }, [stateName, stringConversion, noLocalStorageInitialState]);\n\n  React.useEffect(() => {\n    const existingValue = getFromStorage();\n    if (existingValue !== undefined) {\n      setStateValue(existingValue);\n    }\n  }, [stateName, setStateValue, getFromStorage]);\n\n  const setValue = React.useCallback(\n    (valueToSet: T) => {\n      const asString = stringConversion.toString(valueToSet);\n      localStorage.setItem(stateName, asString);\n      setStateValue(valueToSet);\n    },\n    [stateName, stringConversion, setStateValue]\n  );\n\n  const reduceValue = React.useCallback(\n    (reducer: ValueReducer<T>) => {\n      const existingValue = getFromStorage();\n      const newValue = reducer(existingValue);\n      setValue(newValue);\n    },\n    [setValue, getFromStorage]\n  );\n\n  const resetValue = React.useCallback(() => {\n    setValue(noLocalStorageInitialState);\n  }, [setValue, noLocalStorageInitialState]);\n\n  return {\n    value,\n    setValue,\n    reduceValue,\n    resetValue,\n  };\n};\n\nexport default useLocalStorage;\n","import useLocalStorage, {\n  storeNumber,\n  storeString,\n  storeBoolean,\n  useStoreObjectFactory,\n} from \"./useLocalStorage\";\n\nexport {\n  useLocalStorage,\n  storeNumber,\n  storeString,\n  storeBoolean,\n  useStoreObjectFactory,\n};\n\nexport default useLocalStorage;\n","import { createSimpleStringDataItem } from \"src/components/p5/Boid/DataItemBoid\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport { PositionByVertex } from \"../types\";\n\nconst createDataItem = (content: string) =>\n  createSimpleStringDataItem(\"sg-1\", content);\n\nconst VERTEX_A = createDataItem(\"A\");\nconst VERTEX_B = createDataItem(\"B\");\nconst VERTEX_C = createDataItem(\"C\");\nconst VERTEX_D = createDataItem(\"D\");\n\nexport default () => {\n  return new Graph<StringDataItem>()\n    .addBiDirectionalEdge(VERTEX_A, VERTEX_B)\n    .addBiDirectionalEdge(VERTEX_B, VERTEX_A)\n    .addBiDirectionalEdge(VERTEX_B, VERTEX_C)\n    .addBiDirectionalEdge(VERTEX_B, VERTEX_D)\n    .addBiDirectionalEdge(VERTEX_D, VERTEX_A);\n};\n\nexport const vertexPositions: PositionByVertex = {\n  \"sg-1-A\": { x: 166, y: 38 },\n  \"sg-1-B\": { x: 211, y: 102 },\n  \"sg-1-C\": { x: 93, y: 141 },\n  \"sg-1-D\": { x: 279, y: 63 },\n};\n","import { createSimpleStringDataItem } from \"src/components/p5/Boid/DataItemBoid\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport { PositionByVertex } from \"../types\";\n\nconst createDataItem = (content: string) =>\n  createSimpleStringDataItem(\"lsg-1\", content);\n\nconst VERTEX_A = createDataItem(\"A\");\nconst VERTEX_B = createDataItem(\"B\");\nconst VERTEX_C = createDataItem(\"C\");\nconst VERTEX_D = createDataItem(\"D\");\nconst VERTEX_E = createDataItem(\"E\");\nconst VERTEX_F = createDataItem(\"F\");\nconst VERTEX_G = createDataItem(\"G\");\nconst VERTEX_S = createDataItem(\"S\");\n\nexport default () => {\n  return new Graph<StringDataItem>()\n    .addBiDirectionalEdge(VERTEX_S, VERTEX_A)\n    .addBiDirectionalEdge(VERTEX_S, VERTEX_B)\n    .addBiDirectionalEdge(VERTEX_S, VERTEX_C)\n    .addBiDirectionalEdge(VERTEX_A, VERTEX_D)\n    .addBiDirectionalEdge(VERTEX_D, VERTEX_G)\n    .addBiDirectionalEdge(VERTEX_B, VERTEX_E)\n    .addBiDirectionalEdge(VERTEX_E, VERTEX_G)\n    .addBiDirectionalEdge(VERTEX_C, VERTEX_F)\n    .addBiDirectionalEdge(VERTEX_F, VERTEX_G);\n};\n\nexport const vertexPositions: PositionByVertex = {\n  \"lsg-1-S\": { x: 60, y: 35 },\n  \"lsg-1-A\": { x: 57, y: 142 },\n  \"lsg-1-B\": { x: 196, y: 35 },\n  \"lsg-1-C\": { x: 127, y: 97 },\n  \"lsg-1-D\": { x: 113, y: 227 },\n  \"lsg-1-G\": { x: 208, y: 214 },\n  \"lsg-1-E\": { x: 280, y: 111 },\n  \"lsg-1-F\": { x: 209, y: 126 },\n};\n","import { createSimpleStringDataItem } from \"src/components/p5/Boid/DataItemBoid\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport { PositionByVertex } from \"../types\";\n\nconst createDataItem = (content: string) =>\n  createSimpleStringDataItem(\"csg-1\", content);\n\nconst VERTEX_A = createDataItem(\"A\");\nconst VERTEX_B = createDataItem(\"B\");\nconst VERTEX_C = createDataItem(\"C\");\nconst VERTEX_D = createDataItem(\"D\");\nconst VERTEX_E = createDataItem(\"E\");\nconst VERTEX_F = createDataItem(\"F\");\nconst VERTEX_G = createDataItem(\"G\");\nconst VERTEX_H = createDataItem(\"H\");\nconst VERTEX_I = createDataItem(\"I\");\nconst VERTEX_J = createDataItem(\"J\");\nconst VERTEX_K = createDataItem(\"K\");\nconst VERTEX_L = createDataItem(\"L\");\nconst VERTEX_S = createDataItem(\"S\");\n\nexport default () => {\n  return new Graph<StringDataItem>()\n    .addBiDirectionalEdge(VERTEX_S, VERTEX_A, 7)\n    .addBiDirectionalEdge(VERTEX_S, VERTEX_B, 2)\n    .addBiDirectionalEdge(VERTEX_S, VERTEX_C, 3)\n    .addBiDirectionalEdge(VERTEX_A, VERTEX_D, 4)\n    .addBiDirectionalEdge(VERTEX_A, VERTEX_B, 3)\n    .addBiDirectionalEdge(VERTEX_B, VERTEX_D, 4)\n    .addBiDirectionalEdge(VERTEX_B, VERTEX_H, 1)\n    .addBiDirectionalEdge(VERTEX_C, VERTEX_L, 2)\n    .addBiDirectionalEdge(VERTEX_D, VERTEX_F, 5)\n    .addBiDirectionalEdge(VERTEX_E, VERTEX_K, 5)\n    .addBiDirectionalEdge(VERTEX_E, VERTEX_G, 2)\n    .addBiDirectionalEdge(VERTEX_F, VERTEX_H, 3)\n    .addBiDirectionalEdge(VERTEX_G, VERTEX_H, 2)\n    .addBiDirectionalEdge(VERTEX_I, VERTEX_L, 4)\n    .addBiDirectionalEdge(VERTEX_I, VERTEX_K, 4)\n    .addBiDirectionalEdge(VERTEX_J, VERTEX_L, 4)\n    .addBiDirectionalEdge(VERTEX_J, VERTEX_K, 4);\n};\n\nexport const vertexPositions: PositionByVertex = {\n  \"csg-1-S\": { x: 153, y: 65 },\n  \"csg-1-A\": { x: 229, y: 52 },\n  \"csg-1-B\": { x: 214, y: 140 },\n  \"csg-1-C\": { x: 77, y: 84 },\n  \"csg-1-D\": { x: 307, y: 62 },\n  \"csg-1-H\": { x: 309, y: 172 },\n  \"csg-1-L\": { x: 70, y: 164 },\n  \"csg-1-F\": { x: 364, y: 115 },\n  \"csg-1-E\": { x: 236, y: 272 },\n  \"csg-1-K\": { x: 157, y: 263 },\n  \"csg-1-G\": { x: 310, y: 250 },\n  \"csg-1-I\": { x: 81, y: 243 },\n  \"csg-1-J\": { x: 160, y: 188 },\n};\n","import { PositionByVertex } from \"../types\";\nimport { createSimpleStringDataItem } from \"src/components/p5/Boid/DataItemBoid\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nconst createDataItem = (content: string) =>\n  createSimpleStringDataItem(\"mc-1\", content);\n\nconst VERTEX_A = createDataItem(\"A\");\nconst VERTEX_B = createDataItem(\"B\");\nconst VERTEX_M1_1 = createDataItem(\"M1_1\");\nconst VERTEX_M1_2 = createDataItem(\"M1_2\");\nconst VERTEX_M1_3 = createDataItem(\"M1_3\");\nconst VERTEX_M1_4 = createDataItem(\"M1_4\");\nconst VERTEX_M1_5 = createDataItem(\"M1_5\");\n\nexport default () => {\n  return new Graph<StringDataItem>()\n    .addBiDirectionalEdge(VERTEX_M1_1, VERTEX_M1_2, 1)\n    .addBiDirectionalEdge(VERTEX_M1_2, VERTEX_M1_3, 1)\n    .addBiDirectionalEdge(VERTEX_M1_3, VERTEX_M1_4, 1)\n    .addBiDirectionalEdge(VERTEX_M1_4, VERTEX_M1_5, 1)\n    .addBiDirectionalEdge(VERTEX_A, VERTEX_M1_3, 10)\n    .addBiDirectionalEdge(VERTEX_M1_3, VERTEX_B, 10);\n};\n\nexport const vertexPositions: PositionByVertex = {\n  \"mc-1-A\": {\n    x: 192,\n    y: 199,\n  },\n  \"mc-1-M1_2\": {\n    x: 316,\n    y: 183,\n  },\n  \"mc-1-M1_1\": { x: 361, y: 249 },\n  \"mc-1-M1_3\": {\n    x: 262,\n    y: 126,\n  },\n  \"mc-1-M1_4\": {\n    x: 201,\n    y: 75,\n  },\n  \"mc-1-M1_5\": { x: 116, y: 47 },\n  \"mc-1-B\": {\n    x: 325,\n    y: 60,\n  },\n};\n","import simpleStringGraph, {\n  vertexPositions as simpleStringGraphVertexPositions,\n} from \"./simpleStringGraph\";\nimport largerStringGraph, {\n  vertexPositions as largerStringGraphVertexPositions,\n} from \"./largerStringGraph\";\nimport complexStringGraph, {\n  vertexPositions as complexStringGraphVertexPositions,\n} from \"./complexStringGraph\";\nimport motorwayCrossingGraph, {\n  vertexPositions as motorwayCrossingGraphVertexPositions,\n} from \"./motorwayCrossingGraph\";\n\nexport const graphs = {\n  motorwayCrossingGraph,\n  simpleStringGraph,\n  largerStringGraph,\n  complexStringGraph,\n};\nexport const vertexPositionsByGraphName = {\n  simpleStringGraph: simpleStringGraphVertexPositions,\n  largerStringGraph: largerStringGraphVertexPositions,\n  complexStringGraph: complexStringGraphVertexPositions,\n  motorwayCrossingGraph: motorwayCrossingGraphVertexPositions,\n};\n\nexport default { simpleStringGraph, largerStringGraph, complexStringGraph };\n","import React from \"react\";\nimport useLocalStorage, {\n  useStoreObjectFactory,\n} from \"src/components/lib/useLocalStorage\";\n\nimport {\n  graphs as cannedGraphs,\n  vertexPositionsByGraphName,\n} from \"./cannedGraphs\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport {\n  GraphsById,\n  PositionsForGraphName,\n  PositionByVertex,\n  SavedGraphState,\n} from \"./types\";\nimport cogoToast from \"cogo-toast\";\n\nexport interface UseSavedGraph {\n  names: string[];\n  graphs: GraphsById;\n  vertexPositionsByGraph: PositionsForGraphName;\n  createNew(name: string): void;\n  save(name: string, graph: Graph<any>, positions: PositionByVertex): void;\n  reset: () => void;\n}\n\nconst defaultSavedGraphState: SavedGraphState = Object.entries(cannedGraphs)\n  .map(([name, generator]) => ({ name, graph: generator() }))\n  .reduce((acc, { name, graph }) => ({ ...acc, [name]: graph }), {});\n\nconst defaultSavedVertexState: PositionsForGraphName = vertexPositionsByGraphName;\n\nexport default (): UseSavedGraph => {\n  const {\n    value: graphsData,\n    reduceValue: reduceGraphs,\n    setValue: setGraphs,\n  } = useLocalStorage<SavedGraphState>(\n    \"saved-graphs\",\n    defaultSavedGraphState,\n    useStoreObjectFactory()\n  );\n\n  const {\n    value: vertexPositionsByGraph,\n    reduceValue: reduceVertexPositions,\n    setValue: setVertexPositions,\n  } = useLocalStorage<PositionsForGraphName>(\n    \"saved-graph-positions\",\n    defaultSavedVertexState,\n    useStoreObjectFactory()\n  );\n\n  const names: string[] = React.useMemo(() => Object.keys(graphsData), [\n    graphsData,\n  ]);\n  const graphs: GraphsById = React.useMemo(\n    () =>\n      Object.entries(graphsData)\n        .map(([name, graphData]) => {\n          // Build full graphs from the base data\n          const graph = new Graph<StringDataItem>();\n          graph.vertices = graphData.vertices;\n          graph.edges = graphData.edges;\n          return { name, graph };\n        })\n        .reduce((acc, { name, graph }) => ({ ...acc, [name]: graph }), {}),\n    [graphsData]\n  );\n\n  const createNew = React.useCallback(\n    (name: string) => {\n      if (name.length < 3) {\n        cogoToast.error(\"Could not save graph with short name (length < 3)\");\n      } else if (names.includes(name)) {\n        cogoToast.error(\"This name already exists\");\n      } else {\n        reduceGraphs((existing: SavedGraphState) => ({\n          ...existing,\n          [name]: new Graph(),\n        }));\n      }\n    },\n    [reduceGraphs, names]\n  );\n\n  const save = React.useCallback(\n    (name: string, graph: Graph<any>, positions: PositionByVertex) => {\n      reduceGraphs((existing: SavedGraphState) => ({\n        ...existing,\n        [name]: graph,\n      }));\n      reduceVertexPositions((existing: PositionsForGraphName) => ({\n        ...existing,\n        [name]: positions,\n      }));\n    },\n    [reduceGraphs, reduceVertexPositions]\n  );\n\n  const reset = React.useCallback(() => {\n    setGraphs(defaultSavedGraphState);\n    setVertexPositions({});\n  }, [setGraphs, setVertexPositions]);\n\n  return {\n    names,\n    graphs,\n    vertexPositionsByGraph,\n    createNew,\n    save,\n    reset,\n  };\n};\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"src/components/p5/useSketch\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\n\nimport { GraphSketchConfig } from \"./GraphBuilder/types\";\nimport { DisplayDataItem } from \"src/components/p5/Boid/types\";\nimport DataItemBoid from \"src/components/p5/Boid/DataItemBoid\";\nimport { createP5Vector } from \"../../Algorithms/Routing/GridRouting/useGridGraph\";\n\nconst WIDTH = 500;\nconst HEIGHT = 300;\n\nconst getDefaultConfig = (): GraphSketchConfig<any> => ({\n  graph: new Graph(),\n  vertexPositions: {},\n  physicsEnabled: false,\n});\n\nclass GraphSketch<\n  DATA_ITEM extends DisplayDataItem<any>\n  > extends AbstractSketch<GraphSketchConfig<DATA_ITEM>> {\n  boids: {\n    [id: string]: DataItemBoid<DATA_ITEM>;\n  };\n\n  colours: {\n    [id: string]: string;\n  };\n  borderWeights: {\n    [id: string]: number;\n  };\n  borderColours: {\n    [id: string]: string;\n  };\n\n  constructor() {\n    super(getDefaultConfig());\n    this.boids = {};\n    this.colours = {};\n    this.borderWeights = {};\n    this.borderColours = {};\n  }\n\n  setColour(vertex: DATA_ITEM, colour: string) {\n    this.colours[vertex.key] = colour;\n  }\n\n  setBorderColour(vertex: DATA_ITEM, borderColour: string) {\n    this.borderColours[vertex.key] = borderColour;\n  }\n\n  setBorderWeight(vertex: DATA_ITEM, borderWeight: number) {\n    this.borderWeights[vertex.key] = borderWeight;\n  }\n\n  getBoid(vertex: DATA_ITEM): DataItemBoid<DATA_ITEM> | undefined {\n    return this.boids[vertex.key];\n  }\n\n  getOrCreateBoid(s: p5, vertex: DATA_ITEM): DataItemBoid<DATA_ITEM> {\n    let boid = this.boids[vertex.key];\n    if (!boid) {\n      let storedPosition = (this.config.vertexPositions || {})[vertex.key] || {\n        x: s.random(0, s.width),\n        y: s.random(0, s.height),\n      };\n\n      boid = new DataItemBoid<DATA_ITEM>({\n        entity: vertex,\n        label: vertex.label,\n        radius: !!s ? s.width / 12 : 5,\n        position: !!s\n          ? s.createVector(storedPosition.x, storedPosition.y)\n          : createP5Vector(0, 0),\n      });\n      this.boids[vertex.key] = boid;\n    }\n\n    boid.colour = this.colours[vertex.key] || \"red\";\n    boid.borderWeight = this.borderWeights[vertex.key] || 1;\n    boid.borderColour = this.borderColours[vertex.key] || \"black\";\n\n    return boid;\n  }\n\n  sketch(s: p5) {\n    const that = this;\n    let screenCentre: p5.Vector;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textAlign(s.CENTER, s.CENTER);\n      screenCentre = s.createVector(s.width / 2, s.height / 2);\n    };\n\n    s.mousePressed = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      const boid = Object.values(that.boids).find((boid) =>\n        boid.isMouseOver(mousePosition)\n      );\n      if (boid !== undefined) {\n        boid.grab();\n      }\n    };\n\n    s.mouseDragged = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      Object.values(that.boids).forEach((boid) => boid.dragged(mousePosition));\n    };\n\n    s.mouseReleased = function () {\n      Object.values(that.boids).forEach((boid) => boid.releaseGrab());\n    };\n\n    s.draw = function () {\n      s.background(\"skyblue\");\n      s.fill(\"blue\");\n\n      const {\n        graph: { vertices, edges },\n        physicsEnabled,\n      } = that.config;\n\n      // Get the list of boids in this sketch based on the vertex IDs\n      const boidsInSketch: DataItemBoid<DATA_ITEM>[] = vertices.map((v) =>\n        that.getOrCreateBoid(s, v)\n      );\n      const boidIdsInSketch: string[] = vertices.map((v) => v.key);\n\n      // Get the list of boid edges\n      const boidEdges = edges\n        .filter(\n          ({ from, to }) =>\n            boidIdsInSketch.includes(from.key) &&\n            boidIdsInSketch.includes(to.key)\n        )\n        .map(({ from, to, weight }) => ({\n          from: that.getOrCreateBoid(s, from),\n          to: that.getOrCreateBoid(s, to),\n          weight,\n        }));\n\n      if (physicsEnabled) {\n        // Attract any boids that are very near the edge to the centre\n        boidsInSketch\n          .filter(({ position: { x, y } }) => {\n            return (\n              x < s.width / 8 ||\n              x > (s.width * 7) / 8 ||\n              y < s.height / 8 ||\n              y > (s.height * 7) / 8\n            );\n          })\n          .forEach((b) => b.seek(screenCentre));\n\n        // They should all repel each other\n        boidsInSketch.forEach((ba, ia) => {\n          boidsInSketch\n            .filter((_, ib) => ia !== ib)\n            .forEach((bb) => ba.flee(bb.position, s.width / 4));\n        });\n\n        // Apply force of a spring between connected boids\n        boidEdges.forEach(({ from, to }) => {\n          from.spring(to.position, s.width / 8, s.width / 32);\n          to.spring(from.position, s.width / 8, s.width / 32);\n        });\n\n        // Call upon all boids to update themselves\n        boidsInSketch.forEach((b) => b.update(s));\n      }\n\n      // Draw the lines\n      boidEdges.forEach(({ from, to, weight }) => {\n        s.strokeWeight(4);\n        s.line(from.position.x, from.position.y, to.position.x, to.position.y);\n        let midpoint: p5.Vector = (p5.Vector.lerp(\n          from.position,\n          to.position,\n          0.5\n        ) as unknown) as p5.Vector; // error in p5 type definition\n\n        s.strokeWeight(1);\n        s.fill(\"white\");\n        s.circle(midpoint.x, midpoint.y, from.radius / 2);\n        s.fill(\"black\");\n        s.textFont(\"Helvetica\", 14);\n        s.textAlign(s.CENTER, s.CENTER);\n        s.text(`${weight}`, midpoint.x, midpoint.y);\n      });\n\n      /// Call upon all boids to draw themselves\n      s.textFont(\"Helvetica\", 20);\n      boidsInSketch.forEach((b) => b.draw(s));\n    };\n  };\n}\n\nexport default GraphSketch;\n","import React from \"react\";\nimport useSavedGraph, { UseSavedGraph } from \"./useSavedGraph\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport useSketch, { UseSketch } from \"src/components/p5/useSketch\";\nimport GraphSketch from \"src/components/ComputerScience/DataStructures/GraphManager/GraphSketch\";\nimport { GraphSketchConfig } from \"./GraphBuilder/types\";\nimport { PositionByVertex } from \"./types\";\nimport cannedGraphs from \"./cannedGraphs\";\n\ninterface Props {\n  names: string[];\n  value?: string;\n  onSelectChange: React.ChangeEventHandler<HTMLSelectElement>;\n  refContainer: any;\n}\n\nconst GraphPickerWithSketch: React.FunctionComponent<Props> = ({\n  names,\n  value,\n  onSelectChange,\n  refContainer,\n}) => (\n    <React.Fragment>\n      <div className=\"form-group\">\n        <label>Graph</label>\n        <select className=\"form-control\" value={value} onChange={onSelectChange}>\n          {names.map((name) => (\n            <option key={name} value={name}>\n              {name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"sketch mt-3\" ref={refContainer} />\n    </React.Fragment>\n  );\n\ninterface UsePicker {\n  graphName: string;\n  graph: Graph<StringDataItem>;\n  vertexPositions: PositionByVertex;\n  componentProps: Props;\n  onValueChange: (name: string) => void;\n  savedGraphUse: UseSavedGraph;\n  sketchUse: UseSketch<\n    GraphSketchConfig<StringDataItem>,\n    GraphSketch<StringDataItem>\n  >;\n}\n\nexport const usePicker = (\n  defaultGraphName: keyof typeof cannedGraphs\n): UsePicker => {\n  const savedGraphUse = useSavedGraph();\n  const { names, graphs, vertexPositionsByGraph } = savedGraphUse;\n\n  const [graphName, setGraphName] = React.useState<string>(defaultGraphName);\n  const [graph, setGraph] = React.useState<Graph<StringDataItem>>(\n    graphs[defaultGraphName]\n  );\n  const [vertexPositions, setVertexPositions] = React.useState<\n    PositionByVertex\n  >({});\n\n  const onChange = React.useCallback(\n    (name: string, graph: Graph<StringDataItem>) => {\n      setGraph(graph);\n      setGraphName(name);\n      setVertexPositions(vertexPositionsByGraph[name]);\n    },\n    [setGraph, vertexPositionsByGraph, setVertexPositions]\n  );\n\n  const [value, setValue] = React.useState<string>();\n\n  const onValueChange = React.useCallback(\n    (name: string) => {\n      onChange(name, graphs[name]);\n      setValue(name);\n    },\n    [onChange, graphs]\n  );\n\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => {\n      onValueChange(value);\n    },\n    [onValueChange]\n  );\n\n  // This needs to re-initialise the positions, graph name etc on startup\n  React.useEffect(() => {\n    if (defaultGraphName === graphName) {\n      onChange(defaultGraphName, graphs[defaultGraphName]);\n      setValue(defaultGraphName);\n    }\n  }, [defaultGraphName, graphName, graphs, onChange, setValue]);\n\n  const sketchUse = useSketch<\n    GraphSketchConfig<StringDataItem>,\n    GraphSketch<StringDataItem>\n  >(GraphSketch);\n\n  const { updateConfig, refContainer } = sketchUse;\n\n  React.useEffect(() => updateConfig({ graph, vertexPositions }), [\n    graph,\n    vertexPositions,\n    updateConfig,\n  ]);\n\n  return {\n    graphName,\n    graph,\n    vertexPositions,\n    savedGraphUse,\n    onValueChange,\n    componentProps: { onSelectChange, value, names, refContainer },\n    sketchUse,\n  };\n};\n\nexport default GraphPickerWithSketch;\n","import React from \"react\";\nimport GraphTraversalAlgorithmPicker, {\n  usePicker as useAlgorithmPicker,\n} from \"./GraphTraversalAlgorithmPicker\";\nimport useGraphTraversal from \"./useGraphTraversal\";\nimport VertexPicker, {\n  usePicker as useVertexPicker,\n} from \"src/components/ComputerScience/DataStructures/GraphManager/GraphBuilder/VertexPicker\";\nimport GraphPickerWithSketch, {\n  usePicker as useGraphPicker,\n} from \"../../DataStructures/GraphManager/GraphPickerWithSketch\";\n\nconst Traversal: React.FunctionComponent = () => {\n  const {\n    algorithmName,\n    componentProps: algorithmPickerProps,\n  } = useAlgorithmPicker(\"form-control\");\n\n  const { graph, componentProps: graphPickerProps } = useGraphPicker(\n    \"largerStringGraph\"\n  );\n\n  const {\n    vertex: startVertex,\n    componentProps: vertexPickerProps,\n  } = useVertexPicker(graph, \"form-control\");\n\n  const { visitedItems } = useGraphTraversal({\n    algorithmName,\n    graph,\n    startVertex,\n  });\n\n  return (\n    <div>\n      <GraphPickerWithSketch {...graphPickerProps} />\n      <form>\n        <div className=\"form-group\">\n          <label>Algorithm</label>\n          <GraphTraversalAlgorithmPicker {...algorithmPickerProps} />\n        </div>\n        <div className=\"form-group\">\n          <label>Start Vertex</label>\n          <VertexPicker {...vertexPickerProps} />\n        </div>\n      </form>\n\n      <h2>Item Visit Order: {visitedItems.map((v) => v.label).join(\" -> \")}</h2>\n    </div>\n  );\n};\n\nexport default Traversal;\n","import Component from \"./GraphTraversal\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/traversal/graph\",\n  title: \"Traversal - Graph\",\n  description:\n    \"Build a graph and learn how each traversal algorithm affects the order of visiting nodes\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport { PageRanks } from \"./types\";\nimport {\n  initialisePageRank,\n  iteratePageRank,\n  BLANK_PAGE_RANK_STATE,\n} from \"comp-sci-maths-lib/dist/algorithms/pageRank/pageRank\";\nimport { PageRankState } from \"comp-sci-maths-lib/dist/algorithms/pageRank/types\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\n\ninterface Props {\n  dampingFactor: number;\n  graph: Graph<StringDataItem>;\n}\n\ninterface UsePageRank {\n  iterations: number;\n  ranks: PageRanks;\n  rankHistory: PageRanks[];\n  begin: () => void;\n  iterate: () => void;\n}\n\ninterface IterateAction {\n  type: \"iterate\";\n}\n\ninterface InitialiseAction {\n  type: \"initialise\";\n  dampingFactor: number;\n  graph: Graph<StringDataItem>;\n}\n\ntype RankReducerAction = IterateAction | InitialiseAction;\n\nconst rankReducer = (\n  state: PageRankState<StringDataItem>,\n  action: RankReducerAction\n): PageRankState<StringDataItem> => {\n  switch (action.type) {\n    case \"iterate\": {\n      return iteratePageRank(state);\n    }\n    case \"initialise\":\n      return initialisePageRank(action.graph, action.dampingFactor);\n  }\n};\n\nconst usePageRank = ({ graph, dampingFactor }: Props): UsePageRank => {\n  const [rankState, dispatch] = React.useReducer(\n    rankReducer,\n    BLANK_PAGE_RANK_STATE\n  );\n\n  const iterate = React.useCallback(() => dispatch({ type: \"iterate\" }), []);\n\n  const begin = React.useCallback(\n    () => dispatch({ type: \"initialise\", graph, dampingFactor }),\n    [graph, dampingFactor]\n  );\n\n  React.useEffect(begin, [begin]);\n  const { ranks, iterations, rankHistory } = rankState;\n\n  return {\n    iterations,\n    ranks,\n    rankHistory,\n    begin: begin,\n    iterate,\n  };\n};\n\nexport default usePageRank;\n","import React from \"react\";\n\ninterface Props<T> {\n  headings: (keyof T)[];\n  data: T[];\n  expansionCutOff?: number;\n}\n\nconst expandReducer = (state: boolean): boolean => !state;\n\nconst Table = <T,>({ headings, data, expansionCutOff = 5 }: Props<T>) => {\n  const [isExpanded, toggledExpanded] = React.useReducer(expandReducer, false);\n\n  return (\n    <table className=\"table table-striped table-sm table-bordered\">\n      <thead>\n        <tr>\n          {headings.map((h, i) => (\n            <th key={i}>{h}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {data\n          .filter((d, i) => isExpanded || i <= expansionCutOff)\n          .map((d, i) => (\n            <tr key={i}>\n              {headings.map((h, ih) => (\n                <td key={ih}>{d[h]}</td>\n              ))}\n            </tr>\n          ))}\n        {data.length > expansionCutOff && (\n          <tr>\n            <td colSpan={headings.length}>\n              <button className=\"btn\" onClick={toggledExpanded}>\n                {isExpanded\n                  ? \"hide\"\n                  : `show ${data.length - expansionCutOff - 1} more`}\n              </button>\n            </td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default Table;\n","import React from \"react\";\nimport { PageRanks } from \"./types\";\nimport { roundTo2Dp } from \"comp-sci-maths-lib/dist/algorithms/pageRank/pageRank\";\nimport Table from \"src/components/Bootstrap/Table\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\n\ninterface Props {\n  pages: StringDataItem[];\n  ranks: PageRanks;\n}\n\nconst CurrentRanksRable: React.FunctionComponent<Props> = ({\n  pages,\n  ranks,\n}) => {\n  const tableData = React.useMemo(\n    () =>\n      pages.map((page) => ({\n        page: page.value,\n        rank2dp: roundTo2Dp(ranks[page.key]),\n        rank: ranks[page.key],\n      })),\n    [pages, ranks]\n  );\n\n  return <Table headings={[\"page\", \"rank2dp\", \"rank2dp\"]} data={tableData} />;\n};\n\nexport default CurrentRanksRable;\n","import React from \"react\";\n\nimport { PageRanks } from \"./types\";\nimport { roundTo2Dp } from \"comp-sci-maths-lib/dist/algorithms/pageRank/pageRank\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\n\ninterface Props {\n  pages: StringDataItem[];\n  rankHistory: PageRanks[];\n}\n\nconst RankHistoryTable: React.FunctionComponent<Props> = ({\n  pages,\n  rankHistory,\n}) => {\n  return (\n    <table className=\"table table-striped\">\n      <thead>\n        <tr>\n          <th>Page</th>\n          {rankHistory.map((r, i) => (\n            <th key={i}>{i}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {pages.map((page) => (\n          <tr key={page.key}>\n            <td>{page.value}</td>\n            {rankHistory.map((r, i) => (\n              <td key={i}>{roundTo2Dp(r[page.key])}</td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default RankHistoryTable;\n","import React from \"react\";\nimport { PageRanks } from \"./types\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\n\ninterface Props {\n  pages: StringDataItem[];\n  ranks: PageRanks;\n}\n\nconst InOrderList: React.FunctionComponent<Props> = ({ pages, ranks }) => {\n  const pagesInOrder: StringDataItem[] = React.useMemo(\n    () =>\n      Object.entries(ranks)\n        .sort((r1, r2) => r2[1] - r1[1]) // compare the values\n        .map((r) => pages.find((v) => v.key === r[0]))\n        .filter((r) => r !== undefined)\n        .map((r) => r as StringDataItem),\n    [pages, ranks]\n  );\n\n  return (\n    <ol>\n      {pagesInOrder.map(({ key, label }) => (\n        <li key={key}>{label}</li>\n      ))}\n    </ol>\n  );\n};\n\nexport default InOrderList;\n","import React from \"react\";\n\ntype AnyCallback = () => void;\n\nfunction useInterval(callback: AnyCallback, delay: number | null) {\n  const savedCallback = React.useRef<AnyCallback>(() => {});\n\n  // Remember the latest callback.\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  React.useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    } else {\n      return () => {};\n    }\n  }, [delay]);\n}\n\nexport default useInterval;\n","export interface PositionVars {\n  [k: string]: number;\n}\n\nexport enum SortStageType {\n  observation,\n  swap,\n  compare,\n}\n\nexport interface SortObservation<T> {\n  type: SortStageType.observation;\n  stageName: string;\n  positionVars: PositionVars;\n  data: T[];\n}\n\nexport interface SortSwap<T> {\n  type: SortStageType.swap;\n  from: number;\n  to: number;\n  lastObservation: SortObservation<T>;\n}\n\nexport interface SortCompare<T> {\n  type: SortStageType.compare;\n  a: T;\n  b: T;\n  aIndex: number;\n  bIndex: number;\n  result: number;\n  lastObservation: SortObservation<T>;\n}\n\nexport type SortStage<T> = SortObservation<T> | SortSwap<T> | SortCompare<T>;\n\nexport const DEFAULT_SORT_STAGE: SortStage<any> = {\n  type: SortStageType.observation,\n  data: [],\n  positionVars: {},\n  stageName: \"empty\",\n};\n\nexport interface SortingData<T> {\n  stages: SortStage<T>[];\n  sortedData: T[];\n}\n","import React from \"react\";\n\nimport useInterval from \"./useInterval\";\n\nexport interface Props {\n  iterate: () => any;\n  interval?: number;\n}\n\nexport interface UseToggledInterval {\n  isAutoIterating: boolean;\n  setIsAutoIterating: (value: boolean) => void;\n  onAutoIteratingChange: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nexport const useToggledInterval = ({\n  iterate,\n  interval = 1000,\n}: Props): UseToggledInterval => {\n  const [isAutoIterating, setIsAutoIterating] = React.useState<boolean>(false);\n\n  const onAutoIteratingChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { checked } }) => setIsAutoIterating(checked),\n    [setIsAutoIterating]\n  );\n\n  const autoIterate = React.useCallback(() => isAutoIterating && iterate(), [\n    isAutoIterating,\n    iterate,\n  ]);\n\n  useInterval(autoIterate, interval);\n\n  return { setIsAutoIterating, isAutoIterating, onAutoIteratingChange };\n};\n","import React from \"react\";\n\ninterface Props {\n  id: string;\n  label: string | React.ReactElement;\n  checked: boolean;\n  onChange: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nconst Checkbox: React.FunctionComponent<Props> = ({\n  id,\n  label,\n  checked,\n  onChange,\n}) => (\n  <div className=\"form-check\">\n    <input\n      className=\"form-check-input\"\n      type=\"checkbox\"\n      checked={checked}\n      onChange={onChange}\n      id={id}\n    />\n    <label className=\"form-check-label\" htmlFor={id}>\n      {label}\n    </label>{\" \"}\n  </div>\n);\n\nexport default Checkbox;\n","import React from \"react\";\n\nimport usePageRank from \"./usePageRank\";\nimport CurrentRanksTable from \"./CurrentRanksTable\";\nimport RankHistoryTable from \"./RankHistoryTable\";\nimport InOrderList from \"./InOrderList\";\nimport { useToggledInterval } from \"src/components/lib/useInterval\";\nimport Checkbox from \"src/components/Bootstrap/Checkbox\";\nimport GraphPickerWithSketch, {\n  usePicker as useGraphPicker,\n} from \"../../DataStructures/GraphManager/GraphPickerWithSketch\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\n\nconst DEFAULT_DAMPING_FACTOR = 0.85;\n\nconst PageRank: React.FunctionComponent = () => {\n  const [dampingFactor, setDampingFactor] = React.useState<number>(\n    DEFAULT_DAMPING_FACTOR\n  );\n\n  const { graph, componentProps: graphPickerProps } = useGraphPicker(\n    \"simpleStringGraph\"\n  );\n\n  const { iterations, ranks, rankHistory, begin, iterate } = usePageRank({\n    dampingFactor,\n    graph,\n  });\n\n  const onReset = React.useCallback(() => {\n    begin();\n    setDampingFactor(DEFAULT_DAMPING_FACTOR);\n  }, [begin, setDampingFactor]);\n\n  const onDampingFactorChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setDampingFactor(parseFloat(value)),\n    [setDampingFactor]\n  );\n\n  const { isAutoIterating, onAutoIteratingChange } = useToggledInterval({\n    iterate,\n  });\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          onClick: onReset,\n          styleType: \"danger\",\n          text: \"Reset\",\n        },\n        {\n          onClick: iterate,\n          styleType: \"success\",\n          text: \"Iterate\",\n        },\n      ],\n    }),\n    [iterate, onReset]\n  );\n\n  return (\n    <div>\n      <GraphPickerWithSketch {...graphPickerProps} />\n\n      <h4>Page Ranks after {iterations} iterations</h4>\n      <div>\n        <ButtonBar {...buttonBarProps} />\n\n        <div className=\"form-group\">\n          <label htmlFor=\"txtDampingFactor\">Damping Factor</label>\n          <input\n            id=\"txtDampingFactor\"\n            className=\"form-control\"\n            type=\"number\"\n            min=\"0.1\"\n            max=\"2.0\"\n            step=\"0.01\"\n            value={dampingFactor}\n            onChange={onDampingFactorChange}\n          />\n        </div>\n        <Checkbox\n          id=\"chkAutoIterate\"\n          label=\"Auto Iterate\"\n          checked={isAutoIterating}\n          onChange={onAutoIteratingChange}\n        />\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-8\">\n          <h2>Current Ranks</h2>\n          <CurrentRanksTable pages={graph.vertices} ranks={ranks} />\n        </div>\n        <div className=\"col-md-4\">\n          <h2>In Order</h2>\n          <InOrderList pages={graph.vertices} ranks={ranks} />\n        </div>\n      </div>\n      <h2>All Iterations</h2>\n      <RankHistoryTable pages={graph.vertices} rankHistory={rankHistory} />\n    </div>\n  );\n};\n\nexport default PageRank;\n","import Component from \"./PageRank\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/pageRank\",\n  title: \"Page Rank\",\n  description:\n    \"Build a graph of pages with cross hyperlinks then see how the Page Rank algorithm scores them\",\n  component: Component,\n};\n\nexport default Component;\n","import { AbstractSketch } from \"src/components/p5/useSketch\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport p5 from \"p5\";\nimport { createKeyedPoint } from \"./useGridGraph\";\nimport DataItemBoid from \"src/components/p5/Boid/DataItemBoid\";\nimport { PointDataItem } from \"src/components/p5/Boid/types\";\n\ninterface Config {\n  sourceNode: PointDataItem;\n  destinationNode: PointDataItem;\n  graph: Graph<PointDataItem>;\n  path: PointDataItem[];\n  toggleConnection: (vertex: PointDataItem) => void;\n}\n\nconst getDefaultConfig = (): Config => ({\n  graph: new Graph(),\n  sourceNode: createKeyedPoint(0, 0),\n  destinationNode: createKeyedPoint(0, 0),\n  path: [],\n  toggleConnection: () => { },\n});\n\nconst WIDTH = 800;\nconst HEIGHT = 500;\nconst SPREAD = 50;\n\nclass GridSketch extends AbstractSketch<Config> {\n  boids: {\n    [id: string]: DataItemBoid<PointDataItem>;\n  };\n\n  constructor() {\n    super(getDefaultConfig());\n    this.boids = {};\n  }\n\n  getBoid(point: PointDataItem): DataItemBoid<PointDataItem> | undefined {\n    return this.boids[point.key];\n  }\n\n  getOrCreateBoid(sketch: p5, point: PointDataItem) {\n    if (!this.boids[point.key]) {\n      this.boids[point.key] = new DataItemBoid<PointDataItem>({\n        entity: point,\n        label: point.label,\n        radius: 20,\n        position: sketch.createVector(\n          (point.value.x + 1) * SPREAD,\n          (point.value.y + 1) * SPREAD\n        ),\n      });\n    }\n    return this.boids[point.key];\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 10);\n      s.textAlign(s.CENTER, s.CENTER);\n    };\n\n    s.mouseClicked = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      const boid = Object.values(that.boids).find((boid) =>\n        boid.isMouseOver(mousePosition)\n      );\n      if (boid !== undefined) {\n        that.config.toggleConnection(boid.entity);\n      }\n    };\n\n    s.draw = function () {\n      s.background(230);\n      s.push();\n\n      const {\n        graph: { areVerticesEqual, vertices, edges },\n        sourceNode,\n        destinationNode,\n        path,\n      } = that.config;\n\n      let boidsInSketch: DataItemBoid<PointDataItem>[] = vertices.map((v) => {\n        const boid = that.getOrCreateBoid(s, v);\n        if (areVerticesEqual(v, sourceNode)) {\n          boid.colour = \"lime\";\n        } else if (areVerticesEqual(v, destinationNode)) {\n          boid.colour = \"red\";\n        } else if (path.find((p) => areVerticesEqual(p, v)) !== undefined) {\n          boid.colour = \"cyan\";\n        } else {\n          boid.colour = \"black\";\n        }\n        return boid;\n      });\n\n      const boidIdsInSketch: string[] = vertices.map((v) => v.key);\n\n      // Draw the lines for all connections\n      s.stroke(\"black\");\n      s.strokeWeight(4);\n      edges\n        .filter(\n          ({ from, to }) =>\n            boidIdsInSketch.includes(from.key) &&\n            boidIdsInSketch.includes(to.key)\n        )\n        .map(({ from, to, weight }) => ({\n          from: that.getOrCreateBoid(s, from),\n          to: that.getOrCreateBoid(s, to),\n          weight,\n        }))\n        .forEach(\n          ({\n            from: {\n              position: { x: xFrom, y: yFrom },\n            },\n            to: {\n              position: { x: xTo, y: yTo },\n            },\n          }) => {\n            s.line(xFrom, yFrom, xTo, yTo);\n          }\n        );\n\n      // Draw the lines on our route\n      s.stroke(\"cyan\");\n      s.strokeWeight(4);\n      for (let i = 0; i < path.length - 1; i++) {\n        const from = that.getOrCreateBoid(s, path[i]);\n        const to = that.getOrCreateBoid(s, path[i + 1]);\n        s.line(from.position.x, from.position.y, to.position.x, to.position.y);\n      }\n\n      /// Call upon all boids to draw themselves\n      boidsInSketch.forEach((b) => b.draw(s));\n    };\n  };\n}\n\nexport default GridSketch;\n","import React from \"react\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { cloneDeep } from \"lodash\";\n\nimport {\n  dijstraks,\n  getPathTo,\n} from \"comp-sci-maths-lib/dist/algorithms/routing/dijkstras\";\nimport {\n  ShortestPathTree,\n  ObserverArgsWithPathFrom,\n  HeuristicCostFunction,\n  RoutingObserver,\n} from \"comp-sci-maths-lib/dist/algorithms/routing/types\";\nimport { HeuristicCostById } from \"./types\";\nimport p5 from \"p5\";\nimport { Optional } from \"comp-sci-maths-lib/dist/types\";\nimport { DisplayDataItem } from \"src/components/p5/Boid/types\";\n\nexport interface Props<DATA_ITEM extends DisplayDataItem<any>> {\n  sourceNode?: DATA_ITEM;\n  destinationNode?: DATA_ITEM;\n  getPositionOfNode: (vertex: DATA_ITEM) => Optional<p5.Vector>;\n  graph: Graph<DATA_ITEM>;\n  version: number;\n}\n\nexport interface UseRoutingAlgorithm<DATA_ITEM extends DisplayDataItem<any>> {\n  shortestPathTree: ShortestPathTree<DATA_ITEM>;\n  path: DATA_ITEM[];\n  heuristicCosts: HeuristicCostById;\n  stages: ObserverArgsWithPathFrom<DATA_ITEM>[];\n  onHarvestDistances: () => void;\n  onResetDistances: () => void;\n}\n\nexport default <DATA_ITEM extends DisplayDataItem<any>>({\n  sourceNode,\n  version,\n  destinationNode,\n  graph,\n  getPositionOfNode,\n}: Props<DATA_ITEM>): UseRoutingAlgorithm<DATA_ITEM> => {\n\n  const [heuristicCosts, setHeuristicsCosts] = React.useState<\n    HeuristicCostById\n  >({});\n\n  const getHeuristicCost: HeuristicCostFunction<DATA_ITEM> = React.useCallback(\n    (vertex: DATA_ITEM) =>\n      heuristicCosts[vertex.key] ? heuristicCosts[vertex.key].distance : 0,\n    [heuristicCosts]\n  );\n\n  const onResetDistances = React.useCallback(() => setHeuristicsCosts({}), [\n    setHeuristicsCosts,\n  ]);\n\n  const onHarvestDistances = React.useCallback(() => {\n    if (destinationNode !== undefined) {\n      const destinationPosition = getPositionOfNode(destinationNode);\n      if (!!destinationPosition) {\n        const costs: HeuristicCostById = graph.vertices\n          .map((vertex) => ({\n            vertex,\n            position: getPositionOfNode(vertex) || destinationPosition,\n          }))\n          .map(({ vertex, position }) => ({\n            vertex,\n            position,\n            distance: p5.Vector.sub(position, destinationPosition).mag(),\n          }))\n          .reduce(\n            (acc, { position, vertex, distance }) => ({\n              ...acc,\n              [vertex.key]: { label: vertex.label, position, distance },\n            }),\n            {}\n          );\n\n        setHeuristicsCosts(costs);\n      }\n    }\n    // eslint-disable-next-line\n  }, [destinationNode, getPositionOfNode, version, graph.vertices, setHeuristicsCosts]);\n\n  const { stages, shortestPathTree, path } = React.useMemo(() => {\n    const stages: ObserverArgsWithPathFrom<DATA_ITEM>[] = [];\n    const observer: RoutingObserver<DATA_ITEM> = ({\n      shortestPathTree,\n      currentDistances,\n      currentItem,\n      outgoing,\n    }) => {\n      const endNode: DATA_ITEM =\n        currentItem !== undefined && currentItem.viaNode !== undefined\n          ? currentItem.viaNode\n          : destinationNode !== undefined\n            ? destinationNode\n            : (sourceNode as DATA_ITEM);\n      const observerArgs: ObserverArgsWithPathFrom<DATA_ITEM> = {\n        currentItem,\n        currentDistances,\n        shortestPathTree,\n        outgoing,\n        pathFrom: [\n          ...getPathTo({\n            graph,\n            shortestPathTree,\n            node: endNode,\n          }),\n          endNode,\n        ],\n      };\n      stages.push(cloneDeep(observerArgs));\n    };\n    const shortestPathTree: ShortestPathTree<DATA_ITEM> =\n      (sourceNode !== undefined && destinationNode !== undefined)\n        ? dijstraks({\n          graph,\n          sourceNodeKey: sourceNode.key,\n          destinationNodeKey: destinationNode.key,\n          getHeuristicCost,\n          observer,\n        })\n        : {};\n    const path =\n      destinationNode !== undefined\n        ? getPathTo({ graph, shortestPathTree, node: destinationNode })\n        : [];\n\n    return {\n      shortestPathTree,\n      path,\n      stages,\n    };\n    // eslint-disable-next-line\n  }, [getHeuristicCost, sourceNode, destinationNode, graph, version]);\n\n  return {\n    stages,\n    shortestPathTree,\n    path,\n    heuristicCosts,\n    onHarvestDistances,\n    onResetDistances,\n  };\n};\n","import React from \"react\";\nimport { useToggledInterval, UseToggledInterval } from \"../useInterval\";\nimport useItemInArray, {\n  UseItemInArray,\n} from \"../useLoopCounter/useItemInArray\";\n\ninterface Props<T> extends UseToggledInterval, UseItemInArray<T> {\n  items: T[];\n}\n\nconst SteppingControls = <T,>({\n  index,\n  items,\n  isAutoIterating,\n  setIsAutoIterating,\n  stepForward,\n  stepBackward,\n  goToLast,\n  goToFirst,\n}: Props<T>) => (\n  <div>\n    <h4>Stepping Through Stages</h4>\n    <p>\n      Step {index + 1} of {items.length}\n    </p>\n    <div>\n      <button\n        disabled={isAutoIterating}\n        className=\"btn btn-danger mr-2\"\n        onClick={goToFirst}\n      >\n        <span className=\"oi oi-media-skip-backward\"></span>\n      </button>\n      <button\n        disabled={isAutoIterating}\n        className=\"btn btn-primary mr-2\"\n        onClick={stepBackward}\n      >\n        <span className=\"oi oi-media-step-backward\"></span>\n      </button>\n\n      {isAutoIterating ? (\n        <button\n          className=\"btn btn-danger mr-2\"\n          onClick={() => setIsAutoIterating(false)}\n        >\n          <span className=\"oi oi-media-stop\"></span>\n        </button>\n      ) : (\n        <button\n          className=\"btn btn-primary mr-2\"\n          onClick={() => setIsAutoIterating(true)}\n        >\n          <span className=\"oi oi-media-play\"></span>\n        </button>\n      )}\n\n      <button\n        disabled={isAutoIterating}\n        className=\"btn btn-primary mr-2\"\n        onClick={stepForward}\n      >\n        <span className=\"oi oi-media-step-forward\"></span>\n      </button>\n      <button\n        disabled={isAutoIterating}\n        className=\"btn btn-danger mr-2\"\n        onClick={goToLast}\n      >\n        <span className=\"oi oi-media-skip-forward\"></span>\n      </button>\n    </div>\n  </div>\n);\n\ninterface UseSteppingControls<T> {\n  index: number;\n  item?: T;\n  componentProps: Props<T>;\n}\n\nexport const useSteppingControls = <T,>(items: T[]): UseSteppingControls<T> => {\n  const itemsInArray = useItemInArray({\n    items,\n  });\n\n  const { index, stepForward, item } = itemsInArray;\n\n  // Only auto iterate forward if we aren't on the final step\n  const autoStepForward = React.useCallback(() => {\n    if (index < items.length - 1) {\n      stepForward();\n    }\n  }, [index, items.length, stepForward]);\n\n  const toggledInterval = useToggledInterval({\n    iterate: autoStepForward,\n    interval: 500,\n  });\n\n  return {\n    index,\n    item,\n    componentProps: React.useMemo(\n      () => ({\n        ...toggledInterval,\n        ...itemsInArray,\n        items,\n      }),\n      [toggledInterval, itemsInArray, items]\n    ),\n  };\n};\n\nexport default SteppingControls;\n","import React from \"react\";\nimport { Optional } from \"comp-sci-maths-lib/dist/types\";\nimport Table from \"src/components/Bootstrap/Table\";\nimport { roundTo2Dp } from \"comp-sci-maths-lib/dist/algorithms/pageRank/pageRank\";\nimport { DisplayDataItem } from \"src/components/p5/Boid/types\";\n\ninterface Item<DATA_ITEM extends DisplayDataItem<any>> {\n  node: string;\n  cost: number;\n  viaNode: Optional<DATA_ITEM>;\n}\n\ninterface Props<DATA_ITEM extends DisplayDataItem<any>> {\n  items: Item<DATA_ITEM>[];\n}\n\nconst ShortestPathWithNodeTable = <DATA_ITEM extends DisplayDataItem<any>>({\n  items,\n}: Props<DATA_ITEM>) => {\n  const tableData = React.useMemo(\n    () =>\n      items.map(({ node, cost, viaNode }) => ({\n        node,\n        cost: roundTo2Dp(cost),\n        viaNode: viaNode ? viaNode.label : \"NONE\",\n      })),\n    [items]\n  );\n\n  return <Table headings={[\"node\", \"cost\", \"viaNode\"]} data={tableData} />;\n};\n\nexport default ShortestPathWithNodeTable;\n","import React from \"react\";\nimport ShortestPathWithNodeTable from \"./ShortestPathWithNodeTable\";\nimport {\n  ObserverArgsWithPathFrom,\n  getCurrentWeightCalcTypeStr,\n} from \"comp-sci-maths-lib/dist/algorithms/routing/types\";\nimport Table from \"src/components/Bootstrap/Table\";\nimport { DisplayDataItem } from \"src/components/p5/Boid/types\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { roundTo2Dp } from \"comp-sci-maths-lib/dist/algorithms/pageRank/pageRank\";\n\ninterface Props<DATA_ITEM extends DisplayDataItem<any>> {\n  graph: Graph<DATA_ITEM>;\n  currentStage: ObserverArgsWithPathFrom<DATA_ITEM>;\n}\n\nconst RouteObserverStage = <DATA_ITEM extends DisplayDataItem<any>>({\n  graph,\n  currentStage: { shortestPathTree, currentItem, currentDistances, outgoing },\n}: Props<DATA_ITEM>) => {\n  const shortestPathTreeItems = React.useMemo(\n    () =>\n      Object.entries(shortestPathTree).map(([node, { cost, viaNode }]) => ({\n        node: graph.getVertex(node)?.label || \"NONE\", // Ideally we would fetch back the original node...\n        cost,\n        viaNode,\n      })),\n    [shortestPathTree, graph]\n  );\n  const queueItems = React.useMemo(\n    () =>\n      currentDistances.toArray().map(({ node, cost, viaNode }) => ({\n        node: node.label,\n        cost,\n        viaNode,\n      })),\n    [currentDistances]\n  );\n  const currentItemForTable = React.useMemo(() => {\n    if (currentItem !== undefined) {\n      return [{ ...currentItem, node: currentItem.node.label }];\n    }\n    return [];\n  }, [currentItem]);\n\n  const outgoingData = React.useMemo(\n    () =>\n      outgoing.map(({ totalCost, calcResult, edge: { to, weight } }) => ({\n        to: to.label,\n        weight,\n        totalCost: roundTo2Dp(totalCost),\n        calcResult: getCurrentWeightCalcTypeStr(calcResult),\n      })),\n    [outgoing]\n  );\n\n  return (\n    <React.Fragment>\n      <h4>Current Item</h4>\n      <ShortestPathWithNodeTable items={currentItemForTable} />\n      <div className=\"routing-visual\">\n        <div className=\"mr-5\">\n          <h4>Unvisited Outgoing Links</h4>\n          <Table\n            headings={[\"to\", \"weight\", \"totalCost\", \"calcResult\"]}\n            data={outgoingData}\n          />\n        </div>\n        <div className=\"mr-5\">\n          <h4>Routing Queue (After)</h4>\n          <ShortestPathWithNodeTable items={queueItems} />\n        </div>\n        <div>\n          <h4>Visited Nodes</h4>\n          <ShortestPathWithNodeTable items={shortestPathTreeItems} />\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default RouteObserverStage;\n","import React from \"react\";\nimport { HeuristicCostById } from \"./types\";\nimport Table from \"src/components/Bootstrap/Table\";\nimport { roundTo2Dp } from \"comp-sci-maths-lib/dist/algorithms/pageRank/pageRank\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\n\ninterface Props {\n  graph: Graph<any>;\n  heuristicCostsById: HeuristicCostById;\n}\n\nconst HeuristicCostTable: React.FunctionComponent<Props> = ({\n  graph,\n  heuristicCostsById,\n}) => {\n  const tableData = React.useMemo(\n    () =>\n      Object.entries(heuristicCostsById).map(\n        ([\n          id,\n          {\n            position: { x, y },\n            distance,\n          },\n        ]) => ({\n          name: graph.vertices.find((v) => v.key === id)?.label,\n          position: `x: ${roundTo2Dp(x)}, y: ${roundTo2Dp(y)}`,\n          distance: roundTo2Dp(distance),\n        })\n      ),\n    [graph, heuristicCostsById]\n  );\n\n  return <Table data={tableData} headings={[\"name\", \"position\", \"distance\"]} />;\n};\n\nexport default HeuristicCostTable;\n","import React from \"react\";\nimport useSketch from \"src/components/p5/useSketch\";\nimport GridSketch from \"./GridSketch\";\nimport useGridGraph from \"./useGridGraph\";\nimport useRoutingAlgorithm from \"../useRoutingAlgorithm\";\n\nimport \"./routing.css\";\nimport SteppingControls, {\n  useSteppingControls,\n} from \"src/components/lib/SteppingControls\";\nimport RouteObserverStage from \"../RouteObserverStage\";\nimport HeuristicCostTable from \"src/components/ComputerScience/Algorithms/Routing/HeuristicCostTable\";\nimport { PointDataItem } from \"src/components/p5/Boid/types\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\n\nconst GridRouting: React.FunctionComponent = () => {\n  const { refContainer, updateConfig, sketchContainer } = useSketch(GridSketch);\n\n  const {\n    graph,\n    version,\n    topLeft: sourceNode,\n    bottomRight: destinationNode,\n    toggleConnection,\n  } = useGridGraph({\n    rows: 8,\n    columns: 15,\n  });\n\n  const getPositionOfNode = React.useCallback(\n    (d: PointDataItem) => {\n      const boid = sketchContainer.getBoid(d);\n      return !!boid ? boid.position : undefined;\n    },\n    [sketchContainer]\n  );\n\n  const {\n    stages,\n    onHarvestDistances,\n    onResetDistances,\n    heuristicCosts,\n  } = useRoutingAlgorithm({\n    graph,\n    version,\n    sourceNode,\n    destinationNode,\n    getPositionOfNode,\n  });\n\n  const {\n    item: currentStage,\n    componentProps: steppingControlProps,\n  } = useSteppingControls(stages);\n\n  React.useEffect(() => {\n    updateConfig({\n      graph,\n      path: currentStage !== undefined ? currentStage.pathFrom : [],\n      toggleConnection,\n    });\n  }, [currentStage, graph, updateConfig, toggleConnection]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          styleType: \"primary\",\n          onClick: onHarvestDistances,\n          text: \"Harvest Distances\",\n        },\n        {\n          styleType: \"danger\",\n          onClick: onResetDistances,\n          text: \"Clear Distances\",\n        },\n      ],\n    }),\n    [onHarvestDistances, onResetDistances]\n  );\n\n  return (\n    <div>\n      <div ref={refContainer} />\n\n      <div className=\"mb-3\">\n        <p>\n          The A* algorithm is an enchancement on Dijkstras. It takes into\n          account the estimated distance from a given node to the endpoint when\n          calculating the cost for it's priority queue. To make use of this\n          enhancement, click on 'Harvest Distances' and the euclidean distances\n          from each node to the destination will be calculated and used as part\n          of the routing algorithm.\n        </p>\n        <ButtonBar {...buttonBarProps} />\n      </div>\n\n      <HeuristicCostTable graph={graph} heuristicCostsById={heuristicCosts} />\n\n      <SteppingControls {...steppingControlProps} />\n\n      {currentStage && (\n        <RouteObserverStage graph={graph} currentStage={currentStage} />\n      )}\n    </div>\n  );\n};\n\nexport default GridRouting;\n","import Component from \"./GridRouting\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/routing/grid\",\n  title: \"Routing - Grid\",\n  description:\n    \"Build a maze using a grid of dots, then observe how Dijkstras routing algorithm (and A*) can find a way across\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport useRoutingAlgorithm from \"../useRoutingAlgorithm\";\nimport VertexPicker, {\n  usePicker as useVertexPicker,\n} from \"src/components/ComputerScience/DataStructures/GraphManager/GraphBuilder/VertexPicker\";\nimport SteppingControls, {\n  useSteppingControls,\n} from \"src/components/lib/SteppingControls\";\nimport RouteObserverStage from \"../RouteObserverStage\";\nimport HeuristicCostTable from \"src/components/ComputerScience/Algorithms/Routing/HeuristicCostTable\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\n\nimport GraphPickerWithSketch, {\n  usePicker as useGraphPicker,\n} from \"src/components/ComputerScience/DataStructures/GraphManager/GraphPickerWithSketch\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\n\nconst GraphRouting: React.FunctionComponent = () => {\n  const {\n    graph,\n    componentProps: graphPickerProps,\n    sketchUse: { sketchContainer },\n  } = useGraphPicker(\"complexStringGraph\");\n\n  const {\n    vertex: sourceNode,\n    componentProps: sourcePickerProps,\n  } = useVertexPicker(graph, \"form-control\");\n  const {\n    vertex: destinationNode,\n    componentProps: destinationPickerProps,\n  } = useVertexPicker(graph, \"form-control\");\n\n  const getPositionOfNode = React.useCallback(\n    (d: StringDataItem) => {\n      const boid = sketchContainer.getBoid(d);\n      return !!boid ? boid.position : undefined;\n    },\n    [sketchContainer]\n  );\n\n  const {\n    path,\n    stages,\n    onHarvestDistances,\n    onResetDistances,\n    heuristicCosts,\n  } = useRoutingAlgorithm({\n    graph, version: 0,\n    sourceNode,\n    destinationNode,\n    getPositionOfNode,\n  });\n\n  const {\n    item: currentStage,\n    componentProps: steppingControlProps,\n  } = useSteppingControls(stages);\n\n  React.useEffect(() => {\n    graph.vertices.forEach((v) => {\n      if (\n        (sourceNode && graph.areVerticesEqual(sourceNode, v)) ||\n        (destinationNode && graph.areVerticesEqual(destinationNode, v))\n      ) {\n        sketchContainer.setBorderWeight(v, 3);\n        sketchContainer.setBorderColour(v, \"black\");\n        sketchContainer.setColour(v, \"green\");\n      } else if (\n        currentStage !== undefined &&\n        currentStage.currentItem !== undefined &&\n        currentStage.currentItem.node.key === v.key\n      ) {\n        sketchContainer.setBorderWeight(v, 3);\n        sketchContainer.setBorderColour(v, \"red\");\n      } else if (\n        currentStage !== undefined &&\n        currentStage.pathFrom.map((p) => p.key).includes(v.key)\n      ) {\n        sketchContainer.setBorderWeight(v, 3);\n        sketchContainer.setBorderColour(v, \"red\");\n      } else {\n        sketchContainer.setBorderWeight(v, 1);\n        sketchContainer.setBorderColour(v, \"black\");\n        sketchContainer.setColour(v, \"blue\");\n      }\n    });\n  }, [sourceNode, destinationNode, currentStage, graph, path, sketchContainer]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          styleType: \"primary\",\n          onClick: onHarvestDistances,\n          text: \"Harvest Distances\",\n        },\n        {\n          styleType: \"danger\",\n          onClick: onResetDistances,\n          text: \"Clear Distances\",\n        },\n      ],\n    }),\n    [onHarvestDistances, onResetDistances]\n  );\n\n  return (\n    <div>\n      <GraphPickerWithSketch {...graphPickerProps} />\n      <h2>Choose Endpoints</h2>\n      <form>\n        <div className=\"form-group\">\n          <label>Source</label>\n          <VertexPicker {...sourcePickerProps} />\n        </div>\n        <div className=\"form-group\">\n          <label>Destination</label>\n          <VertexPicker {...destinationPickerProps} />\n        </div>\n      </form>\n      <h2>Path Found - {path.map(p => p.value).join('->')}</h2>\n      <h2>A* Algorithm</h2>\n      <div className=\"mb-3\">\n        <p>\n          The A* algorithm is an enchancement on Dijkstras. It takes into\n          account the estimated distance from a given node to the endpoint when\n          calculating the cost for it's priority queue. To make use of this\n          enhancement, click on 'Harvest Distances' and the euclidean distances\n          from each node to the destination will be calculated and used as part\n          of the routing algorithm.\n        </p>\n        <ButtonBar {...buttonBarProps} />\n      </div>\n\n      <HeuristicCostTable graph={graph} heuristicCostsById={heuristicCosts} />\n\n      <SteppingControls {...steppingControlProps} />\n\n      {currentStage && (\n        <div className=\"mt-3\">\n          <RouteObserverStage graph={graph} currentStage={currentStage} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GraphRouting;\n","import Component from \"./GraphRouting\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/routing/graph\",\n  title: \"Routing - Graph\",\n  description:\n    \"Build a graph of nodes then observe how Dijstras Routing algorithm (and extend with A*) finds a way from one node to another\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport algorithms from \"comp-sci-maths-lib/dist/algorithms/search/monitoredSearch\";\nimport { NamedSearch } from \"comp-sci-maths-lib/dist/types\";\nimport { ControlledInput } from \"src/types\";\n\ninterface Props extends ControlledInput<NamedSearch | undefined> {\n  className?: string;\n}\n\nconst SearchAlgorithmPicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(algorithms.find(({ name }) => name === value)),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(algorithms[0]), [onChange]);\n\n  return (\n    <select\n      className={className}\n      onChange={onSelectChange}\n      value={value && value.name}\n    >\n      <option />\n      {algorithms.map(({ name }) => (\n        <option key={name} value={name}>\n          {name}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  algorithm: NamedSearch | undefined;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<NamedSearch | undefined>(undefined);\n\n  return {\n    algorithm: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default SearchAlgorithmPicker;\n","import { PositionVars } from \"comp-sci-maths-lib/dist/types\";\n\nexport interface SearchObservation {\n  stageName: string;\n  positionVars: PositionVars;\n}\n\nexport const DEFAULT_SEARCH_OBS: SearchObservation = {\n  stageName: \"DEFAULT\",\n  positionVars: {},\n};\n\nexport interface SearchingData<T> {\n  stages: SearchObservation[];\n  matchIndex: number;\n  searchItem: string;\n  data: T[];\n}\n","import p5 from \"p5\";\nimport { NO_MATCH } from \"comp-sci-maths-lib/dist/algorithms/search/common\";\nimport { AbstractSketch } from \"src/components/p5/useSketch\";\n\nimport { DEFAULT_SEARCH_OBS, SearchObservation } from \"./types\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\n\nconst WIDTH = 600;\nconst HEIGHT = 600;\n\ninterface Config {\n  searchItem?: string;\n  data: StringDataItem[];\n  searchStage: SearchObservation;\n  matchIndex: number;\n  isFinalStage: boolean;\n}\n\nconst getDefaultConfig = <T>(): Config => ({\n  searchItem: undefined,\n  data: [],\n  searchStage: DEFAULT_SEARCH_OBS,\n  matchIndex: NO_MATCH,\n  isFinalStage: false,\n});\n\nclass SearchingSketch<T> extends AbstractSketch<Config> {\n  knownPositionVars: string[];\n\n  constructor() {\n    super(getDefaultConfig());\n    this.knownPositionVars = [];\n  }\n\n  reset() {\n    this.knownPositionVars = [];\n  }\n\n  getPositionVarIndex(positionVar: string): number {\n    if (!this.knownPositionVars.includes(positionVar)) {\n      this.knownPositionVars.push(positionVar);\n    }\n\n    return this.knownPositionVars.indexOf(positionVar);\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 18);\n    };\n\n    s.draw = function () {\n      const {\n        searchStage = DEFAULT_SEARCH_OBS,\n        data,\n        matchIndex,\n        isFinalStage,\n      } = that.config;\n\n      const { stageName, positionVars } = searchStage;\n\n      s.background(\"white\");\n\n      // Draw the data\n      let datyaY = 100;\n      let dataWidth = s.width / (data.length + 2);\n      let getDataX = (i: number) => (i + 1.5) * dataWidth;\n\n      data.forEach((item, i) => {\n        let x = getDataX(i);\n\n        // Work out the fill colour\n        switch (i) {\n          case matchIndex:\n            if (isFinalStage) {\n              s.fill(\"lime\");\n            } else {\n              s.fill(\"lightblue\");\n            }\n            break;\n          default:\n            s.fill(\"lightblue\");\n            break;\n        }\n\n        // Work out the stroke\n        if (Object.values(positionVars).includes(i)) {\n          s.strokeWeight(3);\n        } else {\n          s.strokeWeight(1);\n        }\n\n        s.ellipse(x, datyaY, dataWidth, dataWidth);\n        s.fill(\"black\");\n        s.text(item.value, x, datyaY);\n      });\n\n      s.fill(\"black\");\n\n      s.textAlign(s.LEFT, s.CENTER);\n      s.text(stageName, 20, 20);\n\n      // Ensure position vars are in consistent order\n\n      s.textAlign(s.CENTER, s.CENTER);\n      Object.entries(positionVars)\n        .map((k) => ({\n          key: k[0],\n          position: that.getPositionVarIndex(k[0]),\n          index: k[1],\n        }))\n        .forEach(({ key, position, index }) => {\n          s.text(`${key}`, getDataX(index), 150 + position * 30);\n        });\n    };\n  }\n}\n\nexport default SearchingSketch;\n","import React from \"react\";\n\nimport {\n  stringComparator,\n  generateRandomLetters,\n} from \"comp-sci-maths-lib/dist/common\";\nimport { NamedSearch, SearchUtilities } from \"comp-sci-maths-lib/dist/types\";\n\nimport { SearchingData, SearchObservation } from \"./types\";\nimport { NO_MATCH } from \"comp-sci-maths-lib/dist/algorithms/search/common\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\n\ninterface Props {\n  algorithm?: NamedSearch;\n  searchItem: string;\n}\n\nconst useSearchedData = ({\n  algorithm,\n  searchItem,\n}: Props): SearchingData<StringDataItem> => {\n  const data: StringDataItem[] = React.useMemo(\n    () =>\n      generateRandomLetters(20, { unique: true, sorted: true }).map((d, i) => ({\n        key: i.toString(),\n        label: d,\n        value: d,\n      })),\n    []\n  );\n\n  const { matchIndex, stages } = React.useMemo(() => {\n    let stages: SearchObservation[] = [];\n    let lastObservation: SearchObservation;\n\n    const searchUtilities: SearchUtilities<StringDataItem> = {\n      compare: (a, b) => stringComparator(a.value, b.value),\n      observe: (stageName, positionVars) => {\n        lastObservation = {\n          stageName,\n          positionVars: { ...positionVars },\n        };\n        stages.push(lastObservation);\n      },\n    };\n\n    // Add explicit Start Observation\n    stages.push({\n      stageName: \"Starting\",\n      positionVars: {},\n    });\n\n    // Run the algorithm\n    let matchIndex: number = NO_MATCH;\n    if (!!algorithm) {\n      matchIndex = algorithm.search(\n        data,\n        { key: \"NONE\", label: searchItem, value: searchItem },\n        searchUtilities\n      );\n    }\n\n    // Add explicit End Observation\n    stages.push({\n      stageName: \"Finished\",\n      positionVars: {\n        matchIndex,\n      },\n    });\n\n    return { matchIndex, stages };\n  }, [data, searchItem, algorithm]);\n\n  return {\n    data,\n    searchItem,\n    matchIndex,\n    stages,\n  };\n};\nexport default useSearchedData;\n","import React from \"react\";\n\nimport SearchAlgorithmPicker, {\n  usePicker as useSearchAlgorithmPicker,\n} from \"./SearchAlgorithmPicker\";\n\nimport SearchSketch from \"./SearchSketch\";\nimport useSearchedData from \"./useSearchData\";\nimport useSketch from \"src/components/p5/useSketch\";\nimport SteppingControls, {\n  useSteppingControls,\n} from \"src/components/lib/SteppingControls\";\n\nconst Search: React.FunctionComponent = () => {\n  const {\n    algorithm,\n    componentProps: algorithmPickerProps,\n  } = useSearchAlgorithmPicker(\"form-control\");\n\n  const [searchItem, setSearchItem] = React.useState<string>(\"\");\n  const onSearchItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setSearchItem(value),\n    [setSearchItem]\n  );\n\n  const { data, matchIndex, stages } = useSearchedData({\n    algorithm,\n    searchItem,\n  });\n\n  const {\n    index,\n    item: searchStage,\n    componentProps: steppingControlProps,\n  } = useSteppingControls(stages);\n\n  const { updateConfig, sketchContainer, refContainer } = useSketch(\n    SearchSketch\n  );\n\n  // Whenever the sort is redone, tell the sketch\n  React.useEffect(() => {\n    updateConfig({\n      data,\n      matchIndex,\n      searchStage,\n      searchItem,\n      isFinalStage: index === stages.length - 1,\n    });\n  }, [\n    index,\n    stages.length,\n    data,\n    matchIndex,\n    searchStage,\n    searchItem,\n    updateConfig,\n  ]);\n\n  const { goToFirst } = steppingControlProps;\n  React.useEffect(() => {\n    goToFirst();\n    sketchContainer.reset();\n  }, [goToFirst, sketchContainer, algorithm, searchItem]);\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Choose Algorithm</label>\n          <SearchAlgorithmPicker {...algorithmPickerProps} />\n        </div>\n      </form>\n\n      <h2>{!!algorithm ? algorithm.name : \"please select algorithm\"}</h2>\n      <div>\n        <div className=\"form-group\">\n          <label>Search Item</label>\n          <input\n            className=\"form-control\"\n            value={searchItem}\n            onChange={onSearchItemChange}\n          />\n        </div>\n        <SteppingControls {...steppingControlProps} />\n      </div>\n\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default Search;\n","import Component from \"./Search\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/searching\",\n  title: \"Searching\",\n  description:\n    \"Observe the operation of various searching algorithms as they operate step by step\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport algorithms from \"comp-sci-maths-lib/dist/algorithms/sort/monitoredSortAlgorithms\";\nimport { ControlledInput } from \"src/types\";\nimport { NamedCustomisableSort } from \"comp-sci-maths-lib/dist/algorithms/sort/types\";\n\ninterface Props extends ControlledInput<NamedCustomisableSort | undefined> {\n  className?: string;\n}\n\nconst SortingAlgorithmPicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(algorithms.find(({ name }) => name === value)),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(algorithms[0]), [onChange]);\n\n  return (\n    <select\n      className={className}\n      onChange={onSelectChange}\n      value={value && value.name}\n    >\n      <option />\n      {algorithms.map(({ name }) => (\n        <option key={name} value={name}>\n          {name}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  algorithm: NamedCustomisableSort | undefined;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<NamedCustomisableSort | undefined>(\n    undefined\n  );\n\n  return {\n    algorithm: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default SortingAlgorithmPicker;\n","import { AbstractSketch } from \"src/components/p5/useSketch\";\nimport p5 from \"p5\";\nimport DataItemBoid from \"src/components/p5/Boid/DataItemBoid\";\nimport { DisplayDataItem } from \"src/components/p5/Boid/types\";\n\nconst WIDTH = 600;\nconst HEIGHT = 600;\n\nexport enum Orientation {\n  horizontal,\n  vertical,\n}\n\nexport interface Config<T> {\n  orientation: Orientation;\n  dataItems: DisplayDataItem<T>[];\n  lastRetrievedItem: DisplayDataItem<T> | null;\n}\n\nconst getDefaultConfig = <T>(): Config<T> => ({\n  orientation: Orientation.horizontal,\n  dataItems: [],\n  lastRetrievedItem: null,\n});\n\nexport class ArraySketch<T> extends AbstractSketch<Config<T>> {\n  boids: DataItemBoid<DisplayDataItem<T>>[];\n\n  constructor() {\n    super(getDefaultConfig());\n\n    this.boids = [];\n  }\n\n  getOrCreateBoid = (s: p5, dataItem: DisplayDataItem<T>): DataItemBoid<T> => {\n    let boid = this.boids[dataItem.key];\n\n    if (!boid) {\n      boid = new DataItemBoid<DisplayDataItem<T>>({\n        entity: dataItem,\n        position: s.createVector(0, 0),\n        radius: 40,\n        maxSpeed: 5,\n        label: dataItem.label,\n      });\n      this.boids[dataItem.key] = boid;\n    }\n\n    return boid;\n  };\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 18);\n    };\n\n    s.draw = function () {\n      s.background(220);\n\n      const { dataItems, lastRetrievedItem, orientation } = that.config;\n\n      const boids = dataItems.map((d) => that.getOrCreateBoid(s, d));\n\n      boids.forEach((boid, i) => {\n        let target: p5.Vector;\n        switch (orientation) {\n          case Orientation.horizontal:\n            target = s.createVector((i + 1) * 50, 100);\n            break;\n          case Orientation.vertical:\n            target = s.createVector(100, (i + 1) * 50);\n            break;\n        }\n        boid.arrive(s, target, 5);\n      });\n\n      if (lastRetrievedItem !== null) {\n        const boid = that.getOrCreateBoid(s, lastRetrievedItem);\n\n        let target: p5.Vector;\n        switch (orientation) {\n          case Orientation.horizontal:\n            target = s.createVector(50, 200);\n            break;\n          case Orientation.vertical:\n            target = s.createVector(200, 50);\n            break;\n        }\n        boid.arrive(s, target, 5);\n        boids.push(boid);\n      }\n\n      boids.forEach((b) => b.update(s));\n      boids.forEach((b) => b.draw(s));\n    };\n  };\n}\n\nexport class ArraySketchNumber extends ArraySketch<number> { }\nexport class ArraySketchString extends ArraySketch<string> { }\n\nexport default ArraySketch;\n","import p5 from \"p5\";\nimport { NO_MATCH } from \"comp-sci-maths-lib/dist/algorithms/search/common\";\nimport { AbstractSketch } from \"src/components/p5/useSketch\";\n\nimport {\n  SortStage,\n  DEFAULT_SORT_STAGE,\n  SortStageType,\n  SortObservation,\n} from \"./types\";\nimport DataItemBoid from \"src/components/p5/Boid/DataItemBoid\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\n\nconst WIDTH = 600;\nconst HEIGHT = 300;\n\nconst DATA_Y = 100;\n\ninterface Config {\n  sortStage: SortStage<StringDataItem>;\n}\n\nconst getDefaultConfig = (): Config => ({\n  sortStage: DEFAULT_SORT_STAGE,\n});\n\nclass SortingSketch extends AbstractSketch<Config> {\n  boids: {\n    [id: string]: DataItemBoid<StringDataItem>;\n  };\n  knownPositionVars: string[];\n\n  constructor() {\n    super(getDefaultConfig());\n    this.boids = {};\n    this.knownPositionVars = [];\n  }\n\n  reset() {\n    this.knownPositionVars = [];\n  }\n\n  getPositionVarIndex(positionVar: string): number {\n    if (!this.knownPositionVars.includes(positionVar)) {\n      this.knownPositionVars.push(positionVar);\n    }\n\n    return this.knownPositionVars.indexOf(positionVar);\n  }\n\n  getBoid(sketch: p5, vertex: StringDataItem, dataLength: number) {\n    if (!this.boids[vertex.key]) {\n      this.boids[vertex.key] = new DataItemBoid<StringDataItem>({\n        entity: vertex,\n        label: vertex.label,\n        radius: sketch.width / (dataLength + 2),\n        minForce: 0,\n        maxSpeed: 3,\n        position: sketch.createVector(\n          sketch.random(0, sketch.width),\n          sketch.random(0, sketch.height)\n        ),\n      });\n    }\n    return this.boids[vertex.key];\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 18);\n    };\n\n    s.draw = function () {\n      const { sortStage = DEFAULT_SORT_STAGE } = that.config;\n\n      const { data, stageName, positionVars }: SortObservation<StringDataItem> =\n        sortStage.type === SortStageType.observation\n          ? sortStage\n          : sortStage.lastObservation;\n\n      const {\n        compareIndexA,\n        compareValueA,\n        compareIndexB,\n        compareValueB,\n        compareResult,\n      } =\n        sortStage.type === SortStageType.compare\n          ? {\n            compareValueA: sortStage.a,\n            compareValueB: sortStage.b,\n            compareIndexA: sortStage.aIndex,\n            compareIndexB: sortStage.bIndex,\n            compareResult: sortStage.result,\n          }\n          : {\n            compareValueA: NO_MATCH,\n            compareValueB: NO_MATCH,\n            compareIndexA: NO_MATCH,\n            compareIndexB: NO_MATCH,\n            compareResult: 0,\n          };\n\n      const { swapFrom, swapTo } =\n        sortStage.type === SortStageType.swap\n          ? { swapFrom: sortStage.from, swapTo: sortStage.to }\n          : {\n            swapFrom: NO_MATCH,\n            swapTo: NO_MATCH,\n          };\n\n      s.background(\"skyblue\");\n\n      // Draw the data\n      let dataWidth = s.width / (data.length + 2);\n      let getDataX = (i: number) => (i + 1.5) * dataWidth;\n\n      const boids: DataItemBoid<StringDataItem>[] = data.map((item, i) => {\n        const boid = that.getBoid(s, item, data.length);\n\n        let x = getDataX(i);\n        switch (i) {\n          case compareIndexA:\n          case compareIndexB:\n            boid.colour = \"green\";\n            break;\n          case swapFrom: {\n            boid.colour = \"red\";\n            x = getDataX(swapTo);\n            break;\n          }\n          case swapTo: {\n            boid.colour = \"red\";\n            x = getDataX(swapFrom);\n            break;\n          }\n          default:\n            boid.colour = \"red\";\n        }\n\n        boid.arrive(s, s.createVector(x, DATA_Y), 5);\n\n        return boid;\n      });\n\n      s.fill(\"black\");\n      s.textAlign(s.LEFT, s.CENTER);\n\n      // Generate the title based on stage information\n      let subTitle = \"\";\n      switch (sortStage.type) {\n        case SortStageType.compare:\n          let comparisonSymbol = \"=\";\n          if (compareResult < 0) {\n            comparisonSymbol = \"<\";\n          } else if (compareResult > 0) {\n            comparisonSymbol = \">\";\n          }\n\n          subTitle = `Comparing data[${compareIndexA}]=${compareValueA} ${comparisonSymbol} data[${compareIndexB}]=${compareValueB}`;\n          break;\n        case SortStageType.swap:\n          subTitle = `Swapping Items [${swapFrom}] and [${swapTo}]`;\n          break;\n      }\n      s.text(stageName, 20, 20);\n      s.text(subTitle, 20, 50);\n\n      boids.forEach((b) => b.update(s));\n      boids.forEach((b, i) => b.draw(s));\n\n      // Ensure position vars are in consistent order\n      s.textAlign(s.CENTER, s.CENTER);\n      s.fill(\"black\");\n      Object.entries(positionVars)\n        .map((k) => ({\n          key: k[0],\n          position: that.getPositionVarIndex(k[0]),\n          index: k[1],\n        }))\n        .forEach(({ key, position, index }) => {\n          s.text(`${key}`, getDataX(index), 150 + position * 30);\n        });\n    };\n  };\n}\n\nexport default SortingSketch;\n","import React from \"react\";\n\nimport {\n  stringComparator,\n  generateRandomLetters,\n  simpleSwap,\n} from \"comp-sci-maths-lib/dist/common\";\n\nimport {\n  SortStage,\n  SortingData,\n  SortStageType,\n  SortObservation,\n} from \"./types\";\nimport { NO_MATCH } from \"comp-sci-maths-lib/dist/algorithms/search/common\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport {\n  NamedCustomisableSort,\n  SortUtility,\n} from \"comp-sci-maths-lib/dist/algorithms/sort/types\";\n\ninterface Props {\n  algorithm?: NamedCustomisableSort;\n}\n\nconst useSortedData = ({ algorithm }: Props): SortingData<StringDataItem> => {\n  const inputList: StringDataItem[] = React.useMemo(\n    () =>\n      generateRandomLetters(10, { sorted: false }).map((d, i) => ({\n        key: i.toString(),\n        label: d,\n        value: d,\n      })),\n    []\n  );\n  const {\n    sortedData,\n    stages,\n  }: SortingData<StringDataItem> = React.useMemo(() => {\n    let sortedData = inputList;\n    let stages: SortStage<StringDataItem>[] = [];\n    let lastObservation: SortObservation<StringDataItem>;\n\n    const sortUtilities: SortUtility<StringDataItem> = {\n      swap: (data, from, to) => {\n        stages.push({\n          type: SortStageType.swap,\n          from,\n          to,\n          lastObservation,\n        });\n        simpleSwap(data, from, to);\n      },\n      compare: (a, b, meta) => {\n        const result = stringComparator(a.value, b.value, meta);\n        stages.push({\n          type: SortStageType.compare,\n          a,\n          b,\n          aIndex: !!meta ? meta.aIndex : NO_MATCH,\n          bIndex: !!meta ? meta.bIndex : NO_MATCH,\n          result,\n          lastObservation,\n        });\n        return result;\n      },\n      observe: (stageName, data, positionVars) => {\n        lastObservation = {\n          type: SortStageType.observation,\n          stageName,\n          data: [...data],\n          positionVars: { ...positionVars },\n        };\n        stages.push(lastObservation);\n      },\n    };\n\n    // Add explicit Start Observation\n    stages.push({\n      type: SortStageType.observation,\n      stageName: \"Starting\",\n      data: [...inputList],\n      positionVars: {},\n    });\n\n    // Run the algorithm\n    if (!!algorithm) {\n      sortedData = algorithm.sort(inputList, sortUtilities);\n    }\n\n    // Add explicit End Observation\n    stages.push({\n      type: SortStageType.observation,\n      stageName: \"Finished\",\n      data: [...sortedData],\n      positionVars: {},\n    });\n\n    return { sortedData, stages };\n  }, [algorithm, inputList]);\n\n  return { sortedData, stages };\n};\nexport default useSortedData;\n","import React from \"react\";\n\nimport SortingAlgorithmPicker, {\n  usePicker as useSortingAlgorithmPicker,\n} from \"./SortingAlgorithmPicker\";\nimport useSketch from \"src/components/p5/useSketch\";\nimport SortingSketch from \"./SortingSketch\";\nimport useSortedData from \"./useSortedData\";\nimport SteppingControls, {\n  useSteppingControls,\n} from \"src/components/lib/SteppingControls\";\n\nconst Sorting: React.FunctionComponent = () => {\n  const {\n    algorithm,\n    componentProps: algorithmPickerProps,\n  } = useSortingAlgorithmPicker(\"form-control\");\n\n  const { stages } = useSortedData({ algorithm });\n\n  const {\n    item: sortStage,\n    componentProps: steppingControlProps,\n  } = useSteppingControls(stages);\n  const { goToFirst } = steppingControlProps;\n\n  const { updateConfig, sketchContainer, refContainer } = useSketch(\n    SortingSketch\n  );\n\n  // Whenever the sort is redone, tell the sketch\n  React.useEffect(() => {\n    updateConfig({ sortStage });\n  }, [sortStage, updateConfig]);\n\n  React.useEffect(() => {\n    goToFirst();\n    sketchContainer.reset();\n  }, [goToFirst, sketchContainer, algorithm]);\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Choose Algorithm</label>\n          <SortingAlgorithmPicker {...algorithmPickerProps} />\n        </div>\n      </form>\n\n      <h2>{!!algorithm ? algorithm.name : \"please select algorithm\"}</h2>\n      <SteppingControls {...steppingControlProps} />\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default Sorting;\n","import Component from \"./Sorting\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/sorting\",\n  title: \"Sorting\",\n  description:\n    \"Observe the operation of various sorting algorithms as they operate, step by step\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport { ControlledInput } from \"src/types\";\n\nexport type AlgorithmType = \"search\" | \"sort\";\n\nconst ALGORITHM_TYPES: AlgorithmType[] = [\"search\", \"sort\"];\n\ninterface Props extends ControlledInput<AlgorithmType> {\n  className?: string;\n}\n\nconst AlgorithmTypePicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(ALGORITHM_TYPES.find((a) => a === value) || \"search\"),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(ALGORITHM_TYPES[0]), [onChange]);\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      <option />\n      {ALGORITHM_TYPES.map((type) => (\n        <option key={type} value={type}>\n          {type}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<AlgorithmType>(ALGORITHM_TYPES[0]);\n\n  return {\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default AlgorithmTypePicker;\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"src/components/p5/useSketch\";\nimport { BigOMeasurements } from \"./types\";\n\nconst WIDTH = 600;\nconst HEIGHT = 600;\n\ninterface Config {\n  startSize: number;\n  endSize: number;\n  measurements: BigOMeasurements;\n}\n\nconst getDefaultConfig = <T>(): Config => ({\n  startSize: 100,\n  endSize: 1000,\n  measurements: {},\n});\n\nclass BigOSketch<T> extends AbstractSketch<Config> {\n  constructor() {\n    super(getDefaultConfig());\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 18);\n    };\n\n    s.draw = function () {\n      const { measurements, startSize, endSize } = that.config;\n\n      s.background(230);\n      s.strokeWeight(5);\n      s.stroke(\"blue\");\n\n      // Find the largest measurement\n      let highest = 0;\n      Object.values(measurements).forEach((i: number) => {\n        if (i > highest) {\n          highest = i;\n        }\n      });\n\n      Object.entries(measurements)\n        .map((k) => ({ index: parseInt(k[0]), value: k[1] }))\n        .forEach(({ index, value }) => {\n          const x = s.map(index, startSize, endSize, 0, WIDTH);\n          const y = s.map(value, 0, highest, 0, HEIGHT);\n          s.point(x, HEIGHT - y);\n        });\n    };\n  }\n}\n\nexport default BigOSketch;\n","import {\n  arithmeticComparator,\n  generateRandomNumbers,\n} from \"comp-sci-maths-lib/dist/common\";\nimport React from \"react\";\nimport useInterval from \"src/components/lib/useInterval\";\nimport { BigOMeasurements, MeasureProps } from \"./types\";\n\ninterface Props extends MeasureProps {\n  playing: boolean;\n  algorithmWrapper: (inputList: number[]) => number;\n}\n\ninterface ReducerState extends MeasureProps {\n  algorithmWrapper: (inputList: number[]) => number;\n  iterations: number;\n  measurements: BigOMeasurements;\n}\n\ninterface TickAction {\n  type: \"tick\";\n}\ninterface ResetAction extends MeasureProps {\n  type: \"reset\";\n  algorithmWrapper: (inputList: number[]) => number;\n}\n\ntype ReducerAction = TickAction | ResetAction;\n\nconst reducer = (state: ReducerState, action: ReducerAction): ReducerState => {\n  switch (action.type) {\n    case \"tick\":\n      let measurements: BigOMeasurements = {};\n\n      for (let n = state.startSize; n < state.endSize; n += state.step) {\n        const inputList: number[] = generateRandomNumbers(0, 1000, n);\n        inputList.sort(arithmeticComparator);\n\n        // Search for some specific indices\n        let numberOfComparisons: number = state.algorithmWrapper(inputList);\n\n        measurements[n] =\n          state.iterations > 0\n            ? Math.floor(\n                numberOfComparisons / (state.iterations + 1) +\n                  ((state.measurements[n] || 0) * state.iterations) /\n                    (state.iterations + 1)\n              )\n            : numberOfComparisons;\n      }\n      return {\n        ...state,\n        iterations: state.iterations + 1,\n        measurements,\n      };\n    case \"reset\":\n      const resetAction = action as ResetAction;\n      console.log(\"Reset\");\n      return {\n        ...resetAction,\n        iterations: 1,\n        measurements: {},\n      };\n  }\n};\n\nconst useAlgorithmMeasure = ({\n  playing,\n  startSize,\n  endSize,\n  step,\n  algorithmWrapper,\n}: Props): BigOMeasurements => {\n  const [{ measurements }, dispatch] = React.useReducer(reducer, {\n    algorithmWrapper,\n    iterations: 1,\n    measurements: {},\n    startSize,\n    endSize,\n    step,\n  });\n\n  const tick = React.useCallback(() => dispatch({ type: \"tick\" }), []);\n\n  React.useEffect(\n    () =>\n      dispatch({\n        type: \"reset\",\n        startSize,\n        endSize,\n        step,\n        algorithmWrapper,\n      }),\n    [algorithmWrapper, startSize, endSize, step]\n  );\n\n  useInterval(tick, playing ? 1000 : null);\n\n  return measurements;\n};\n\nexport default useAlgorithmMeasure;\n","import { arithmeticComparator } from \"comp-sci-maths-lib/dist/common\";\nimport React from \"react\";\nimport Checkbox from \"src/components/Bootstrap/Checkbox\";\nimport useSketch from \"src/components/p5/useSketch\";\nimport SearchAlgorithmPicker, {\n  usePicker as useSearchAlgorithmPicker,\n} from \"../Search/SearchAlgorithmPicker\";\nimport SortAlgorithmPicker, {\n  usePicker as useSortAlgorithmPicker,\n} from \"../Sorting/SortingAlgorithmPicker\";\n\nimport AlgorithmTypePicker, {\n  usePicker as useAlgorithmTypePicker,\n} from \"./AlgorithmTypePicker\";\nimport BigOSketch from \"./BigOSketch\";\n\nimport useAlgorithmMeasure from \"./useAlgorithmMeasure\";\n\nconst DEFAULT_STEP: number = 40;\nconst DEFAULT_START_SIZE: number = 10;\nconst DEFAULT_END_SIZE: number = 1000;\n\nconst BigONotation: React.FunctionComponent = () => {\n  const { componentProps: algorithmTypePickerProps } = useAlgorithmTypePicker(\n    \"form-control\"\n  );\n\n  const {\n    algorithm: searchAlgorithm,\n    componentProps: searchAlgorithmPickerProps,\n  } = useSearchAlgorithmPicker(\"form-control\");\n  const {\n    algorithm: sortAlgorithm,\n    componentProps: sortAlgorithmPickerProps,\n  } = useSortAlgorithmPicker(\"form-control\");\n\n  const [step, setStep] = React.useState<number>(DEFAULT_STEP);\n  const [startSize, setStartSize] = React.useState<number>(DEFAULT_START_SIZE);\n  const [endSize, setEndSize] = React.useState<number>(DEFAULT_END_SIZE);\n  const [playing, togglePlaying] = React.useReducer((p) => !p, false);\n\n  const algorithmWrapper = React.useCallback(\n    (inputList: number[]) => {\n      let numberOfComparisons: number = 0;\n      if (algorithmTypePickerProps.value === \"search\" && !!searchAlgorithm) {\n        const indexToFind = Math.floor(Math.random() * inputList.length);\n        searchAlgorithm.search(inputList, inputList[indexToFind], {\n          compare: (a, b) => {\n            numberOfComparisons++;\n            return arithmeticComparator(a, b);\n          },\n        });\n      } else if (algorithmTypePickerProps.value === \"sort\" && !!sortAlgorithm) {\n        sortAlgorithm.sort(inputList, {\n          compare: (a, b) => {\n            numberOfComparisons++;\n            return arithmeticComparator(a, b);\n          },\n        });\n      }\n\n      return numberOfComparisons;\n    },\n    [algorithmTypePickerProps.value, sortAlgorithm, searchAlgorithm]\n  );\n\n  const measurements = useAlgorithmMeasure({\n    playing,\n    startSize,\n    endSize,\n    step,\n    algorithmWrapper,\n  });\n\n  const onStepChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setStep(parseInt(value)),\n    [setStep]\n  );\n  const onStartSizeChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setStartSize(parseInt(value)),\n    [setStartSize]\n  );\n  const onEndSizeChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setEndSize(parseInt(value)),\n    [setEndSize]\n  );\n\n  const { refContainer, updateConfig } = useSketch(BigOSketch);\n\n  React.useEffect(() => updateConfig({ startSize, endSize, measurements }), [\n    startSize,\n    endSize,\n    measurements,\n    updateConfig,\n  ]);\n\n  return (\n    <div>\n      <div className=\"form-group\">\n        <label>Step</label>\n        <input\n          className=\"form-control\"\n          type=\"number\"\n          value={step}\n          onChange={onStepChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Start Size</label>\n        <input\n          className=\"form-control\"\n          type=\"number\"\n          value={startSize}\n          onChange={onStartSizeChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>End Size</label>\n        <input\n          className=\"form-control\"\n          type=\"number\"\n          value={endSize}\n          onChange={onEndSizeChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Algorithm Type</label>\n        <AlgorithmTypePicker {...algorithmTypePickerProps} />\n      </div>\n\n      {algorithmTypePickerProps.value === \"sort\" && (\n        <div className=\"form-group\">\n          <label>Sort Algorithm</label>\n          <SortAlgorithmPicker {...sortAlgorithmPickerProps} />\n        </div>\n      )}\n\n      {algorithmTypePickerProps.value === \"search\" && (\n        <div className=\"form-group\">\n          <label>Search Algorithm</label>\n          <SearchAlgorithmPicker {...searchAlgorithmPickerProps} />\n        </div>\n      )}\n\n      <Checkbox\n        id=\"chkPlaying\"\n        label=\"playing\"\n        checked={playing}\n        onChange={togglePlaying}\n      />\n\n      <div ref={refContainer} />\n\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Input Size</th>\n            <th>Average Comparisons</th>\n          </tr>\n        </thead>\n        <tbody>\n          {Object.entries(measurements).map((k) => (\n            <tr key={k[0]}>\n              <td>{k[0]}</td>\n              <td>{k[1]}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default BigONotation;\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"src/components/p5/useSketch\";\nimport { AxisRange, PlotConfiguration } from \"./types\";\n\nconst WIDTH = 600;\nconst HEIGHT = 600;\n\ninterface Config extends AxisRange {\n  plotConfigurations: PlotConfiguration[];\n}\n\nexport const DEFAULT_RANGE: AxisRange = {\n  from: -100,\n  to: +100,\n  step: 1,\n};\n\nconst getDefaultConfig = <T>(): Config => ({\n  ...DEFAULT_RANGE,\n  plotConfigurations: [],\n});\n\nclass GraphFunctionSketch<T> extends AbstractSketch<Config> {\n  constructor() {\n    super(getDefaultConfig());\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 18);\n    };\n\n    s.draw = function () {\n      const { from, to, step, plotConfigurations } = that.config;\n\n      const mapX = (x: number): number =>\n        s.map(x, from, to, -s.width / 2, s.width / 2);\n      const mapY = (y: number): number =>\n        s.map(y, from, to, s.height / 2, -s.height / 2);\n\n      s.background(230);\n      s.strokeWeight(3);\n      s.stroke(\"black\");\n\n      s.translate(s.width / 2, s.height / 2);\n\n      // Draw x-axis\n      s.line(-s.width / 2, 0, s.width / 2, 0);\n\n      // Draw y-axis\n      s.line(0, -s.height / 2, 0, s.height / 2);\n\n      plotConfigurations.forEach(({ colour, graphFunction }) => {\n        let lastX = from - step;\n        let lastY = graphFunction(from - step);\n        s.stroke(colour);\n\n        for (let x = from; x < to; x += step) {\n          let y = graphFunction(x);\n          s.point(mapX(x), mapY(y));\n          s.line(mapX(lastX), mapY(lastY), mapX(x), mapY(y));\n\n          lastX = x;\n          lastY = y;\n        }\n      });\n    };\n  }\n}\n\nexport default GraphFunctionSketch;\n","import React from \"react\";\nimport GraphFunctionSketch from \"../../../p5/GraphFunctionSketch\";\nimport { PlotConfiguration } from \"../../../p5/GraphFunctionSketch/types\";\nimport useSketch from \"src/components/p5/useSketch\";\n\n// function factorial(num: number): number {\n//   // If the number is less than 0, reject it.\n//   if (num < 0) return -1;\n//   // If the number is 0, its factorial is 1.\n//   else if (num === 0) return 1;\n//   // Otherwise, call the recursive procedure again\n//   else {\n//     return num * factorial(num - 1);\n//   }\n// }\n\ninterface BigO extends PlotConfiguration {\n  bigONotation: string;\n}\n\nconst plotConfigurations: BigO[] = [\n  {\n    name: \"Linear\",\n    bigONotation: \"O(n)\",\n    colour: \"cyan\",\n    graphFunction: (x: number) => x,\n  },\n  {\n    name: \"Logarithmic\",\n    colour: \"green\",\n    bigONotation: \"O(log(n))\",\n    graphFunction: (x: number) => Math.log(x),\n  },\n  {\n    name: \"n * Logarithmic\",\n    colour: \"blue\",\n    bigONotation: \"O(n * log(n))\",\n    graphFunction: (x: number) => x * Math.log(x),\n  },\n  {\n    name: \"Polynomial\",\n    bigONotation: \"O(n^2)\",\n    colour: \"orange\",\n    graphFunction: (x: number) => Math.pow(x, 2),\n  },\n  {\n    name: \"Exponential\",\n    bigONotation: \"O(2^n)\",\n    colour: \"red\",\n    graphFunction: (x: number) => Math.pow(2, x),\n  },\n  //   {\n  //     name: \"Factorial\",\n  //     colour: \"purple\",\n  //     graphFunction: (x: number) => factorial(x),\n  //   },\n];\n\nconst CompareBigO: React.FunctionComponent = () => {\n  const { refContainer, config, updateConfig } = useSketch(GraphFunctionSketch);\n\n  const onStepChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => updateConfig({ step: parseInt(value) }),\n    [updateConfig]\n  );\n  const onGraphFromChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => updateConfig({ from: parseInt(value) }),\n    [updateConfig]\n  );\n  const onGraphToChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => updateConfig({ to: parseInt(value) }),\n    [updateConfig]\n  );\n\n  React.useEffect(() => {\n    updateConfig({\n      plotConfigurations,\n    });\n  }, [updateConfig]);\n\n  return (\n    <div>\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Big O Notation</th>\n            <th>Colour</th>\n          </tr>\n        </thead>\n        <tbody>\n          {plotConfigurations.map(({ name, bigONotation, colour }, i) => (\n            <tr key={i}>\n              <td>{name}</td>\n              <td>{bigONotation}</td>\n              <td style={{ backgroundColor: colour }}>{colour}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      <div ref={refContainer} />\n\n      <div className=\"row\">\n        <div className=\"form-group col-md-4\">\n          <label>Step</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={config.step}\n            onChange={onStepChange}\n          />\n        </div>\n        <div className=\"form-group col-md-4\">\n          <label>Range From</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={config.from}\n            onChange={onGraphFromChange}\n          />\n        </div>\n        <div className=\"form-group col-md-4\">\n          <label>Range To</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={config.to}\n            onChange={onGraphToChange}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CompareBigO;\n","import BigOMeasure from \"./BigONotation\";\nimport BigOCompare from \"./CompareBigO\";\nimport { Page } from \"src/types\";\n\nexport const page1: Page = {\n  href: \"/computerScience/algorithms/measureBigO\",\n  title: \"Big-O Notation - Measure\",\n  description:\n    \"Measure and visualise performance of algorithms by counting their key operations with respect to input size\",\n  component: BigOMeasure,\n};\n\nexport const page2: Page = {\n  href: \"/computerScience/algorithms/compareBigO\",\n  title: \"Big-O Notation - Compare\",\n  description: \"Compare the known Big-O Notations visually\",\n  component: BigOCompare,\n};\n\nexport default BigOCompare;\n","import React from \"react\";\nimport BinaryTreeBuilder from \"../../BinaryTreeBuilder\";\nimport useBinaryTreeBuilder from \"../../BinaryTreeBuilder/useBinaryTreeBuilder\";\n\nconst BinaryTreeComponent: React.FunctionComponent = () => {\n  const binaryTreeBuilder = useBinaryTreeBuilder();\n\n  return (\n    <div>\n      <BinaryTreeBuilder binaryTreeBuilder={binaryTreeBuilder} />\n    </div>\n  );\n};\n\nexport default BinaryTreeComponent;\n","import Component from \"./BinaryTreeComponent\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataStructures/binaryTree\",\n  title: \"Binary Tree\",\n  description: \"Build a binary tree\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport Graph, {\n  Edge,\n} from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\n\ninterface Props {\n  version: number;\n  graph: Graph<StringDataItem>;\n  filter: (edge: Edge<StringDataItem>) => boolean;\n  getOtherEnd: (edge: Edge<StringDataItem>) => StringDataItem;\n  tickVersion: () => void;\n}\n\nconst EdgesCell: React.FunctionComponent<Props> = ({\n  graph,\n  tickVersion,\n  filter,\n  getOtherEnd,\n}) => {\n  return (\n    <div className=\"btn-toolbar\">\n      {graph.edges.filter(filter).map((edge, i) => (\n        <span key={i} className=\"input-group btn-group edge-buttons\">\n          <div className=\"input-group-prepend\">\n            <div className=\"input-group-text\">{getOtherEnd(edge).label} </div>\n          </div>\n          <button\n            className=\"btn btn-danger btn-sm\"\n            onClick={() => {\n              tickVersion();\n              graph.removeEdge(edge.from, edge.to);\n            }}\n          >\n            X\n          </button>\n        </span>\n      ))}\n    </div>\n  );\n};\n\nexport default EdgesCell;\n","import React from \"react\";\n\nimport Graph, {\n  Edge,\n} from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport EdgesCell from \"./EdgeCell\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\nimport { Props as ButtonProps } from \"src/components/Bootstrap/Buttons/Button\";\n\ninterface Props {\n  vertex: StringDataItem;\n  version: number;\n  graph: Graph<StringDataItem>;\n  pendingFrom: StringDataItem | undefined;\n  newEdgeWeight: number;\n  prepareEdge: (from: StringDataItem) => void;\n  cancelEdge: () => void;\n  completeEdge: (to: StringDataItem, weight: number) => void;\n  clearAll: () => void;\n  tickVersion: () => void;\n}\n\nconst GET_EDGE_FROM = (edge: Edge<StringDataItem>) => edge.from;\nconst GET_EDGE_TO = (edge: Edge<StringDataItem>) => edge.to;\n\nconst VertexRow: React.FunctionComponent<Props> = ({\n  vertex,\n  version,\n  tickVersion,\n  newEdgeWeight,\n  graph,\n  pendingFrom,\n  prepareEdge,\n  completeEdge,\n  cancelEdge,\n}) => {\n  const onPrepareEdge = React.useCallback(() => prepareEdge(vertex), [\n    vertex,\n    prepareEdge,\n  ]);\n  const onCompleteEdge = React.useCallback(\n    () => completeEdge(vertex, newEdgeWeight),\n    [vertex, newEdgeWeight, completeEdge]\n  );\n  const onCancelEdge = React.useCallback(() => cancelEdge(), [cancelEdge]);\n  const onRemoveVertex = React.useCallback(() => {\n    graph.removeVertex(vertex);\n    tickVersion();\n  }, [vertex, graph, tickVersion]);\n\n  const filterOutgoing = React.useCallback(\n    (edge: Edge<StringDataItem>) => graph.areVerticesEqual(edge.from, vertex),\n    [vertex, graph]\n  );\n  const filterIncoming = React.useCallback(\n    (edge: Edge<StringDataItem>) => graph.areVerticesEqual(edge.to, vertex),\n    [vertex, graph]\n  );\n  const buttonBarProps: ButtonBarProps = React.useMemo(() => {\n    const buttons: ButtonProps[] = [];\n\n    if (pendingFrom === undefined) {\n      buttons.push({\n        onClick: onPrepareEdge,\n        className: \"btn-sm\",\n        text: \"Edge From\",\n        styleType: \"primary\",\n      });\n    }\n\n    if (pendingFrom !== undefined && pendingFrom !== vertex) {\n      buttons.push({\n        onClick: onCompleteEdge,\n        className: \"btn-sm\",\n        text: \"Edge To\",\n        styleType: \"success\",\n      });\n    }\n\n    if (pendingFrom === vertex) {\n      buttons.push({\n        onClick: onCancelEdge,\n        className: \"btn-sm\",\n        styleType: \"warning\",\n        text: \"Cancel\",\n      });\n    }\n    buttons.push({\n      onClick: onRemoveVertex,\n      className: \"btn-sm\",\n      styleType: \"danger\",\n      text: \"Remove Vertex\",\n    });\n\n    return { buttons };\n  }, [\n    pendingFrom,\n    vertex,\n    onPrepareEdge,\n    onCompleteEdge,\n    onRemoveVertex,\n    onCancelEdge,\n  ]);\n\n  return (\n    <tr>\n      <td>{vertex.label}</td>\n      <td>\n        <EdgesCell\n          version={version}\n          tickVersion={tickVersion}\n          filter={filterOutgoing}\n          getOtherEnd={GET_EDGE_TO}\n          graph={graph}\n        />\n      </td>\n      <td>\n        <EdgesCell\n          version={version}\n          tickVersion={tickVersion}\n          filter={filterIncoming}\n          getOtherEnd={GET_EDGE_FROM}\n          graph={graph}\n        />\n      </td>\n      <td>\n        <ButtonBar {...buttonBarProps} />\n      </td>\n    </tr>\n  );\n};\n\nexport default VertexRow;\n","import React from \"react\";\nimport VertexRow from \"./VertexRow\";\n\nimport \"./graphBuilder.css\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport Checkbox from 'src/components/Bootstrap/Checkbox';\n\ninterface Props {\n  graph: Graph<StringDataItem>;\n}\n\nconst GraphBuilder: React.FunctionComponent<Props> = ({ graph }: Props) => {\n  const [version, tickVersion] = React.useReducer((s) => s + 1, 0);\n\n  const [pendingFrom, prepareEdge] = React.useState<StringDataItem | undefined>(\n    undefined\n  );\n\n  const [newEdgeWeight, setNewEdgeWeight] = React.useState<number>(1);\n  const onNewEdgeWeightChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewEdgeWeight(parseInt(value)),\n    [setNewEdgeWeight]\n  );\n\n  const [newEdgeBidirectional, setNewEdgeBidirectional] = React.useState<boolean>(true);\n  const onNewEdgeBidirectionalChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { checked } }) => setNewEdgeBidirectional(checked),\n    [setNewEdgeBidirectional]\n  );\n\n\n  const completeEdge = React.useCallback(\n    (to: StringDataItem, weight: number) => {\n      if (pendingFrom !== undefined) {\n        if (newEdgeBidirectional) {\n          graph.addBiDirectionalEdge(pendingFrom, to, weight);\n\n        } else {\n          graph.addUnidirectionalEdge(pendingFrom, to, weight);\n        }\n      }\n      prepareEdge(undefined);\n      tickVersion();\n    },\n    [pendingFrom, graph, newEdgeBidirectional]\n  );\n  const cancelEdge = React.useCallback(() => prepareEdge(undefined), [\n    prepareEdge,\n  ]);\n\n  const clearAll = React.useCallback(() => {\n    graph.vertices.forEach((v) => graph.removeVertex(v));\n    tickVersion();\n  }, [tickVersion, graph]);\n\n  const [newVertexName, setNewVertexName] = React.useState<string>(\"Z\");\n  const onNewVertexChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewVertexName(value),\n    [setNewVertexName]\n  );\n\n  const onAddVertex = React.useCallback(() => {\n    if (newVertexName.length > 0) {\n      graph.addVertex({\n        key: uuidv4(),\n        label: newVertexName,\n        value: newVertexName,\n      });\n      tickVersion();\n    }\n  }, [newVertexName, graph]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          onClick: onAddVertex,\n          text: \"Add Vertex\",\n          styleType: \"primary\",\n        },\n        {\n          onClick: clearAll,\n          text: \"Clear All\",\n          styleType: \"danger\",\n        },\n      ],\n    }),\n    [clearAll, onAddVertex]\n  );\n\n  // Ewww...it doesn't like keeping an eye on the version, when version is not then used...\n  // eslint-disable-next-line\n  const vertices = React.useMemo(() => graph.vertices, [graph, version]);\n\n  return (\n    <div>\n      <h2>Edit Graph (v{version})</h2>\n      <form>\n        <div className=\"form-group\">\n          <label htmlFor=\"newVertexName\">New Vertex Name</label>\n          <input\n            id=\"newVertexName\"\n            className=\"form-control\"\n            value={newVertexName}\n            onChange={onNewVertexChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"newEdgeWeight\">New Edge Weight</label>\n          <input\n            id=\"newEdgeWeight\"\n            className=\"form-control\"\n            type=\"number\"\n            value={newEdgeWeight}\n            onChange={onNewEdgeWeightChange}\n          />\n        </div>\n        <div className='form-group'>\n          <Checkbox\n            label='New Edges Bidirectional'\n            id='chkNewEdgeBidirectional'\n            checked={newEdgeBidirectional}\n            onChange={onNewEdgeBidirectionalChange} />\n        </div>\n      </form>\n      <ButtonBar {...buttonBarProps} />\n\n      <table className=\"table table-striped table-bordered table-sm\">\n        <thead>\n          <tr>\n            <th>Vertex</th>\n            <th>Outgoing</th>\n            <th>Incoming</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {vertices.map((vertex, i) => (\n            <VertexRow\n              key={i}\n              {...{\n                vertex,\n                version,\n                clearAll,\n                tickVersion,\n                graph,\n                newEdgeWeight,\n                cancelEdge,\n                completeEdge,\n                prepareEdge,\n                pendingFrom,\n              }}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default GraphBuilder;\n","import { Styles } from \"react-modal\";\n\nexport default {\n  overlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"rgba(255, 255, 255, 0.75)\",\n  },\n  content: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    // right: '40px',\n    // bottom: '40px',\n    border: \"thin solid #ccc\",\n    background: \"#fff\",\n    overflow: \"auto\",\n    WebkitOverflowScrolling: \"touch\",\n    borderRadius: \"4px\",\n    outline: \"none\",\n    padding: \"0\",\n  },\n} as Styles;\n","import ModalDialog from \"./ModalDialog\";\n\nexport { ModalDialog };\n\nexport default ModalDialog;\n","/*\n * Copyright 2018 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport Modal from \"react-modal\";\nimport customStyles from \"./customStyles\";\nimport \"./ModalDialog.css\";\n\ninterface ContentProps {\n  header: JSX.Element;\n  content: JSX.Element;\n  actions: JSX.Element;\n}\n\nconst ModalDialog: React.FunctionComponent<ContentProps & ReactModal.Props> = ({\n  header,\n  content,\n  actions,\n  ...rest\n}) => {\n  return (\n    <Modal className={`themed-modal light`} {...rest} style={customStyles}>\n      <div className=\"themed-modal__container\">\n        <header className=\"themed-modal__header\">{header}</header>\n        <div className=\"themed-modal__content\">{content}</div>\n        <div className=\"themed-modal__footer__actions\">{actions}</div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ModalDialog;\n","import React from \"react\";\nimport ModalDialog from \"src/components/Bootstrap/ModalDialog\";\n\nimport { Props as ButtonProps } from \"src/components/Bootstrap/Buttons/Button\";\nimport ButtonBar from \"src/components/Bootstrap/Buttons/ButtonBar\";\n\ninterface Props extends ReactModal.Props {\n  createGraph: (name: string) => void;\n  onCloseDialog: () => void;\n}\n\nconst NewGraphDialog: React.FunctionComponent<Props> = (props) => {\n  const { createGraph, onCloseDialog } = props;\n  const [graphName, setGraphName] = React.useState<string>(\"\");\n\n  const onGraphNameChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setGraphName(value),\n    [setGraphName]\n  );\n\n  const buttons: ButtonProps[] = React.useMemo(\n    () => [\n      {\n        text: \"Create\",\n        styleType: \"primary\",\n        onClick: () => {\n          createGraph(graphName);\n          onCloseDialog();\n        },\n      },\n      {\n        text: \"Cancel\",\n        styleType: \"danger\",\n        onClick: onCloseDialog,\n      },\n    ],\n    [graphName, createGraph, onCloseDialog]\n  );\n\n  return (\n    <ModalDialog\n      {...props}\n      header={<h4>New Graph</h4>}\n      content={\n        <form className=\"form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"newGraphName\">Name</label>\n            <input\n              id=\"newGraphName\"\n              className=\"form-control\"\n              value={graphName}\n              onChange={onGraphNameChange}\n            />\n          </div>\n        </form>\n      }\n      actions={<ButtonBar buttons={buttons} />}\n    />\n  );\n};\n\ninterface UseDialog<T> {\n  /**\n   * The owning component is ready to start a deletion process.\n   * Calling this will open the dialog, and setup the UUIDs\n   */\n  showDialog: () => void;\n  /**\n   * These are the properties that the owning component can just give to the Dialog component\n   * using destructing.\n   */\n  componentProps: Props;\n}\n\n/**\n * This is a React custom hook that sets up things required by the owning component.\n */\nexport const useDialog = <T extends {}>(\n  createGraph: (name: string) => void\n): UseDialog<T> => {\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n\n  const _onCloseDialog = React.useCallback(() => setIsOpen(false), [setIsOpen]);\n\n  const _showDialog = React.useCallback(() => setIsOpen(true), [setIsOpen]);\n\n  return {\n    componentProps: {\n      isOpen,\n      createGraph,\n      onCloseDialog: _onCloseDialog,\n    },\n    showDialog: _showDialog,\n  };\n};\n\nexport default NewGraphDialog;\n","import React from \"react\";\nimport GraphBuilder from \"./GraphBuilder\";\nimport GraphPickerWithSketch, {\n  usePicker as useGraphPicker,\n} from \"./GraphPickerWithSketch\";\nimport { StringDataItem } from \"src/components/p5/Boid/types\";\nimport DataItemBoid from \"src/components/p5/Boid/DataItemBoid\";\nimport Checkbox from \"src/components/Bootstrap/Checkbox\";\nimport NewGraphDialog, {\n  useDialog as useNewGraphDialog,\n} from \"./NewGraphDialog\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\nimport cogoToast from \"cogo-toast\";\n\nconst GraphManager: React.FunctionComponent = () => {\n  const {\n    graphName,\n    graph,\n    savedGraphUse: { createNew, save, reset },\n    componentProps: graphPickerProps,\n    sketchUse: { updateConfig, sketchContainer },\n  } = useGraphPicker(\"simpleStringGraph\");\n\n  const onCreateNew = React.useCallback(\n    (name: string) => {\n      createNew(name);\n      cogoToast.info(`Graph Created with name ${name}`);\n    },\n    [createNew]\n  );\n\n  const {\n    showDialog: showNewGraphDialog,\n    componentProps: newGraphProps,\n  } = useNewGraphDialog(onCreateNew);\n\n  const [physicsEnabled, setPhysicsEnabled] = React.useState<boolean>(false);\n  const onPhysicsEnabledChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { checked } }) => setPhysicsEnabled(checked),\n    [setPhysicsEnabled]\n  );\n\n  React.useEffect(() => {\n    updateConfig({ physicsEnabled });\n  }, [physicsEnabled, updateConfig]);\n\n  const onSave = React.useCallback(() => {\n    const vertexPositions = graph.vertices\n      .map((v) => sketchContainer.getBoid(v))\n      .filter((b) => b !== undefined)\n      .map((b) => b as DataItemBoid<StringDataItem>)\n      .map((b: DataItemBoid<StringDataItem>) => ({\n        key: b.entity.key,\n        position: { x: b.position.x, y: b.position.y },\n      }))\n      .reduce((acc, { key, position }) => ({ ...acc, [key]: position }), {});\n\n    save(graphName, graph, vertexPositions);\n    cogoToast.info(`Graph Saved with name ${graphName}`);\n  }, [save, graphName, graph, sketchContainer]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          onClick: showNewGraphDialog,\n          text: \"Create New\",\n          styleType: \"primary\",\n        },\n        {\n          onClick: onSave,\n          text: \"Save\",\n          styleType: \"primary\",\n        },\n        {\n          onClick: reset,\n          text: \"Reset\",\n          styleType: \"danger\",\n        },\n      ],\n    }),\n    [showNewGraphDialog, onSave, reset]\n  );\n\n  return (\n    <div>\n      <GraphPickerWithSketch {...graphPickerProps} />\n\n      <div className=\"form-group\">\n        <Checkbox\n          id=\"chkPhysics\"\n          checked={physicsEnabled}\n          onChange={onPhysicsEnabledChange}\n          label=\"Physics Enabled\"\n        />\n      </div>\n      <ButtonBar {...buttonBarProps} />\n\n      <GraphBuilder graph={graph} />\n      <NewGraphDialog {...newGraphProps} />\n    </div>\n  );\n};\n\nexport default GraphManager;\n","import Component from \"./GraphManager\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataStructures/graph\",\n  title: \"Graph\",\n  description:\n    \"Build weighted directional graphs for use in the rest of the application\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport { UseListReducer } from \"./types\";\n\n/**\n * This file exports a custom hook that can be used to manage a list\n * with a reducer. It handles a few simple use cases for reducer based lists\n * that were common to a number of components.\n */\n\ninterface ReceivedAction<T> {\n  type: \"itemsReceived\";\n  items: T[];\n}\ninterface AddAction<T> {\n  type: \"itemAdded\";\n  item: T;\n}\ninterface RemovedAction<T> {\n  type: \"itemRemoved\";\n  matcher: (i: T) => boolean;\n}\ninterface ClearedAction {\n  type: \"itemsCleared\";\n}\ninterface UpdatedAction<T> {\n  type: \"itemUpdated\";\n  matcher: (i: T) => boolean;\n  newValue: T;\n}\ninterface UpdatedAtIndexAction<T> {\n  type: \"itemUpdatedAtIndex\";\n  index: number;\n  newValue: T;\n}\ninterface RemovedByIndexAction {\n  type: \"itemRemovedByIndex\";\n  index: number;\n}\n\nconst createListReducer = <T>() => {\n  return (\n    state: T[],\n    action:\n      | ReceivedAction<T>\n      | AddAction<T>\n      | UpdatedAction<T>\n      | RemovedAction<T>\n      | UpdatedAtIndexAction<T>\n      | RemovedByIndexAction\n      | ClearedAction\n  ): T[] => {\n    switch (action.type) {\n      case \"itemsReceived\":\n        return action.items;\n      case \"itemAdded\":\n        return [...state, action.item];\n      case \"itemUpdated\":\n        return state.map((i) => (action.matcher(i) ? action.newValue : i));\n      case \"itemRemoved\":\n        return state.filter((u) => !action.matcher(u));\n      case \"itemUpdatedAtIndex\":\n        return state.map((u, i) => (i === action.index ? action.newValue : u));\n      case \"itemRemovedByIndex\":\n        return state.filter((u, i) => i !== action.index);\n      case \"itemsCleared\":\n        return [];\n      default:\n        return state;\n    }\n  };\n};\n\nconst useListReducer = <T extends {}>(\n  initialItems: T[] = []\n): UseListReducer<T> => {\n  const [items, dispatch] = React.useReducer(\n    createListReducer<T>(),\n    initialItems\n  );\n\n  return {\n    items,\n    receiveItems: React.useCallback(\n      (items: T[]) =>\n        dispatch({\n          type: \"itemsReceived\",\n          items,\n        }),\n      [dispatch]\n    ),\n    addItem: React.useCallback(\n      (item: T) =>\n        dispatch({\n          type: \"itemAdded\",\n          item,\n        }),\n      [dispatch]\n    ),\n    removeItem: React.useCallback(\n      (matcher: (i: T) => boolean) =>\n        dispatch({\n          type: \"itemRemoved\",\n          matcher,\n        }),\n      [dispatch]\n    ),\n    clearItems: React.useCallback(() => dispatch({ type: \"itemsCleared\" }), [\n      dispatch,\n    ]),\n    updateItem: React.useCallback(\n      (matcher: (i: T) => boolean, newValue: T) =>\n        dispatch({\n          type: \"itemUpdated\",\n          matcher,\n          newValue,\n        }),\n      [dispatch]\n    ),\n    updateItemAtIndex: React.useCallback(\n      (index: number, newValue: T) =>\n        dispatch({ type: \"itemUpdatedAtIndex\", index, newValue }),\n      [dispatch]\n    ),\n    removeItemAtIndex: React.useCallback(\n      (index: number) =>\n        dispatch({\n          type: \"itemRemovedByIndex\",\n          index,\n        }),\n      [dispatch]\n    ),\n  };\n};\n\nexport default useListReducer;\n","import React from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport Stack from \"comp-sci-maths-lib/dist/dataStructures/stack/Stack\";\nimport useListReducer from \"src/components/lib/useListReducer\";\n\nimport \"./stack.css\";\nimport useSketch from \"src/components/p5/useSketch\";\nimport { ArraySketchNumber, Orientation } from \"../QueueComponent/ArraySketch\";\nimport { NumberDataItem } from \"src/components/p5/Boid/types\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\n\nconst StackComponent: React.FunctionComponent = () => {\n  const stack = React.useRef<Stack<NumberDataItem>>(new Stack());\n\n  const [items, setItems] = React.useState<NumberDataItem[]>([]);\n  const [newItem, setNewItem] = React.useState<number>(0);\n\n  const {\n    items: poppedItems,\n    addItem: addPoppedItem,\n    clearItems: clearPoppedItems,\n  } = useListReducer<NumberDataItem>();\n\n  const onNewItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewItem(parseInt(value)),\n    [setNewItem]\n  );\n\n  const updateItems = React.useCallback(\n    () => setItems(stack.current.getItems().toArray()),\n    [setItems]\n  );\n\n  const onReset = React.useCallback(() => {\n    setItems([]);\n    clearPoppedItems();\n    setNewItem(0);\n  }, [setNewItem, setItems, clearPoppedItems]);\n\n  const onPush = React.useCallback(() => {\n    stack.current.push({\n      key: uuidv4(),\n      label: newItem.toString(),\n      value: newItem,\n    });\n    setNewItem(newItem + 1);\n    updateItems();\n  }, [newItem, setNewItem, updateItems]);\n\n  const onPop = React.useCallback(() => {\n    try {\n      addPoppedItem(stack.current.pop());\n      updateItems();\n    } catch (e) {\n      addPoppedItem(e);\n    }\n  }, [updateItems, addPoppedItem]);\n\n  const { updateConfig, refContainer } = useSketch(ArraySketchNumber);\n\n  React.useEffect(\n    () =>\n      updateConfig({\n        orientation: Orientation.vertical,\n        dataItems: items,\n        lastRetrievedItem: poppedItems.reduce<NumberDataItem | null>(\n          (_, curr) => curr,\n          null\n        ),\n      }),\n    [items, poppedItems, updateConfig]\n  );\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Push\",\n          onClick: onPush,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Pop\",\n          onClick: onPop,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Reset\",\n          onClick: onReset,\n          styleType: \"danger\",\n        },\n      ],\n    }),\n    [onPush, onPop, onReset]\n  );\n\n  return (\n    <div>\n      <p></p>\n\n      <form>\n        <div className=\"form-group\">\n          <label>New Item</label>\n          <input\n            className=\"form-control\"\n            value={newItem}\n            type=\"number\"\n            onChange={onNewItemChange}\n          />\n        </div>\n      </form>\n\n      <ButtonBar {...buttonBarProps} />\n\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default StackComponent;\n","import Component from \"./StackComponent\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataStructures/stack\",\n  title: \"Stack\",\n  description: `Build a Stack and learn how items are added and removed. \n    Items are pushed and popped, the ordering follows First In Last Out`,\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport Queue from \"comp-sci-maths-lib/dist/dataStructures/queue/Queue\";\nimport useListReducer from \"src/components/lib/useListReducer\";\n\nimport \"./queue.css\";\nimport useSketch from \"src/components/p5/useSketch\";\nimport { ArraySketchNumber } from \"./ArraySketch\";\nimport { NumberDataItem } from \"src/components/p5/Boid/types\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\n\nconst StackComponent: React.FunctionComponent = () => {\n  const queue = React.useRef<Queue<NumberDataItem>>(new Queue());\n\n  const [items, setItems] = React.useState<NumberDataItem[]>([]);\n  const [newItem, setNewItem] = React.useState<number>(0);\n\n  const {\n    items: poppedItems,\n    addItem: addPoppedItem,\n    clearItems: clearPoppedItems,\n  } = useListReducer<NumberDataItem>();\n\n  const onNewItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewItem(parseInt(value)),\n    [setNewItem]\n  );\n\n  const updateItems = React.useCallback(\n    () => setItems(queue.current.items.toArray()),\n    [setItems]\n  );\n\n  const onReset = React.useCallback(() => {\n    setItems([]);\n    clearPoppedItems();\n    setNewItem(0);\n  }, [setNewItem, setItems, clearPoppedItems]);\n\n  const onEnqueue = React.useCallback(() => {\n    queue.current.enqueue({\n      key: uuidv4(),\n      label: newItem.toString(),\n      value: newItem,\n    });\n    setNewItem(newItem + 1);\n    updateItems();\n  }, [newItem, setNewItem, updateItems]);\n\n  const onDequeue = React.useCallback(() => {\n    try {\n      addPoppedItem(queue.current.dequeue());\n      updateItems();\n    } catch (e) {\n      addPoppedItem(e);\n    }\n  }, [updateItems, addPoppedItem]);\n\n  const { updateConfig, refContainer } = useSketch(ArraySketchNumber);\n\n  React.useEffect(\n    () =>\n      updateConfig({\n        dataItems: items,\n        lastRetrievedItem: poppedItems.reduce<NumberDataItem | null>(\n          (_, curr) => curr,\n          null\n        ),\n      }),\n    [poppedItems, items, updateConfig]\n  );\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Enqueue\",\n          onClick: onEnqueue,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Dequeue\",\n          onClick: onDequeue,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Reset\",\n          onClick: onReset,\n          styleType: \"danger\",\n        },\n      ],\n    }),\n    [onEnqueue, onDequeue, onReset]\n  );\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>New Item</label>\n          <input\n            className=\"form-control\"\n            value={newItem}\n            type=\"number\"\n            onChange={onNewItemChange}\n          />\n        </div>\n      </form>\n\n      <ButtonBar {...buttonBarProps} />\n\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default StackComponent;\n","import QueueComponent from \"./QueueComponent\";\nimport PriorityQueueComponent from \"./PriorityQueueComponent\";\nimport { Page } from \"src/types\";\n\nexport const queuePage: Page = {\n  href: \"/computerScience/dataStructures/queue\",\n  title: \"Queue\",\n  description: `Build a Queue and learn how items are added and removed.\n  Items are enqueued and dequeued, the ordering follows First In First Out`,\n  component: QueueComponent,\n};\n\nexport const priorityQueuePage: Page = {\n  href: \"/computerScience/dataStructures/priorityQueue\",\n  title: \"Priority Queue\",\n  description: `Build a Priority Queue and learn how items are added and removed with respect to priority.\n  Items are enqueued and dequeued, the ordering follows First In First Out, but higher priority items will jump the queue`,\n  component: PriorityQueueComponent,\n};\n\nexport default QueueComponent;\n","import React from \"react\";\n\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport PriorityQueue, {\n  PrioritisedItem,\n} from \"comp-sci-maths-lib/dist/dataStructures/queue/PriorityQueue\";\nimport useListReducer from \"src/components/lib/useListReducer\";\n\nimport \"./queue.css\";\nimport useSketch from \"src/components/p5/useSketch\";\nimport { ArraySketchNumber } from \"./ArraySketch\";\nimport { NumberDataItem, DisplayDataItem } from \"src/components/p5/Boid/types\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\n\ninterface PrioritisedNumberDataItem\n  extends DisplayDataItem<number>,\n    PrioritisedItem {}\n\nconst StackComponent: React.FunctionComponent = () => {\n  const queue = React.useRef<PriorityQueue<PrioritisedNumberDataItem>>(\n    new PriorityQueue()\n  );\n\n  const [items, setItems] = React.useState<NumberDataItem[]>([]);\n  const [newItem, setNewItem] = React.useState<number>(0);\n  const [newPriority, setNewPriority] = React.useState<number>(1);\n\n  const {\n    items: poppedItems,\n    addItem: addPoppedItem,\n    clearItems: clearPoppedItems,\n  } = useListReducer<NumberDataItem>();\n\n  const onNewItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewItem(parseInt(value)),\n    [setNewItem]\n  );\n\n  const onNewPriorityChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewPriority(parseInt(value)),\n    [setNewPriority]\n  );\n\n  const updateItems = React.useCallback(\n    () => setItems(queue.current.items.toArray()),\n    [setItems]\n  );\n\n  const onReset = React.useCallback(() => {\n    setItems([]);\n    clearPoppedItems();\n    setNewItem(0);\n  }, [setNewItem, setItems, clearPoppedItems]);\n\n  const onEnqueue = React.useCallback(() => {\n    queue.current.enqueue({\n      key: uuidv4(),\n      label: `${newItem} p${newPriority}`,\n      value: newItem,\n      priority: newPriority,\n    });\n    setNewItem(newItem + 1);\n    updateItems();\n  }, [newItem, newPriority, setNewItem, updateItems]);\n\n  const onDequeue = React.useCallback(() => {\n    try {\n      addPoppedItem(queue.current.dequeue());\n      updateItems();\n    } catch (e) {\n      addPoppedItem(e);\n    }\n  }, [updateItems, addPoppedItem]);\n\n  const { updateConfig, refContainer } = useSketch(ArraySketchNumber);\n\n  React.useEffect(\n    () =>\n      updateConfig({\n        dataItems: items,\n        lastRetrievedItem: poppedItems.reduce<NumberDataItem | null>(\n          (_, curr) => curr,\n          null\n        ),\n      }),\n    [poppedItems, items, updateConfig]\n  );\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Enqueue\",\n          onClick: onEnqueue,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Dequeue\",\n          onClick: onDequeue,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Reset\",\n          onClick: onReset,\n          styleType: \"danger\",\n        },\n      ],\n    }),\n    [onEnqueue, onDequeue, onReset]\n  );\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>New Item</label>\n          <input\n            className=\"form-control\"\n            value={newItem}\n            type=\"number\"\n            onChange={onNewItemChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>New Item Priority</label>\n          <input\n            className=\"form-control\"\n            value={newPriority}\n            type=\"number\"\n            onChange={onNewPriorityChange}\n          />\n        </div>\n      </form>\n\n      <ButtonBar {...buttonBarProps} />\n\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default StackComponent;\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"../../../p5/useSketch\";\n\nexport const SIGNAL_MODE_SINE = \"Sine Wave\";\nexport const SIGNAL_MODE_NOISE = \"Perlin Noise\";\n\nexport const signalTypes = [SIGNAL_MODE_SINE, SIGNAL_MODE_NOISE];\n\nconst WIDTH = 480;\nconst HEIGHT = 320;\n\ninterface Sample {\n  signal: number;\n  x: number;\n  qSignal: number;\n}\n\nexport interface Config {\n  samplingRate: number;\n  resolution: number;\n  signalFrequency: number;\n  plotSignal: boolean;\n  plotSamples: boolean;\n  plotSquareWave: boolean;\n  plotQuantisation: boolean;\n  signalType: string;\n}\n\nconst defaultConfig: Config = {\n  samplingRate: 10,\n  resolution: 3,\n  signalFrequency: 3,\n  plotSignal: true,\n  plotSamples: false,\n  plotQuantisation: false,\n  plotSquareWave: true,\n  signalType: SIGNAL_MODE_NOISE,\n};\n\nclass Sketch extends AbstractSketch<Config> {\n  constructor() {\n    super(defaultConfig);\n  }\n\n  sketch(s: p5) {\n    const that = this;\n    let analogueSignal: number[] = [];\n    const CROSS_LENGTH = 5;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n    };\n\n    s.draw = function () {\n      s.background(240);\n      s.translate(0, s.height / 2);\n\n      const {\n        samplingRate,\n        resolution,\n        signalFrequency,\n        plotSignal,\n        plotSamples,\n        plotSquareWave,\n        plotQuantisation,\n        signalType,\n      } = that.config;\n\n      let quantisationStep = s.height / Math.pow(2, resolution);\n\n      // Record analogue signal\n      let signalValue = 0.0;\n      switch (signalType) {\n        case SIGNAL_MODE_SINE:\n          let t = s.map(s.frameCount, 0, s.width, 0, s.TWO_PI);\n          signalValue = s.sin(t * signalFrequency) * (s.height / 2);\n          break;\n        case SIGNAL_MODE_NOISE:\n          signalValue =\n            s.noise((s.frameCount / 1000) * signalFrequency) * s.height -\n            s.height / 2;\n          break;\n      }\n\n      // Write the signals\n      analogueSignal.splice(0, 0, signalValue);\n\n      // Control their length\n      while (analogueSignal.length > s.width) {\n        analogueSignal.pop();\n      }\n\n      let samples: Sample[] = analogueSignal\n        .map((signal, x) => ({\n          signal,\n          qSignal: quantisationStep * Math.floor(signal / quantisationStep),\n          x,\n        }))\n        .filter(\n          ({ x }) =>\n            (x - s.frameCount) % Math.floor(s.width / samplingRate) === 0\n        );\n\n      // Draw Axis and gridlines\n      s.noFill();\n      s.stroke(\"black\");\n      s.strokeWeight(2);\n      s.line(0, 0, s.width, 0);\n      s.strokeWeight(1);\n      s.stroke(\"grey\");\n      for (let y = 0; y < s.height / 2; y += quantisationStep) {\n        s.line(0, y, s.width, y);\n        s.line(0, -y, s.width, -y);\n      }\n\n      // Plot the Samples\n      if (plotSamples) {\n        s.stroke(\"green\");\n        samples.forEach(({ signal, x }) => {\n          s.strokeWeight(2);\n          s.push();\n          s.translate(x, signal);\n          s.line(-CROSS_LENGTH, -CROSS_LENGTH, CROSS_LENGTH, CROSS_LENGTH);\n          s.line(-CROSS_LENGTH, CROSS_LENGTH, CROSS_LENGTH, -CROSS_LENGTH);\n          s.pop();\n          s.strokeWeight(1);\n          s.line(x, signal, x, s.height / 2);\n        });\n      }\n\n      // Plot Quantisation\n      if (plotQuantisation) {\n        s.stroke(\"red\");\n        s.strokeWeight(8);\n        samples.forEach(({ qSignal, x }) => {\n          s.point(x, qSignal);\n        });\n      }\n\n      // Draw the Analogue Signal\n      if (plotSignal) {\n        showSignal(\"blue\", analogueSignal);\n      }\n\n      if (plotSquareWave) {\n        s.stroke(\"red\");\n        for (let i = 0; i < samples.length - 1; i++) {\n          s.line(\n            samples[i].x,\n            samples[i].qSignal,\n            samples[i + 1].x,\n            samples[i].qSignal\n          );\n          s.line(\n            samples[i + 1].x,\n            samples[i].qSignal,\n            samples[i + 1].x,\n            samples[i + 1].qSignal\n          );\n        }\n      }\n    };\n\n    function showSignal(colour: string, signal: number[]) {\n      s.stroke(colour);\n      s.strokeWeight(1);\n      s.beginShape();\n      signal.forEach((signal, x) => {\n        s.vertex(x, signal);\n      });\n      s.endShape();\n    }\n  };\n}\n\nexport default Sketch;\n","import React from \"react\";\n\nimport Sketch, { signalTypes } from \"./Sketch\";\nimport useSketch from \"../../../p5/useSketch\";\n\nconst AnalogueSignals: React.FunctionComponent = () => {\n  const {\n    config: {\n      samplingRate,\n      resolution,\n      signalFrequency,\n      signalType,\n      plotSignal,\n      plotSamples,\n      plotQuantisation,\n      plotSquareWave,\n    },\n    updateConfig,\n    onNumericConfigChange,\n    onBooleanConfigChange,\n    refContainer,\n  } = useSketch(Sketch);\n\n  const onSamplingRateChange = React.useMemo(\n    () => onNumericConfigChange(\"samplingRate\"),\n    [onNumericConfigChange]\n  );\n  const onResolutionChange = React.useMemo(\n    () => onNumericConfigChange(\"resolution\"),\n    [onNumericConfigChange]\n  );\n  const onSignalFrequencyChange = React.useMemo(\n    () => onNumericConfigChange(\"signalFrequency\"),\n    [onNumericConfigChange]\n  );\n\n  const onPlotSignalChange = React.useMemo(\n    () => onBooleanConfigChange(\"signalFrequency\"),\n    [onBooleanConfigChange]\n  );\n  const onPlotSamplesChange = React.useMemo(\n    () => onBooleanConfigChange(\"plotSamples\"),\n    [onBooleanConfigChange]\n  );\n  const onPlotQuantisationChange = React.useMemo(\n    () => onBooleanConfigChange(\"plotQuantisation\"),\n    [onBooleanConfigChange]\n  );\n  const onPlotSquareWaveChange = React.useMemo(\n    () => onBooleanConfigChange(\"plotSquareWave\"),\n    [onBooleanConfigChange]\n  );\n  const onSignalTypeChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => updateConfig({ signalType: value }),\n    [updateConfig]\n  );\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label htmlFor=\"signalType\">Signal Type</label>\n          <select\n            className=\"custom-select\"\n            id=\"signalType\"\n            value={signalType}\n            onChange={onSignalTypeChange}\n          >\n            {signalTypes.map((signalType) => (\n              <option key={signalType} value={signalType}>\n                {signalType}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"samplingRate\">Sampling Rate (Hertz)</label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"samplingRate\"\n            placeholder=\"Sampling Rate\"\n            value={samplingRate}\n            onChange={onSamplingRateChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"quantisationStep\">\n            Resolution (audio bit depth){\" \"}\n          </label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"resolution\"\n            placeholder=\"Resolution\"\n            value={resolution}\n            onChange={onResolutionChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"signalFrequency\">Signal Frequency (Hertz)</label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"signalFrequency\"\n            placeholder=\"Signal Frequency\"\n            step=\"0.1\"\n            value={signalFrequency}\n            onChange={onSignalFrequencyChange}\n          />\n        </div>\n        <h4>Plot</h4>\n        <div className=\"form-check form-check-inline\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={plotSignal}\n            onChange={onPlotSignalChange}\n            id=\"chkPlotSignal\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"chkPlotSignal\">\n            Signal\n          </label>\n        </div>\n        <div className=\"form-check form-check-inline\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={plotSamples}\n            onChange={onPlotSamplesChange}\n            id=\"chkPlotSamples\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"chkPlotSamples\">\n            Samples\n          </label>\n        </div>\n        <div className=\"form-check form-check-inline\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={plotQuantisation}\n            onChange={onPlotQuantisationChange}\n            id=\"chkPlotQuantisation\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"chkPlotQuantisation\">\n            Quantisation\n          </label>\n        </div>\n        <div className=\"form-check form-check-inline\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={plotSquareWave}\n            onChange={onPlotSquareWaveChange}\n            id=\"chkPlotSquareWave\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"chkPlotSquareWave\">\n            Square Wave\n          </label>\n        </div>\n      </form>\n      <div className=\"sketch\" ref={refContainer} />\n    </div>\n  );\n};\n\nexport default AnalogueSignals;\n","import Sound from \"./Sound\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataRepresentation/sound\",\n  title: \"Sound\",\n  description:\n    \"Create sound waveforms, take samples and generate a digital signal from an analogue one\",\n  component: Sound,\n};\n\nexport default Sound;\n","import React from \"react\";\nimport { ColourMap } from \"./types\";\n\ninterface Props {\n  width: number;\n  height: number;\n  colourDepth: number;\n  availableColours: ColourMap;\n}\n\ninterface UseBitmapData {\n  pixels: number[][];\n  rawData: string;\n  setColour: (x: number, y: number, colour: number) => void;\n  randomiseColours: () => void;\n}\n\ninterface SetColourAction {\n  type: \"setColour\";\n  x: number;\n  y: number;\n  colour: number;\n}\n\ninterface InitialiseAction extends Props {\n  type: \"initialise\";\n}\n\ninterface RandomizeAction {\n  type: \"randomize\";\n}\n\ntype ReducerAction = SetColourAction | InitialiseAction | RandomizeAction;\n\ninterface ReducerState {\n  availableColours: ColourMap;\n  pixels: number[][];\n  colourDepth: number;\n  rawData: string;\n  width: number;\n  height: number;\n}\n\nconst defaultReducerState: ReducerState = {\n  availableColours: { 0: \"FF0000\", 1: \"0000FF\" },\n  colourDepth: 1,\n  pixels: [],\n  rawData: \"\",\n  width: 0,\n  height: 0,\n};\n\nconst getRawData = (colourDepth: number, pixels: number[][]): string => {\n  return pixels\n    .map((row) =>\n      row.map((i) => i.toString(2).padStart(colourDepth, \"0\")).join(\"\")\n    )\n    .join(\"\");\n};\n\nconst reducer = (state: ReducerState, action: ReducerAction): ReducerState => {\n  switch (action.type) {\n    case \"initialise\": {\n      const { width, height, availableColours, colourDepth } = action;\n      const pixels: number[][] = Array(height)\n        .fill(null)\n        .map((i) =>\n          Array(width)\n            .fill(null)\n            .map((i) => 0)\n        );\n      return {\n        width,\n        height,\n        availableColours,\n        colourDepth,\n        pixels: pixels,\n        rawData: getRawData(state.colourDepth, pixels),\n      };\n    }\n    case \"setColour\": {\n      const { x, y, colour } = action;\n      const pixels = state.pixels.map((row, sx) =>\n        sx === x ? row.map((cell, sy) => (sy === y ? colour : cell)) : row\n      );\n\n      return {\n        ...state,\n        pixels: pixels,\n        rawData: getRawData(state.colourDepth, pixels),\n      };\n    }\n    case \"randomize\": {\n      const pixels = state.pixels.map((row) =>\n        row.map(() =>\n          Math.floor(\n            Math.random() * Object.values(state.availableColours).length\n          )\n        )\n      );\n      return {\n        ...state,\n        pixels,\n        rawData: getRawData(state.colourDepth, pixels),\n      };\n    }\n  }\n};\n\nexport default ({\n  height,\n  width,\n  colourDepth,\n  availableColours,\n}: Props): UseBitmapData => {\n  const [{ pixels, rawData }, dispatch] = React.useReducer(\n    reducer,\n    defaultReducerState\n  );\n\n  React.useEffect(\n    () =>\n      dispatch({\n        type: \"initialise\",\n        width,\n        height,\n        colourDepth,\n        availableColours,\n      }),\n    [width, height, availableColours, colourDepth]\n  );\n\n  const setColour = React.useCallback(\n    (x: number, y: number, colour: number) =>\n      dispatch({ type: \"setColour\", x, y, colour }),\n    []\n  );\n\n  const randomiseColours = React.useCallback(\n    () => dispatch({ type: \"randomize\" }),\n    []\n  );\n\n  return { pixels, rawData, setColour, randomiseColours };\n};\n","import React from \"react\";\nimport { ColourMap } from \"./types\";\n\ninterface Props {\n  value: number;\n  onChange: (v: number) => void;\n  availableColours: ColourMap;\n  colourDepth: number;\n}\n\nconst ColourPalette: React.FunctionComponent<Props> = ({\n  availableColours,\n  colourDepth,\n  value,\n  onChange,\n}) => {\n  const availableColoursWithHandlers = React.useMemo(\n    () =>\n      Object.entries(availableColours).map(([code, colourHex]) => ({\n        backgroundColor: colourHex,\n        onClick: () => onChange(parseInt(code)),\n        isCurrent: value === parseInt(code),\n      })),\n    [availableColours, onChange, value]\n  );\n\n  return (\n    <div className=\"colour-palette\">\n      <div className=\"colour-palette__selector\">\n        {availableColoursWithHandlers.map(\n          ({ backgroundColor, onClick, isCurrent }, i) => (\n            <div\n              key={i}\n              style={{ backgroundColor }}\n              onClick={onClick}\n              className={isCurrent ? \"current\" : \"\"}\n            ></div>\n          )\n        )}\n      </div>\n      <div className=\"colour-palette__current ml-3\">\n        <div>Binary: {value.toString(2).padStart(colourDepth, \"0\")}</div>\n        <div>CSS: {availableColours[value]}</div>\n        <div\n          className=\"colour-palette__current--swatch\"\n          style={{ backgroundColor: availableColours[value] }}\n        ></div>\n      </div>\n    </div>\n  );\n};\n\ninterface UseProps {\n  colourDepth: number;\n}\n\nexport interface UseColourPallete {\n  componentProps: Props;\n}\n\nexport const useColourPallete = ({\n  colourDepth,\n}: UseProps): UseColourPallete => {\n  // Work out available colours based on depth...\n  const availableColours: ColourMap = React.useMemo(() => {\n    const numberColours = Math.pow(2, colourDepth);\n    const spectrum: ColourMap = {};\n    for (let x = 0; x < numberColours; x++) {\n      const c = Math.floor((255 * x) / numberColours);\n      spectrum[x] = `rgb(${c},${c},${c})`;\n    }\n    return spectrum;\n  }, [colourDepth]);\n\n  const [value, onChange] = React.useState<number>(0);\n\n  return {\n    componentProps: { value, onChange, availableColours, colourDepth },\n  };\n};\n\nexport default ColourPalette;\n","import React from \"react\";\nimport useBitmapData from \"./useBitmapData\";\nimport ColourPalette, { useColourPallete } from \"./ColourPalette\";\n\nimport \"./bitmapping.css\";\nimport useGroupUp from \"src/components/lib/useGroupUp\";\n\nconst DEFAULT_WIDTH: number = 10;\nconst DEFAULT_HEIGHT: number = 10;\nconst DEFAULT_COLOUR_DEPTH: number = 8;\nconst AVAILABLE_COLOUR_DEPTHS: number[] = [1, 2, 4, 8];\n\nconst Bitmapping: React.FunctionComponent = () => {\n  const [width, setWidth] = React.useState<number>(DEFAULT_WIDTH);\n  const [height, setHeight] = React.useState<number>(DEFAULT_HEIGHT);\n  const [colourDepth, setColourDepth] = React.useState<number>(\n    DEFAULT_COLOUR_DEPTH\n  );\n\n  const { componentProps: paletteProps } = useColourPallete({\n    colourDepth,\n  });\n  const { value: currentColour, availableColours } = paletteProps;\n\n  const onWidthChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setWidth(parseInt(value)),\n    [setWidth]\n  );\n  const onHeightChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setHeight(parseInt(value)),\n    [setHeight]\n  );\n  const onColourDepthChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => setColourDepth(parseInt(value)),\n    [setColourDepth]\n  );\n\n  const { pixels, rawData, setColour, randomiseColours } = useBitmapData({\n    width,\n    height,\n    colourDepth,\n    availableColours,\n  });\n\n  const pixelsWithHandlers = React.useMemo(\n    () =>\n      pixels.map((row, x) =>\n        row.map((colour, y) => ({\n          backgroundColor: availableColours[colour],\n          onClick: () => setColour(x, y, currentColour),\n        }))\n      ),\n    [currentColour, pixels, availableColours, setColour]\n  );\n\n  const { itemGroups: rawDataSplit } = useGroupUp({\n    items: rawData.split(\"\"),\n    groupSize: 8,\n  });\n  const rawDataInWords = React.useMemo(\n    () => rawDataSplit.map((r) => r.join(\"\")).join(\" \"),\n    [rawDataSplit]\n  );\n\n  return (\n    <div>\n      <div className=\"image-data-container\">\n        <table className=\"bitmap-table\">\n          <tbody>\n            {pixelsWithHandlers.map((row, x) => (\n              <tr key={x}>\n                {row.map(({ backgroundColor, onClick }, y) => (\n                  <td\n                    key={y}\n                    style={{ backgroundColor }}\n                    onClick={onClick}\n                  ></td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        <div className=\"binary-data\">{rawDataInWords}</div>\n      </div>\n\n      <button className=\"btn btn-primary mt-3 mb-3\" onClick={randomiseColours}>\n        Randomise\n      </button>\n\n      <h4>\n        Available Colours 2<sup>{colourDepth}</sup> ={\" \"}\n        {Object.keys(availableColours).length}\n      </h4>\n      <ColourPalette {...paletteProps} />\n\n      <h4>Metadata</h4>\n      <form>\n        <div className=\"form-group\">\n          <label>Width</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            min={4}\n            max={20}\n            onChange={onWidthChange}\n            value={width}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Height</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            min={4}\n            max={20}\n            onChange={onHeightChange}\n            value={height}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Colour Depth</label>\n          <select\n            className=\"form-control\"\n            value={colourDepth}\n            onChange={onColourDepthChange}\n          >\n            {AVAILABLE_COLOUR_DEPTHS.map((a) => (\n              <option key={a} value={a}>\n                {a}\n              </option>\n            ))}\n          </select>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Bitmapping;\n","import Bitmapping from \"./Bitmapping\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataRepresentation/bitmapImages\",\n  title: \"Bitmap Images\",\n  description:\n    \"Create images by representing pixels as numbers that stand for colour values\",\n  component: Bitmapping,\n};\n","import React from \"react\";\n\nconst AsciiTable: React.FunctionComponent = () => {\n  return (\n    <table className=\"table table-sm table-striped\">\n      <thead>\n        <tr>\n          <th>Code</th>\n          <th>Character</th>\n          <th>Code</th>\n          <th>Character</th>\n        </tr>\n      </thead>\n\n      {Array(128)\n        .fill(null)\n        .map((_, i) => i)\n        .map((i) => (\n          <tr>\n            <td>0x{i.toString(16)}</td>\n            <td>{String.fromCharCode(i)}</td>\n            <td>0x{(2 * i).toString(16)}</td>\n            <td>{String.fromCharCode(2 * i)}</td>\n          </tr>\n        ))}\n    </table>\n  );\n};\n\nexport default AsciiTable;\n","import AsciiText from \"./AsciiText\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataRepresentation/asciiText\",\n  title: \"ASCII Text\",\n  description:\n    \"Characters are each allocated a numerical code, text can be represented\",\n  component: AsciiText,\n};\n","import React from \"react\";\n\nimport \"./asciiText.css\";\nimport AsciiTable from \"./AsciiTable\";\n\nconst CYBERCHEF_LINK =\n  \"https://gchq.github.io/CyberChef/#recipe=To_Hexdump(16,false,false)&input=VGhlIHF1aWNrIGJyb3duIGZveCBqdW1wZWQgb3ZlciB0aGUgbGF6eSBkb2c\";\n\nconst AsciiDemo: React.FunctionComponent = () => {\n  const [text, setText] = React.useState<string>(\n    \"The quick brown fox jumped over the lazy dog\"\n  );\n\n  const onTextChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setText(value),\n    [setText]\n  );\n\n  const asAscii: string = React.useMemo(\n    () =>\n      text\n        .split(\"\")\n        .map((t) => t.charCodeAt(0))\n        .map((d) => d.toString(16))\n        .join(\"\"),\n    [text]\n  );\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Text</label>\n          <input\n            className=\"form-control\"\n            value={text}\n            onChange={onTextChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Raw Hex</label>\n          <div className=\"form-control hexDump\">{asAscii}</div>\n        </div>\n      </form>\n\n      <p>\n        Whilst this is a cute little demo, there is a far superior tool for\n        observing this form of representation{\" \"}\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={CYBERCHEF_LINK}>\n          here\n        </a>\n      </p>\n\n      <h2>ASCII Character Table</h2>\n      <AsciiTable />\n    </div>\n  );\n};\n\nexport default AsciiDemo;\n","export const choose = <T>(arr: T[], exclude: T[] = []): T => {\n  const chooseFrom: T[] = arr.filter((a) => !exclude.includes(a));\n  return chooseFrom[Math.floor(Math.random() * chooseFrom.length)];\n};\n\nexport const generateRandomInteger = (from: number, to: number) =>\n  from + Math.floor((to - from) * Math.random())\n","import React from 'react';\r\n\r\ninterface StreakCounter {\r\n    streak: number,\r\n    onHit: () => void,\r\n    onMiss: () => void\r\n}\r\n\r\n\r\ntype StreakAction = 'Y' | 'N';\r\n\r\nconst streakReducer = (state: number, action: StreakAction) => action === 'Y' ? state + 1 : 0;\r\n\r\nexport default (): StreakCounter => {\r\n\r\n    const [streak, dispatch] = React.useReducer(streakReducer, 0);\r\n\r\n    return {\r\n        streak,\r\n        onHit: React.useCallback(() => dispatch('Y'), []),\r\n        onMiss: React.useCallback(() => dispatch('N'), []),\r\n    }\r\n}","import React from 'react';\r\n\r\ninterface Props {\r\n    value: number,\r\n    min?: number,\r\n    max: number\r\n}\r\n\r\nconst ProgressBar: React.FunctionComponent<Props> = ({ value, min = 0, max }) => {\r\n    return (<div className=\"progress\">\r\n        <div className=\"progress-bar\"\r\n            role=\"progressbar\"\r\n            style={{ width: `${100 * (value - min) / (max - min)}%` }}\r\n            aria-valuenow={value}\r\n            aria-valuemin={min}\r\n            aria-valuemax={max}>{value}</div>\r\n    </div>)\r\n}\r\n\r\nexport default ProgressBar;","import React from 'react';\r\nimport { denary as denaryRaw, binary as binaryRaw, hexadecimal as hexadecimalRaw } from \"comp-sci-maths-lib\";\r\n\r\nconst denary = denaryRaw.withPadding(1);\r\nconst binary = binaryRaw.withPadding(4);\r\nconst hexadecimal = hexadecimalRaw.withPadding(1);\r\n\r\nconst numberBases = [denary, binary, hexadecimal]\r\n\r\nexport interface UseConversionTable {\r\n    headings: string[];\r\n    values: { denaryValue: string, binaryValue: string, hexadecimalValue: string }[]\r\n}\r\n\r\nexport default (): UseConversionTable => React.useMemo(() => {\r\n    const values = [];\r\n\r\n    for (let value = 0; value < 16; value++) {\r\n        let denaryValue = denary.toString(value);\r\n        let binaryValue = binary.toString(value);\r\n        let hexadecimalValue = hexadecimal.toString(value);\r\n        values.push({ denaryValue, binaryValue, hexadecimalValue });\r\n    }\r\n\r\n    return {\r\n        headings: numberBases.map(n => n.name),\r\n        values\r\n    }\r\n}, []);","import React from 'react';\r\n\r\nimport { NumberBase } from 'comp-sci-maths-lib';\r\nimport useConversionTable from './useConversionTable';\r\n\r\ninterface Props {\r\n    from: NumberBase,\r\n    to: NumberBase\r\n}\r\n\r\nconst NumberBaseConversionTable: React.FunctionComponent<Props> = ({ from, to }) => {\r\n    const { headings, values } = useConversionTable();\r\n\r\n    return (<table className='table table-striped'>\r\n        <thead>\r\n            <tr>\r\n                {headings.map(h => <th key={h}>{h}</th>)}\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {values.map(({ denaryValue, binaryValue, hexadecimalValue }) => (<tr key={denaryValue}>\r\n                <td>{denaryValue}</td>\r\n                <td>{binaryValue}</td>\r\n                <td>{hexadecimalValue}</td>\r\n            </tr>))}\r\n        </tbody>\r\n    </table>)\r\n}\r\n\r\nexport default NumberBaseConversionTable;","import React from 'react';\r\nimport cogoToast from \"cogo-toast\";\r\n\r\nimport { generateRandomInteger, choose } from 'src/components/lib/utilities';\r\nimport { binary, hexadecimal, denary as denaryRaw, NumberBase } from 'comp-sci-maths-lib'\r\nimport useStreakCounter from 'src/components/lib/useStreakCounter';\r\nimport ProgressBar from 'src/components/Bootstrap/ProgressBar';\r\nimport NumberBaseConversionTable from './NumberBaseConversionTable';\r\n\r\n// Correction to default value\r\nconst denary = denaryRaw.withPadding(1);\r\n\r\nconst MAX_VALUE = 255;\r\nconst TARGET_STREAK = 10;\r\n\r\ninterface Question {\r\n    to: NumberBase,\r\n    from: NumberBase,\r\n    value: number,\r\n}\r\n\r\nconst generateQuestion = (): Question => {\r\n    let value = generateRandomInteger(0, MAX_VALUE);\r\n    const from = choose([binary, denary, hexadecimal]);\r\n    const to = choose([binary, denary, hexadecimal].filter(x => x !== from));\r\n    return {\r\n        value, from, to\r\n    }\r\n}\r\n\r\nconst NumberBases: React.FunctionComponent = () => {\r\n    const [{ from, to, value }, regenerateQuestion] = React.useReducer(generateQuestion, generateQuestion());\r\n    const { streak, onHit, onMiss } = useStreakCounter();\r\n\r\n    const [answer, setAnswer] = React.useState<string>('');\r\n    const onAnswerChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(({ target: { value } }) =>\r\n        setAnswer(value)\r\n        , [setAnswer]);\r\n\r\n    React.useEffect(() => {\r\n        if (streak === TARGET_STREAK) {\r\n            cogoToast.info(`Well done on converting ${TARGET_STREAK} in a row. You have earnt some window staring time!`)\r\n        }\r\n    }, [streak])\r\n\r\n    const onSubmit: React.MouseEventHandler = React.useCallback((e) => {\r\n        const expected = to.toString(value);\r\n        if (expected.toLowerCase() === answer.toLowerCase()) {\r\n            cogoToast.info('Correct!');\r\n            onHit();\r\n        } else {\r\n            cogoToast.error(`Incorrect ${from.toString(value)} in ${to.name} is actually ${expected}`);\r\n            onMiss();\r\n        }\r\n        regenerateQuestion();\r\n        e.preventDefault();\r\n    }, [regenerateQuestion, onHit, onMiss, value, to, from, answer])\r\n\r\n    return (<div className='row align-items-start'>\r\n        <div className='col'>\r\n            <h4>Convert {from.toString(value)}<sub>{from.symbols.length}</sub> into {to.name}</h4>\r\n            <form>\r\n                <div className='form-group'>\r\n                    <label>Your Answer</label>\r\n                    <input className='form-control' value={answer} onChange={onAnswerChange} />\r\n                </div>\r\n                <button onClick={onSubmit}>Submit</button>\r\n            </form>\r\n\r\n            <div>Try and get to a streak of {TARGET_STREAK} correct answers</div>\r\n            <ProgressBar value={streak} max={TARGET_STREAK} />\r\n\r\n        </div>\r\n        <div className='col'>\r\n            <h4>Table of Helpful Lookups</h4>\r\n            <NumberBaseConversionTable from={from} to={to} />\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default NumberBases;","import React from \"react\";\nimport { Page } from \"src/types\";\n\nimport { page as binaryTreeTraversalPage } from \"./Algorithms/BinaryTreeTraversal\";\nimport { page as graphTraversalPage } from \"./Algorithms/GraphTraversal\";\nimport { page as pageRankPage } from \"./Algorithms/PageRank\";\nimport { page as routingGridPage } from \"./Algorithms/Routing/GridRouting\";\nimport { page as routingGraphPage } from \"./Algorithms/Routing/GraphRouting\";\nimport { page as searchPage } from \"./Algorithms/Search\";\nimport { page as sortingPage } from \"./Algorithms/Sorting\";\nimport {\n  page1 as bigONotationMeasurePage,\n  page2 as bigONotationComparePage,\n} from \"./Algorithms/BigONotation\";\nimport { page as binaryTreePage } from \"./DataStructures/BinaryTreeComponent\";\nimport { page as graphPage } from \"./DataStructures/GraphManager\";\nimport { page as stackPage } from \"./DataStructures/StackComponent\";\nimport { queuePage, priorityQueuePage } from \"./DataStructures/QueueComponent\";\nimport { page as soundPage } from \"./DataRepresentation/Sound\";\nimport { page as bitmapImagesPage } from \"./DataRepresentation/Images\";\nimport { page as asciiTextPage } from \"./DataRepresentation/AsciiText\";\nimport { page as numberBases } from \"./DataRepresentation/Numbers\";\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\nconst algorithmPages = [\n  binaryTreeTraversalPage,\n  graphTraversalPage,\n  pageRankPage,\n  routingGraphPage,\n  routingGridPage,\n  searchPage,\n  sortingPage,\n  bigONotationMeasurePage,\n  bigONotationComparePage,\n];\n\nconst dataStructurePages = [\n  binaryTreePage,\n  graphPage,\n  stackPage,\n  queuePage,\n  priorityQueuePage,\n];\n\nconst dataRepresentationPages = [numberBases, soundPage, bitmapImagesPage, asciiTextPage];\n\nconst ComputerScience: React.FunctionComponent = () => (\n  <div>\n    <h2>Algorithms</h2>\n    <CardCollection cards={algorithmPages} />\n\n    <h2>Data Structures</h2>\n    <CardCollection cards={dataStructurePages} />\n\n    <h2>Data Representation</h2>\n    <CardCollection cards={dataRepresentationPages} />\n  </div>\n);\n\nexport const page: Page = {\n  href: \"/computerScience\",\n  title: \"Computer Science\",\n  description:\n    \"Explore KS4 and KS5 Computer Science Algorithms and Data Structures\",\n  component: ComputerScience,\n};\n\nexport const pages: Page[] = [\n  page,\n  ...algorithmPages,\n  ...dataStructurePages,\n  ...dataRepresentationPages,\n];\n\nexport default ComputerScience;\n","import { Page } from 'src/types';\r\nimport NumberBases from './NumberBases';\r\n\r\nexport const page: Page = {\r\n    href: \"/computerScience/dataRepresentation/numberBases\",\r\n    title: \"Number Bases\",\r\n    description:\r\n        \"Convert Numbers between Various Bases\",\r\n    component: NumberBases,\r\n};\r\n","import React from \"react\";\n\nimport {\n  divisibilityRules,\n  defaultNamedDivisibilityRule,\n} from \"comp-sci-maths-lib/dist/algorithms/primeNumbers/divisibilityRules\";\nimport { ControlledInput } from \"src/types\";\nimport { NamedDivisibilityRule } from \"comp-sci-maths-lib/dist/types\";\n\ninterface Props extends ControlledInput<NamedDivisibilityRule> {\n  className?: string;\n}\n\nconst DivisibilityRulePicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(\n        divisibilityRules.find(({ factor }) => factor.toString(10) === value) ||\n          defaultNamedDivisibilityRule\n      ),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(divisibilityRules[0]), [onChange]);\n\n  return (\n    <select\n      className={className}\n      onChange={onSelectChange}\n      value={value && value.factor}\n    >\n      <option />\n      {divisibilityRules.map(({ factor }) => (\n        <option key={factor} value={factor}>\n          {factor}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  divisibilityRule: NamedDivisibilityRule;\n  componentProps: Props;\n}\n\nexport const useDivisibilityRulePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<NamedDivisibilityRule | undefined>(\n    undefined\n  );\n\n  return {\n    divisibilityRule: value || defaultNamedDivisibilityRule,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default DivisibilityRulePicker;\n","import React from \"react\";\nimport { NamedDivisibilityRule } from \"comp-sci-maths-lib/dist/types\";\nimport {\n  defaultNamedDivisibilityRule,\n  isDivisibleBy,\n} from \"comp-sci-maths-lib/dist/algorithms/primeNumbers/divisibilityRules\";\n\ninterface Props {\n  divisibilityRule?: NamedDivisibilityRule;\n  value: number;\n}\n\ninterface UseDivisibilityRule {\n  isDivisible: boolean;\n  logLines: string[];\n}\n\nconst useDivisibilityRule = ({\n  divisibilityRule: { factor, rule } = defaultNamedDivisibilityRule,\n  value,\n}: Props): UseDivisibilityRule => {\n  return React.useMemo(() => {\n    const logLines: string[] = [];\n\n    rule(value, (d) => logLines.push(d));\n\n    return {\n      isDivisible: isDivisibleBy(value, factor),\n      logLines,\n    };\n  }, [factor, rule, value]);\n};\n\nexport default useDivisibilityRule;\n","import React from \"react\";\n\nimport DivisibilityRulePicker, {\n  useDivisibilityRulePicker,\n} from \"./DivisibilityRulePicker\";\nimport useDivisibilityRule from \"./useDivisibilityRule\";\n\nconst Divisibility: React.FunctionComponent = () => {\n  const {\n    divisibilityRule,\n    componentProps: rulePickerProps,\n  } = useDivisibilityRulePicker(\"form-control\");\n  const [value, setValue] = React.useState<number>(10);\n\n  const onValueChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setValue(parseInt(value)),\n    [setValue]\n  );\n\n  const { isDivisible, logLines } = useDivisibilityRule({\n    divisibilityRule,\n    value,\n  });\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Factor</label>\n          <DivisibilityRulePicker {...rulePickerProps} />\n        </div>\n        <div className=\"form-group\">\n          <label>Value</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={value}\n            onChange={onValueChange}\n          />\n        </div>\n      </form>\n\n      <div>\n        <h3>Rule</h3>\n        <ul>\n          {divisibilityRule.explanation.map((e) => (\n            <li>{e}</li>\n          ))}\n        </ul>\n      </div>\n      <div>Is Divisible? {isDivisible ? \"Yes\" : \"No\"}</div>\n\n      <div>\n        {logLines.map((l) => (\n          <div>{l}</div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Divisibility;\n","import Component from \"./Divisibility\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/maths/divisibility\",\n  title: \"Divisibility\",\n  description:\n    \"Find out how to use the various rules of divisibility, testing them against numbers\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\nimport {\n  getPrimeFactors,\n  getPrimeFactorTree,\n} from \"comp-sci-maths-lib/dist/algorithms/primeNumbers/primeFactors\";\nimport Graph from \"comp-sci-maths-lib/dist/dataStructures/graph/Graph\";\nimport { DisplayDataItem } from \"src/components/p5/Boid/types\";\nimport { NumberGraphVertex } from \"comp-sci-maths-lib/dist/types\";\n\nexport type PrimeFactorDataItem = DisplayDataItem<NumberGraphVertex>;\n\ninterface UsePrimeFactorTree {\n  primeFactors: number[];\n  primeFactorTree: Graph<PrimeFactorDataItem>;\n}\n\nconst getDataItem = (p: NumberGraphVertex): PrimeFactorDataItem => ({\n  key: p.key,\n  label: p.value.toString(10),\n  value: p,\n});\n\nexport default (value: number): UsePrimeFactorTree =>\n  React.useMemo(() => {\n    const primeFactors = getPrimeFactors(value);\n    const rawPrimeFactorTree = getPrimeFactorTree(value);\n\n    const primeFactorTree = new Graph<PrimeFactorDataItem>();\n\n    // Convert to data items\n    rawPrimeFactorTree.vertices.forEach((v) => {\n      const dataItem: PrimeFactorDataItem = getDataItem(v);\n      primeFactorTree.addVertex(dataItem);\n\n      rawPrimeFactorTree.getOutgoing(v).forEach((edge) => {\n        primeFactorTree.addUnidirectionalEdge(\n          dataItem,\n          getDataItem(edge.to),\n          edge.weight\n        );\n      });\n    });\n\n    return {\n      primeFactors,\n      primeFactorTree,\n    };\n  }, [value]);\n","import React from \"react\";\n\nimport GraphSketch from \"src/components/ComputerScience/DataStructures/GraphManager/GraphSketch\";\nimport useSketch from \"src/components/p5/useSketch\";\nimport usePrimeFactorTree, { PrimeFactorDataItem } from \"./usePrimeFactorTree\";\nimport Checkbox from \"src/components/Bootstrap/Checkbox\";\n\nclass PrimeFactorSketch extends GraphSketch<PrimeFactorDataItem> {}\n\nconst PrimeFactors: React.FunctionComponent = () => {\n  const [value, setValue] = React.useState<number>(1001);\n\n  const onValueChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setValue(parseInt(value)),\n    [setValue]\n  );\n\n  const { refContainer, updateConfig } = useSketch(PrimeFactorSketch);\n\n  const { primeFactorTree, primeFactors } = usePrimeFactorTree(value);\n\n  const [physicsEnabled, setPhysicsEnabled] = React.useState<boolean>(true);\n  const onPhysicsEnabledChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { checked } }) => setPhysicsEnabled(checked),\n    [setPhysicsEnabled]\n  );\n\n  React.useEffect(() => {\n    updateConfig({ physicsEnabled, graph: primeFactorTree });\n  }, [primeFactorTree, updateConfig, physicsEnabled]);\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Value</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={value}\n            onChange={onValueChange}\n          />\n        </div>\n      </form>\n\n      <h2>Prime Factors</h2>\n      <div>{primeFactors.join(\" x \")}</div>\n      <div>{primeFactorTree.toString()}</div>\n\n      <h2>Prime Factor Tree</h2>\n      <Checkbox\n        id=\"chkPhysics\"\n        checked={physicsEnabled}\n        onChange={onPhysicsEnabledChange}\n        label=\"Physics Enabled\"\n      />\n      <div ref={refContainer} />\n    </div>\n  );\n};\nexport default PrimeFactors;\n","import Component from \"./PrimeFactors\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/maths/primeFactors\",\n  title: \"Prime Factors\",\n  description: \"Break numbers down into their prime factors\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\nimport { ArithemeticOperation } from \"./arithmeticOperations\";\n\nexport interface Question {\n  question: string;\n  answer: number;\n  givenAnswer?: number;\n}\n\nexport interface Props {\n  partRange: number;\n  numberParts: number;\n  numberQuestions: number;\n  operation: ArithemeticOperation;\n}\n\nexport interface UseQuiz {\n  questions: Question[];\n  giveAnswer: (index: number, givenAnswer: number) => void;\n  regenerateQuiz: () => void;\n}\n\ninterface RegenerateQuizAction extends Props {\n  type: 'regenerate'\n}\ninterface AnswerAction {\n  type: 'answer',\n  index: number;\n  givenAnswer: number;\n}\ntype Action = RegenerateQuizAction | AnswerAction;\n\ninterface ReducerState extends Props {\n  questions: Question[];\n}\n\nconst quizReducer = (state: ReducerState, action: Action): ReducerState => {\n  switch (action.type) {\n    case \"regenerate\": {\n      const { numberQuestions, numberParts, partRange, operation } = action;\n      const { getParts, symbol, reducer } = operation;\n      let questions: Question[] = [];\n\n      for (let x = 0; x < numberQuestions; x++) {\n        let parts: number[] = getParts(numberParts, partRange);\n        questions.push({\n          question: parts\n            .map((p) => (p > 0 ? p.toString() : `(${p.toString()})`))\n            .join(` ${symbol} `),\n          answer: parts.reduce(reducer),\n        });\n      }\n\n      return {\n        ...action,\n        questions\n      };\n    }\n    case \"answer\":\n      {\n        return {\n          ...state,\n          questions: state.questions.map((q, i) => i === action.index ? { ...q, givenAnswer: action.givenAnswer } : q)\n        }\n      }\n  }\n}\n\nconst useQuiz = ({ numberParts, numberQuestions, partRange, operation }: Props): UseQuiz => {\n  const [{ questions }, reduceQuiz] = React.useReducer(quizReducer, { numberParts, numberQuestions, partRange, operation, questions: [] });\n\n  const regenerateQuiz = React.useCallback(\n    () => reduceQuiz({ type: 'regenerate', numberParts, numberQuestions, partRange, operation }),\n    [numberParts, numberQuestions, partRange, operation])\n\n  React.useEffect(() => regenerateQuiz(), [\n    regenerateQuiz,\n  ]);\n\n  const giveAnswer = React.useCallback((index: number, givenAnswer: number) => {\n    reduceQuiz({\n      type: 'answer',\n      index,\n      givenAnswer,\n    })\n  }, [reduceQuiz]);\n\n  return { questions, giveAnswer, regenerateQuiz };\n};\n\nexport default useQuiz;\n","export type PartGenerator = (\n  numberParts: number,\n  partRange: number\n) => number[];\nexport type OperationReducer = (a: number, b: number) => number;\nexport interface ArithemeticOperation {\n  name: string;\n  symbol: string;\n  getParts: PartGenerator;\n  reducer: OperationReducer;\n}\n\nconst getAdditiveParts: PartGenerator = (\n  numberParts: number,\n  partRange: number\n) => {\n  let parts: number[] = [];\n  while (parts.length < numberParts) {\n    let p = Math.floor(Math.random() * partRange) - partRange / 2;\n    if (p !== 0) {\n      parts.push(p);\n    }\n  }\n  return parts;\n};\n\nconst getDivisibleParts: PartGenerator = (\n  numberParts: number,\n  partRange: number\n) => {\n  let parts: number[] = getAdditiveParts(numberParts, partRange);\n\n  let answer = parts.reduce((a, b) => a * b);\n  parts[0] = answer;\n\n  return parts;\n};\n\nexport const operations: ArithemeticOperation[] = [\n  {\n    name: \"Addition\",\n    symbol: \"+\",\n    reducer: (a, b) => a + b,\n    getParts: getAdditiveParts,\n  },\n  {\n    name: \"Subtraction\",\n    symbol: \"-\",\n    reducer: (a, b) => a - b,\n    getParts: getAdditiveParts,\n  },\n  {\n    name: \"Multiplication\",\n    symbol: \"\\u00d7\",\n    reducer: (a, b) => a * b,\n    getParts: getAdditiveParts,\n  },\n  {\n    name: \"Division\",\n    symbol: \"\\u00f7\",\n    reducer: (a, b) => a / b,\n    getParts: getDivisibleParts,\n  },\n];\n","import React from \"react\";\nimport { ControlledInput } from \"src/types\";\nimport { ArithemeticOperation, operations } from \"./arithmeticOperations\";\n\ninterface Props extends ControlledInput<ArithemeticOperation> {\n  className?: string;\n}\n\nconst ArithmeticOperationPicker: React.FunctionComponent<Props> = ({\n  onChange,\n  value,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(operations.find(({ name }) => name === value) || operations[0]),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(operations[0]), [onChange]);\n\n  return (\n    <select\n      className={className}\n      onChange={onSelectChange}\n      value={value && value.name}\n    >\n      <option />\n      {operations.map(({ name }) => (\n        <option key={name} value={name}>\n          {name}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  operation: ArithemeticOperation;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<ArithemeticOperation>(operations[0]);\n\n  return {\n    operation: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default ArithmeticOperationPicker;\n","import React from \"react\";\nimport useQuiz from \"./useQuiz\";\nimport ArithmeticOperationPicker, {\n  usePicker,\n} from \"./ArithmeticOperationPicker\";\n\nimport \"./quizzes.css\";\n\nconst Tick: React.FunctionComponent = () =>\n  (<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-check\" fill=\"green\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill-rule=\"evenodd\" d=\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z\" />\n  </svg>);\n\nconst Exclamation: React.FunctionComponent = () =>\n  (<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-exclamation-square\" fill=\"red\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill-rule=\"evenodd\" d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\" />\n    <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\" />\n  </svg>)\n\nconst NegativeNumbers: React.FunctionComponent = () => {\n  const { componentProps, operation } = usePicker(\"form-control\");\n\n  const quiz1 = useQuiz({\n    partRange: 20,\n    numberParts: 2,\n    numberQuestions: 10,\n    operation,\n  });\n  const quiz2 = useQuiz({\n    partRange: 30,\n    numberParts: 3,\n    numberQuestions: 10,\n    operation,\n  });\n\n  const quizzes = React.useMemo(() => [quiz1, quiz2], [quiz1, quiz2]);\n  const regenerateQuizzes = React.useCallback(() =>\n    quizzes.forEach(({ regenerateQuiz }) => regenerateQuiz())\n    , [quizzes]);\n\n  let [revealAnswers, toggleRevealAnswer] = React.useReducer((a) => !a, false);\n\n  let onClickToggleReveal = React.useCallback(() => toggleRevealAnswer(), [\n    toggleRevealAnswer,\n  ]);\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Arithmetic Operation</label>\n          <ArithmeticOperationPicker {...componentProps} />\n        </div>\n      </form>\n\n      <div className=\"quizzes\">\n        {quizzes.map((quiz, quizI) => (\n          <div>\n            <table>\n              <tbody>\n                {quiz.questions.map(({ question, givenAnswer = '0', answer }, questionI) => (\n                  <tr>\n                    <td className=\"questionIndex\">\n                      {quizI + 1}.{questionI + 1})\n                    </td>\n                    <td>{question}</td>\n                    <td>=</td>\n                    <td>{revealAnswers ? <span>{answer} {answer === givenAnswer ? <Tick /> : <Exclamation />}</span> :\n                      <input type='number'\n                        className='txtGiveAnswer'\n                        value={givenAnswer}\n                        onChange={e => quiz.giveAnswer(questionI, parseInt(e.target.value))} />}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ))}\n      </div>\n      <button className=\"btn btn-primary\" onClick={onClickToggleReveal}>\n        {revealAnswers ? \"Hide Answers\" : \"Reveal Answers\"}\n      </button>\n      <button className=\"btn btn-warning\" onClick={regenerateQuizzes}>\n        Regenerate\n      </button>\n    </div>\n  );\n};\n\nexport default NegativeNumbers;\n","import Component from \"./NegativeNumbers\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/maths/negativeNumbers\",\n  title: \"Negative Number\",\n  description: \"Generate questions with negative numbers\",\n  component: Component,\n};\n\nexport default Component;\n","import p5 from 'p5';\r\nimport { AbstractSketch } from 'src/components/p5/useSketch';\r\n\r\nexport interface Bearing {\r\n    distance: number;\r\n    bearing: number;\r\n}\r\n\r\nexport interface BearingSketchConfig {\r\n    bearings: Bearing[];\r\n}\r\n\r\nconst getDefaultConfig = (): BearingSketchConfig => ({ bearings: [] })\r\n\r\nconst WIDTH = 500;\r\nconst HEIGHT = 500;\r\n\r\nclass BearingSketch extends AbstractSketch<BearingSketchConfig> {\r\n\r\n    constructor() {\r\n        super(getDefaultConfig());\r\n\r\n    }\r\n\r\n    sketch(s: p5) {\r\n        const that = this;\r\n        let screenCentre: p5.Vector;\r\n\r\n        s.setup = function () {\r\n            s.createCanvas(WIDTH, HEIGHT);\r\n            s.colorMode(s.HSB, 255);\r\n            s.textAlign(s.CENTER, s.CENTER);\r\n            s.angleMode(s.DEGREES);\r\n            screenCentre = s.createVector(s.width / 2, s.height / 2);\r\n        };\r\n\r\n        s.draw = function () {\r\n            s.background(230);\r\n\r\n            const {\r\n                bearings\r\n            } = that.config;\r\n\r\n            s.strokeWeight(4);\r\n            let current = screenCentre.copy();\r\n            s.point(current.x, current.y);\r\n\r\n            bearings.map(({ bearing, distance }) => s.createVector(0, -1) // point north\r\n                .mult(distance)\r\n                .rotate(bearing)\r\n            ).forEach(vector => {\r\n                let next = p5.Vector.add(current, vector);\r\n                s.line(current.x, current.y, next.x, next.y);\r\n                current = next;\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default BearingSketch;","import ConfirmDialog, { useDialog } from \"./ConfirmDialog\";\n\nexport { ConfirmDialog, useDialog };\n\nexport default ConfirmDialog;\n","/*\n * Copyright 2018 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport ModalDialog from \"../ModalDialog\";\nimport ButtonBar, { Props as ButtonBarProps } from \"../Buttons/ButtonBar\";\n\ninterface NewProps<T> {\n  getQuestion: () => string;\n  getDetails?: (data: T) => string;\n  onConfirm: (data: T) => void;\n}\n\ninterface Props extends ReactModal.Props {\n  question: string;\n  details?: string;\n  onConfirm: () => void;\n  onCloseDialog: () => void;\n}\n\nconst ConfirmDialog: React.FunctionComponent<Props> = ({\n  question,\n  details,\n  onCloseDialog,\n  onConfirm,\n  ...rest\n}) => {\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Cancel\",\n          styleType: \"primary\",\n          onClick: onCloseDialog,\n        },\n        {\n          text: \"Confirm\",\n          styleType: \"danger\",\n          onClick: () => {\n            onConfirm();\n            onCloseDialog();\n          },\n        },\n      ],\n    }),\n    [onConfirm, onCloseDialog]\n  );\n  return (\n    <ModalDialog\n      {...rest}\n      header={<h3>{question}</h3>}\n      content={<div>{details}</div>}\n      actions={<ButtonBar {...buttonBarProps} />}\n    />\n  );\n};\n\ninterface UseDialog<T> {\n  /**\n   * The owning component is ready to start a deletion process.\n   * Calling this will open the dialog, and setup the UUIDs\n   */\n  showDialog: (data: T) => void;\n  /**\n   * These are the properties that the owning component can just give to the Dialog component\n   * using destructing.\n   */\n  componentProps: Props;\n}\n\n/**\n * This is a React custom hook that sets up things required by the owning component.\n */\nexport const useDialog = <T extends {}>(props: NewProps<T>): UseDialog<T> => {\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n  const [question, setQuestion] = React.useState<string>(\"No Question\");\n  const [details, setDetails] = React.useState<string | undefined>(undefined);\n  const [data, setData] = React.useState<T>();\n\n  const {\n    onConfirm,\n    getQuestion,\n    getDetails = (): string | undefined => undefined,\n  } = props;\n\n  const _onConfirm = React.useCallback(() => {\n    if (!!data) {\n      onConfirm(data as T);\n    }\n  }, [onConfirm, data]);\n\n  const _onCloseDialog = React.useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n\n  const _showDialog = React.useCallback(\n    (data: T) => {\n      setData(data);\n      setQuestion(getQuestion());\n      setDetails(getDetails(data));\n      setIsOpen(true);\n    },\n    [setData, setQuestion, getQuestion, setDetails, getDetails, setIsOpen]\n  );\n\n  return {\n    componentProps: {\n      question,\n      details,\n      isOpen,\n      onConfirm: _onConfirm,\n      onCloseDialog: _onCloseDialog,\n    },\n    showDialog: _showDialog,\n  };\n};\n\nexport default ConfirmDialog;\n","import React from 'react';\r\nimport cogoToast from \"cogo-toast\";\r\n\r\nimport Button from 'src/components/Bootstrap/Buttons/Button';\r\nimport useListReducer from 'src/components/lib/useListReducer';\r\nimport useSketch from 'src/components/p5/useSketch';\r\nimport BearingSketch, { Bearing } from './BearingSketch';\r\nimport ConfirmDialog, { useDialog as useConfirmDialog } from 'src/components/Bootstrap/ConfirmDialog';\r\n\r\nconst DEGREES = <span>&#176;</span>;\r\n\r\nconst bearingsToString = (bearings: Bearing[]): string => bearings.map(b => `${b.bearing}-${b.distance}`).join(',');\r\nconst bearingsFromString = (asStr: string): Bearing[] => asStr\r\n    .split(',')\r\n    .map(b => b.split('-'))\r\n    .map(b => ({\r\n        bearing: parseInt(b[0]),\r\n        distance: parseInt(b[1])\r\n    }));\r\n\r\nconst initialBearings: Bearing[] = [\r\n    {\r\n        bearing: 90,\r\n        distance: 130,\r\n    }, {\r\n        bearing: 180,\r\n        distance: 30,\r\n    }, {\r\n        bearing: 270,\r\n        distance: 50,\r\n    }, {\r\n        bearing: 180,\r\n        distance: 80,\r\n    }, {\r\n        bearing: 270,\r\n        distance: 80,\r\n    }, {\r\n        bearing: 0,\r\n        distance: 30,\r\n    }, {\r\n        bearing: 90,\r\n        distance: 50,\r\n    }, {\r\n        bearing: 0,\r\n        distance: 50,\r\n    }, {\r\n        bearing: 270,\r\n        distance: 50,\r\n    }, {\r\n        bearing: 0,\r\n        distance: 30\r\n    }\r\n]\r\n\r\nconst Bearings: React.FunctionComponent = () => {\r\n    const { addItem, receiveItems, clearItems, items: bearings, removeItemAtIndex } = useListReducer<Bearing>(initialBearings);\r\n    const [bearing, setBearing] = React.useState<number>(90);\r\n    const [distance, setDistance] = React.useState<number>(50);\r\n\r\n    const onBearingChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        React.useCallback(({ target: { value } }) => setBearing(parseInt(value)), [setBearing]);\r\n    const onDistanceChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        React.useCallback(({ target: { value } }) => setDistance(parseInt(value)), [setDistance]);\r\n\r\n    const onAddBearing = React.useCallback(() => addItem({ bearing, distance }), [bearing, distance, addItem]);\r\n\r\n    const { updateConfig, refContainer } = useSketch(BearingSketch);\r\n\r\n    React.useEffect(() => updateConfig({ bearings }), [bearings, updateConfig])\r\n\r\n    const [exportString, setExportString] = React.useState('');\r\n\r\n    React.useEffect(\r\n        () => setExportString(bearingsToString(bearings)),\r\n        [bearings, setExportString]);\r\n\r\n    const onClickImport = React.useCallback(() => receiveItems(bearingsFromString(exportString)),\r\n        [exportString, receiveItems])\r\n\r\n    const exportStringRef = React.useRef<HTMLInputElement>(null);\r\n    const onExportStringChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        React.useCallback(({ target: { value } }) => setExportString(value), [setExportString]);\r\n\r\n    const { componentProps: confirmDialogProps, showDialog } = useConfirmDialog({ getQuestion: () => 'Are you sure you want to clear any existing values?', onConfirm: clearItems });\r\n\r\n    const onClickExport = React.useCallback(() => {\r\n        /* Select the text field */\r\n        if (exportStringRef.current) {\r\n            exportStringRef.current.select();\r\n            exportStringRef.current.setSelectionRange(0, 99999); /*For mobile devices*/\r\n\r\n            /* Copy the text inside the text field */\r\n            document.execCommand(\"copy\");\r\n\r\n            /* Alert the copied text */\r\n            cogoToast.info(\"Copied the text: \" + exportStringRef.current.value);\r\n        }\r\n    }, [exportStringRef]);\r\n\r\n    return (<div>\r\n        <ConfirmDialog {...confirmDialogProps} />\r\n        <div ref={refContainer} />\r\n\r\n        <div className='form-group'>\r\n            <label>Export/Import</label>\r\n            <input ref={exportStringRef} className='form-control' value={exportString} onChange={onExportStringChange} />\r\n            <Button onClick={onClickExport} text='Export' styleType='primary' />\r\n            <Button className='ml-1' onClick={onClickImport} text='Import' styleType='danger' />\r\n        </div>\r\n\r\n        <div>\r\n            <h3>New Line</h3>\r\n            <div className='form-group'>\r\n                <label htmlFor='txtBearing'>Bearing (x{DEGREES})</label>\r\n                <input id='txtBearing' className='form-control' type='number' value={bearing} onChange={onBearingChange} />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='txtDistance'>Distance (pixels)</label>\r\n                <input id='txtDistance' className='form-control' type='number' value={distance} onChange={onDistanceChange} />\r\n            </div>\r\n            <Button styleType='primary' onClick={onAddBearing} text='Add' />\r\n            <Button className='ml-1' styleType='danger' onClick={showDialog} text='Clear All' />\r\n        </div>\r\n\r\n        <table className='table table-striped table-compact'>\r\n            <thead>\r\n                <tr>\r\n                    <th>Bearing{DEGREES}</th>\r\n                    <th>Distance (pixels)</th>\r\n                    <th>Actions</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {bearings.map(({ bearing, distance }, i) => (<tr key={i}>\r\n                    <td>{distance}</td>\r\n                    <td>{bearing}{DEGREES}</td>\r\n                    <td><Button styleType='danger' onClick={() => removeItemAtIndex(i)} text='Remove' /></td>\r\n                </tr>))}\r\n            </tbody>\r\n        </table>\r\n    </div>)\r\n}\r\n\r\nexport default Bearings;","import Component from \"./Bearings\";\r\nimport { Page } from \"src/types\";\r\n\r\nexport const page: Page = {\r\n    href: \"/maths/bearings\",\r\n    title: \"Bearings\",\r\n    description: \"Draw pictures just using bearings.\",\r\n    component: Component,\r\n};\r\n\r\nexport default Component;\r\n","import React from \"react\";\n\ninterface Props {\n  numerator: number;\n  denominator: number;\n}\n\nconst Fraction: React.FunctionComponent<Props> = ({ numerator, denominator }) =>\n  denominator === 1 ? (\n    <span>{numerator}</span>\n  ) : (\n    <span>\n      {numerator}&frasl;{denominator}\n    </span>\n  );\n\nexport default Fraction;\n","import React from \"react\";\n\ninterface Props {\n  coefficient?: number | React.ReactElement;\n  base: string;\n  exponent: number;\n}\n\nconst NumberToPower: React.FunctionComponent<Props> = ({\n  coefficient = 1,\n  base,\n  exponent,\n}) => (\n  <span>\n    {coefficient !== 1 ? coefficient : \"\"}\n    {base}\n    <sup>{exponent}</sup>\n  </span>\n);\n\nexport default NumberToPower;\n","import { shuffle } from \"lodash\";\nimport React from \"react\";\nimport { choose } from \"src/components/lib/utilities\";\nimport Fraction from \"./Fraction\";\nimport NumberToPower from \"./NumberToPower\";\nimport { Answer, Question } from \"./types\";\n\nconst bases: string[] = [\n  \"\", // x\n  \"\", // y\n  \"\", // z\n];\n\nconst MULTIPLICATION_SYMBOL: string = \"\";\nconst DIVISION_SYMBOL: string = \"\";\n\nconst goodIndices: number[] = [2, 3, 4, 5, 6, 7, 8, 9, 10];\nconst goodCoefficients: number[] = [1, 2, 3, 4, 5, 6];\n\nconst generateQuestion = (): Question => {\n  const base = choose(bases);\n  const coeffA: number = choose(goodCoefficients);\n  const coeffB: number = choose(goodCoefficients, [coeffA]);\n  const a: number = choose(goodIndices);\n  const b: number = choose(goodIndices, [a]);\n\n  const isMultiplication = Math.random() > 0.5;\n\n  const correctCoefficient: number | React.ReactElement = isMultiplication ? (\n    coeffA * coeffB\n  ) : (\n      <Fraction numerator={coeffA} denominator={coeffB} />\n    );\n  const correctIndex = isMultiplication ? a + b : a - b;\n\n  const possibleAnswers: Answer[] = [\n    {\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={correctIndex}\n        />\n      ),\n      correct: true,\n      explanation: \"Good job!\",\n    },\n  ];\n  if (correctIndex !== a * b) {\n    possibleAnswers.push({\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={a * b}\n        />\n      ),\n      correct: false,\n      explanation:\n        \"Remember that you should sum the indices with a common base, rather than multiply them\",\n    });\n  }\n  if (correctIndex !== a + b) {\n    possibleAnswers.push({\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={a + b}\n        />\n      ),\n      correct: false,\n      explanation:\n        \"Remember that you should substract the indices with a common base, rather than sum them\",\n    });\n  }\n  if (correctIndex !== a - b) {\n    possibleAnswers.push({\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={a - b}\n        />\n      ),\n      correct: false,\n      explanation:\n        \"Remember that you should sum the indices with a common base, rather than subtract them\",\n    });\n  }\n  if (correctIndex !== Math.min(a, b)) {\n    possibleAnswers.push({\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={Math.min(a, b)}\n        />\n      ),\n      correct: false,\n      explanation:\n        \"Remember that you should sum the indices with a common base, don't just choose the lowest\",\n    });\n  }\n\n  return {\n    question: (\n      <span>\n        <NumberToPower coefficient={coeffA} base={base} exponent={a} />\n        {isMultiplication ? MULTIPLICATION_SYMBOL : DIVISION_SYMBOL}\n        <NumberToPower coefficient={coeffB} base={base} exponent={b} />\n      </span>\n    ),\n    possibleAnswers: shuffle(possibleAnswers),\n  };\n};\n\nexport default generateQuestion;\n","import React from \"react\";\n\nimport generateQuestion from \"./multiplySameBase\";\nimport { Question } from \"./types\";\n\ninterface UseAlgebra {\n  question: Question;\n  regenerateQuestion: () => void;\n}\n\nconst FIRST_QUESTION = generateQuestion();\n\nconst useAlgebra = (): UseAlgebra => {\n  const [question, setQuestion] = React.useState<Question>(FIRST_QUESTION);\n\n  const regenerateQuestion = React.useCallback(\n    () => setQuestion(generateQuestion()),\n    [setQuestion]\n  );\n\n  return { question, regenerateQuestion };\n};\n\nexport default useAlgebra;\n","import React from \"react\";\nimport Button from \"src/components/Bootstrap/Buttons/Button\";\nimport Checkbox from \"src/components/Bootstrap/Checkbox\";\nimport useAlgebra from \"./useAlgebra\";\n\nimport \"./algebra.css\";\n\ninterface SelectedByIndex {\n  [i: number]: boolean;\n}\n\nconst DEFAULT_SELECTED_BY_INDEX: SelectedByIndex = {};\n\ninterface ToggleAction {\n  type: \"toggle\";\n  index: number;\n}\n\ninterface SetAction {\n  type: \"set\";\n  indices: number[];\n}\n\ntype SelectedAction = ToggleAction | SetAction;\n\nconst selectedReducer = (\n  state: SelectedByIndex,\n  action: SelectedAction\n): SelectedByIndex => {\n  switch (action.type) {\n    case \"set\":\n      return action.indices.reduce(\n        (acc, curr) => ({ ...acc, [curr]: false }),\n        {}\n      );\n    case \"toggle\":\n      return {\n        ...state,\n        [action.index]: !state[action.index],\n      };\n  }\n};\n\nconst Algebra: React.FunctionComponent = () => {\n  const {\n    question: { question, possibleAnswers },\n    regenerateQuestion,\n  } = useAlgebra();\n\n  const [selectedByIndex, dispatchSelectedByIndex] = React.useReducer(\n    selectedReducer,\n    DEFAULT_SELECTED_BY_INDEX\n  );\n\n  const [submitted, setSubmit] = React.useState(false);\n\n  React.useEffect(\n    () =>\n      dispatchSelectedByIndex({\n        type: \"set\",\n        indices: possibleAnswers.map((_, i) => i),\n      }),\n    [possibleAnswers]\n  );\n\n  const onAnswer = React.useCallback(() => {\n    setSubmit(true);\n  }, [setSubmit]);\n  const onNext = React.useCallback(() => {\n    setSubmit(false);\n    regenerateQuestion();\n  }, [setSubmit, regenerateQuestion]);\n\n  return (\n    <div className=\"algebra\">\n      Simplify {question}\n      <div>\n        {possibleAnswers.map(({ answer, correct, explanation }, i) => (\n          <div key={i}>\n            <Checkbox\n              id={`answerSelected_{i}`}\n              label={\n                submitted && selectedByIndex[i] ? (\n                  <span className={correct ? \"correct\" : \"incorrect\"}>\n                    {answer} - {explanation}\n                  </span>\n                ) : (\n                  answer\n                )\n              }\n              checked={selectedByIndex[i] || false}\n              onChange={() =>\n                dispatchSelectedByIndex({ type: \"toggle\", index: i })\n              }\n            />\n          </div>\n        ))}\n      </div>\n      <div className=\"mt-4\">\n        {submitted || (\n          <Button text=\"Submit\" onClick={onAnswer} styleType=\"primary\" />\n        )}\n        {submitted && (\n          <Button text=\"Next\" onClick={onNext} styleType=\"secondary\" />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Algebra;\n","import Component from \"./Algebra\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/maths/algebra\",\n  title: \"Algebra\",\n  description: \"Multiple choice questions on simple algebra\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport { cloneDeep } from \"lodash\";\n\nimport sieveOfEratosthenes, {\n  PrimeCallbackArgs,\n  PrimeCallback,\n} from \"comp-sci-maths-lib/dist/algorithms/primeNumbers/sieveOfEratosthenes\";\n\ninterface Props {\n  limit: number;\n}\n\ninterface UseSieveOfEratosthenes {\n  iterations: PrimeCallbackArgs[];\n  primeNumbers: number[];\n}\n\nconst useSieveOfEratosthenes = ({ limit }: Props): UseSieveOfEratosthenes =>\n  React.useMemo(() => {\n    const iterations: PrimeCallbackArgs[] = [];\n    const callback: PrimeCallback = (args) => iterations.push(cloneDeep(args));\n\n    const primeNumbers: number[] = sieveOfEratosthenes(limit, callback);\n\n    return {\n      iterations,\n      primeNumbers,\n    };\n  }, [limit]);\n\nexport default useSieveOfEratosthenes;\n","import React from \"react\";\n\nimport \"./sieve.css\";\n\ninterface Props {\n  limit: number;\n  primeNumbers: number[];\n}\n\nconst PrimesListing: React.FunctionComponent<Props> = ({\n  limit,\n  primeNumbers,\n}) => {\n  return (\n    <div className=\"primeListing\">\n      {Array(limit)\n        .fill(undefined)\n        .map((_, i) => ({ i, isPrime: primeNumbers.includes(i) }))\n        .filter(({ i }) => i > 1)\n        .map(({ i, isPrime }) => {\n          const classNames = [\"primeListing__number\"];\n          if (isPrime) {\n            classNames.push(\"primeListing__isPrime\");\n          }\n          return (\n            <span key={i} className={classNames.join(\" \")}>\n              {i}\n            </span>\n          );\n        })}\n    </div>\n  );\n};\nexport default PrimesListing;\n","import React from \"react\";\nimport useSieveOfEratosthenes from \"./useSieveOfEratosthenes\";\nimport useItemInArray from \"../../lib/useLoopCounter/useItemInArray\";\nimport PrimesListing from \"./PrimesListing\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"src/components/Bootstrap/Buttons/ButtonBar\";\n\nconst LIMIT: number = 20;\n\nconst SieveOfEratosthenes: React.FunctionComponent = () => {\n  const { primeNumbers, iterations } = useSieveOfEratosthenes({\n    limit: LIMIT,\n  });\n\n  const { index, item, stepBackward, stepForward } = useItemInArray({\n    items: iterations,\n  });\n\n  const { p, tickedOff } = item || { p: 0, tickedOff: [] };\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Decrement\",\n          onClick: stepBackward,\n          styleType: \"danger\",\n        },\n        {\n          text: \"Increment\",\n          onClick: stepForward,\n          styleType: \"success\",\n        },\n      ],\n    }),\n    [stepBackward, stepForward]\n  );\n\n  return (\n    <div>\n      <h2>Prime Numbers at Iteration</h2>\n      <div>{primeNumbers.join(\", \")}</div>\n\n      <h2>\n        Ticked off at Iteration {index} with p={p}\n      </h2>\n      <div>\n        Divisible by {p}:{tickedOff.join(\", \")}\n      </div>\n\n      <ButtonBar {...buttonBarProps} />\n\n      <PrimesListing limit={LIMIT} primeNumbers={tickedOff} />\n    </div>\n  );\n};\n\nexport default SieveOfEratosthenes;\n","import Component from \"./SieveOfEratosthenes\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/maths/sieveOfEratosthenes\",\n  title: \"Sieve of Eratosthenes\",\n  description:\n    \"Observe the step by step operation of the Sieve of Eratosthenes, an algorithm for finding prime numbers within a specific range.\",\n  component: Component,\n};\n\nexport default Component;\n","interface Guess {\n  x: number;\n  answer: number;\n}\n\ninterface Solutions {\n  guesses: Guess[];\n}\n\nconst solver = (\n  f: (x_in: number) => number,\n  number_guesses: number\n): Solutions => {\n  let guesses: Guess[] = [];\n\n  let x = 2.0;\n  let lowest = NaN;\n  let highest = NaN;\n\n  for (let i = 0; i < number_guesses; i += 1) {\n    let answer = f(x);\n    guesses.push({ x, answer });\n    if (answer > 0) {\n      highest = x;\n      if (isNaN(lowest)) {\n        x -= 1;\n      } else {\n        x -= (x - lowest) / 2;\n      }\n    } else if (answer < 0) {\n      lowest = x;\n      if (isNaN(highest)) {\n        x += 1;\n      } else {\n        x += (highest - x) / 2;\n      }\n    } else {\n      break;\n    }\n  }\n\n  return {\n    guesses: guesses.reverse()\n  };\n};\n\nexport default solver;\n","import React from \"react\";\n\nimport solver from \"./solver\";\n\nconst SolveEquation: React.FunctionComponent = () => {\n  const [a, setA] = React.useState(1);\n  const [b, setB] = React.useState(2);\n  const [c, setC] = React.useState(-13);\n  const [numberGuesses, setNumberGuesses] = React.useState(50);\n\n  let onAChange = React.useCallback(\n    ({ target: { value } }) => setA(parseFloat(value)),\n    [setA]\n  );\n  let onBChange = React.useCallback(\n    ({ target: { value } }) => setB(parseFloat(value)),\n    [setB]\n  );\n  let onCChange = React.useCallback(\n    ({ target: { value } }) => setC(parseFloat(value)),\n    [setC]\n  );\n  let onNumberGuessesChange = React.useCallback(\n    ({ target: { value } }) => setNumberGuesses(parseInt(value)),\n    [setNumberGuesses]\n  );\n\n  const f = React.useCallback((x: number) => a * Math.pow(x, 2) + b * x + c, [\n    a,\n    b,\n    c,\n  ]);\n\n  const { guesses } = React.useMemo(() => solver(f, numberGuesses), [\n    f,\n    numberGuesses,\n  ]);\n\n  let givenAnswer: string = React.useMemo(\n    () => (guesses.length > 0 ? guesses[0].x.toFixed(2) : \"0.0\"),\n    [guesses]\n  );\n\n  let equationString = React.useMemo(() => `${a}x^2 + ${b}x + ${c}`, [a, b, c]);\n\n  return (\n    <div>\n      <h2>Solve Equation</h2>\n      <p>{equationString}</p>\n      <form>\n        <div className=\"form-row\">\n          <div className=\"col\">\n            <label>a</label>\n            <input\n              className=\"form-control\"\n              type=\"number\"\n              value={a}\n              onChange={onAChange}\n              placeholder=\"a\"\n            />\n          </div>\n          <div className=\"col\">\n            <label>b</label>\n            <input\n              className=\"form-control\"\n              type=\"number\"\n              value={b}\n              onChange={onBChange}\n              placeholder=\"b\"\n            />\n          </div>\n          <div className=\"col\">\n            <label>c</label>\n            <input\n              className=\"form-control\"\n              type=\"number\"\n              value={c}\n              onChange={onCChange}\n              placeholder=\"c\"\n            />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"numberGuesses\">Number Guesses</label>\n          <input\n            className=\"form-control\"\n            id=\"numberGuesses\"\n            type=\"number\"\n            value={numberGuesses}\n            onChange={onNumberGuessesChange}\n          />\n        </div>\n      </form>\n      <div>Answer is {givenAnswer}</div>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Guess</th>\n            <th>Answer</th>\n          </tr>\n        </thead>\n        <tbody>\n          {guesses.map(({ x, answer }, i) => (\n            <tr key={i}>\n              <td>{x}</td>\n              <td>{answer}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default SolveEquation;\n","import Component from \"./SolveEquation\";\nimport { Page } from \"src/types\";\n\nexport const page: Page = {\n  href: \"/maths/solveEquation\",\n  title: \"Solving Quadratics\",\n  description: \"Use trial and error to solve quadratic equations.\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\r\n\r\nimport {\r\n    Coordinate,\r\n    BoardActionConsumer,\r\n    BoardAction,\r\n    BoardState,\r\n    Cell,\r\n} from \"./types\";\r\n\r\nexport const EMPTY_CELL = -1;\r\nexport const SUB_DIMENSION = 3;\r\nexport const DIMENSION = Math.pow(SUB_DIMENSION, 2);\r\n\r\nexport const DIGITS = Array(DIMENSION).fill(null).map((_, i) => i + 1);\r\n\r\n\r\ntype GetOtherCellsFunction = (x: number, y: number) => Coordinate[];\r\n\r\nconst getRowCells: GetOtherCellsFunction = (\r\n    x: number,\r\n    y: number\r\n): Coordinate[] =>\r\n    Array(DIMENSION)\r\n        .fill(null)\r\n        .map((_, i) => ({ x: i, y }));\r\nconst getColCells: GetOtherCellsFunction = (\r\n    x: number,\r\n    y: number\r\n): Coordinate[] =>\r\n    Array(DIMENSION)\r\n        .fill(null)\r\n        .map((_, i) => ({ x, y: i }));\r\nconst getSquareCells: GetOtherCellsFunction = (\r\n    x: number,\r\n    y: number\r\n): Coordinate[] => {\r\n    let coords: Coordinate[] = [];\r\n    let xFloor = Math.floor(x / SUB_DIMENSION) * SUB_DIMENSION;\r\n    let yFloor = Math.floor(y / SUB_DIMENSION) * SUB_DIMENSION;\r\n    for (let xi = 0; xi < SUB_DIMENSION; xi++) {\r\n        for (let yi = 0; yi < SUB_DIMENSION; yi++) {\r\n            coords.push({\r\n                x: xFloor + xi,\r\n                y: yFloor + yi,\r\n            });\r\n        }\r\n    }\r\n    return coords;\r\n};\r\nconst getOtherCellFunctions: GetOtherCellsFunction[] = [\r\n    getRowCells,\r\n    getColCells,\r\n    getSquareCells,\r\n];\r\n\r\nconst reducer = (state: BoardState, action: BoardAction): BoardState => {\r\n    // Make a complete deep copy of the board\r\n    const cells: Cell[][] = state.cells.map((col) => col.map((c) => ({ ...c })));\r\n    const hints: BoardAction[] = [];\r\n\r\n    // Use this action to change the appropriate cell\r\n    for (let x = 0; x < DIMENSION; x++) {\r\n        for (let y = 0; y < DIMENSION; y++) {\r\n            if (x === action.x && y === action.y) {\r\n                if (action.fix || !cells[x][y].fixed) {\r\n                    if (cells[x][y].value === action.value) {\r\n                        cells[x][y].value = EMPTY_CELL;\r\n                    } else {\r\n                        cells[x][y].value = action.value;\r\n                        cells[x][y].fixed = action.fix || false;\r\n                    }\r\n                }\r\n            }\r\n\r\n            cells[x][y].error = false;\r\n        }\r\n    }\r\n\r\n    // Check each cell\r\n    for (let x = 0; x < DIMENSION; x++) {\r\n        for (let y = 0; y < DIMENSION; y++) {\r\n            let allowed = new Set(DIGITS);\r\n            getOtherCellFunctions.forEach((f) => {\r\n                let found: Set<number> = new Set();\r\n                let otherCells = f(x, y);\r\n                otherCells.forEach(({ x: xi, y: yi }) => {\r\n                    if (cells[x][y].value !== EMPTY_CELL) {\r\n                        if (\r\n                            found.has(cells[xi][yi].value) &&\r\n                            cells[xi][yi].value !== EMPTY_CELL\r\n                        ) {\r\n                            otherCells.forEach(({ x: xj, y: yj }) => {\r\n                                if (cells[xj][yj].value === cells[xi][yi].value) {\r\n                                    cells[xj][yj].error = true;\r\n                                }\r\n                            });\r\n                        }\r\n                        found.add(cells[xi][yi].value);\r\n                    } else {\r\n                        allowed.delete(cells[xi][yi].value);\r\n                    }\r\n                });\r\n            });\r\n\r\n            //   console.log(\"Allowed...\", { x, y, allowed });\r\n            cells[x][y].allowed = new Set(allowed);\r\n            if (allowed.size === 1) {\r\n                hints.push({\r\n                    x,\r\n                    y,\r\n                    value: allowed.values().next().value,\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        cells,\r\n        hints,\r\n    };\r\n};\r\n\r\nconst defaultState: BoardState = {\r\n    hints: [],\r\n    cells: Array(DIMENSION)\r\n        .fill(null)\r\n        .map((i) =>\r\n            Array(DIMENSION)\r\n                .fill(null)\r\n                .map((j) => ({\r\n                    value: EMPTY_CELL,\r\n                    error: false,\r\n                    fixed: false,\r\n                    allowed: new Set(DIGITS),\r\n                }))\r\n        ),\r\n};\r\n\r\nconst initialActions: BoardAction[] = [\r\n    { x: 0, y: 0, value: 6 },\r\n    { x: 0, y: 1, value: 2 },\r\n    { x: 0, y: 8, value: 1 },\r\n    { x: 1, y: 2, value: 4 },\r\n    { x: 1, y: 3, value: 7 },\r\n    { x: 1, y: 5, value: 1 },\r\n    { x: 1, y: 6, value: 6 },\r\n    { x: 1, y: 7, value: 9 },\r\n    { x: 2, y: 1, value: 1 },\r\n    { x: 2, y: 3, value: 3 },\r\n    { x: 2, y: 4, value: 6 },\r\n    { x: 2, y: 7, value: 8 },\r\n    { x: 3, y: 0, value: 3 },\r\n    { x: 3, y: 3, value: 8 },\r\n    { x: 3, y: 5, value: 6 },\r\n    { x: 3, y: 6, value: 9 },\r\n    { x: 4, y: 3, value: 9 },\r\n    { x: 4, y: 4, value: 4 },\r\n    { x: 4, y: 5, value: 3 },\r\n    { x: 5, y: 2, value: 6 },\r\n    { x: 5, y: 3, value: 1 },\r\n    { x: 5, y: 5, value: 2 },\r\n    { x: 5, y: 8, value: 5 },\r\n    { x: 6, y: 1, value: 9 },\r\n    { x: 6, y: 4, value: 3 },\r\n    { x: 6, y: 5, value: 8 },\r\n    { x: 6, y: 7, value: 1 },\r\n    { x: 7, y: 1, value: 3 },\r\n    { x: 7, y: 2, value: 5 },\r\n    { x: 7, y: 3, value: 6 },\r\n    { x: 7, y: 5, value: 7 },\r\n    { x: 7, y: 6, value: 4 },\r\n    { x: 8, y: 0, value: 1 },\r\n    { x: 8, y: 7, value: 5 },\r\n    { x: 8, y: 8, value: 8 },\r\n];\r\n\r\ninterface UseSudoku {\r\n    board: BoardState;\r\n    setBoard: BoardActionConsumer;\r\n    autoSolveStep: () => void;\r\n}\r\n\r\nconst useSudoku = (): UseSudoku => {\r\n    const [board, setBoard] = React.useReducer(reducer, defaultState);\r\n\r\n    React.useEffect(() => {\r\n        initialActions.map((i) => ({ ...i, fix: true })).forEach(setBoard);\r\n    }, []);\r\n\r\n    const autoSolveStep = React.useCallback(() => {\r\n        if (board.hints.length > 0) {\r\n            setBoard(board.hints[0]);\r\n        }\r\n    }, [board]);\r\n\r\n    return { board, setBoard, autoSolveStep };\r\n};\r\n\r\nexport default useSudoku;\r\n","import React from \"react\";\r\n\r\nimport useSudoku, { EMPTY_CELL, DIGITS } from './useSudoku';\r\nimport { Cell, CoordinateConsumer } from \"./types\";\r\n\r\nimport \"./sudoku.css\";\r\n\r\ninterface DigitButton {\r\n    digit: number;\r\n    onClick: () => void;\r\n}\r\ninterface CellProps {\r\n    cell: Cell;\r\n    x: number;\r\n    y: number;\r\n    setBoard: CoordinateConsumer;\r\n}\r\n\r\nconst CellComponent: React.FunctionComponent<CellProps> = ({\r\n    x,\r\n    y,\r\n    cell,\r\n    setBoard,\r\n}) => {\r\n    let classNames: string[] = [\"sudoku-cell\"];\r\n    if (cell.error) {\r\n        classNames.push(\"sudoku-cell-error\");\r\n    }\r\n    if (cell.value === EMPTY_CELL) {\r\n        classNames.push(\"sudoku-cell-hint\");\r\n    }\r\n    return (\r\n        <td className={classNames.join(\" \")} onClick={() => setBoard({ x, y })}>\r\n            {cell.value === EMPTY_CELL\r\n                ? Array.from(cell.allowed).join(\", \")\r\n                : cell.value}\r\n        </td>\r\n    );\r\n};\r\n\r\ninterface RowProps {\r\n    x: number;\r\n    row: Cell[];\r\n    value: number;\r\n    setBoard: CoordinateConsumer;\r\n}\r\n\r\nconst RowComponent: React.FunctionComponent<RowProps> = ({\r\n    x,\r\n    row,\r\n    setBoard,\r\n    value,\r\n}) => (\r\n        <tr>\r\n            {row.map((cell, y) => (\r\n                <CellComponent key={y} {...{ x, y, cell, setBoard, value }} />\r\n            ))}\r\n        </tr>\r\n    );\r\n\r\nconst Sudoku: React.FunctionComponent = () => {\r\n    const [value, setValue] = React.useState<number>(5);\r\n    const { board, setBoard: _setBoard, autoSolveStep } = useSudoku();\r\n\r\n    const buttonProps: DigitButton[] = React.useMemo(() => DIGITS.map(digit => ({\r\n        digit,\r\n        onClick: () => setValue(digit)\r\n    })), [setValue]);\r\n\r\n    const setBoard: CoordinateConsumer = React.useCallback(\r\n        ({ x, y }) => _setBoard({ x, y, value }),\r\n        [value, _setBoard]\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"btn-group pb-3\" role=\"group\" aria-label=\"Basic example\">\r\n                {buttonProps.map(({ digit, onClick }) => {\r\n                    let classNames: string[] = ['btn']\r\n                    if (digit === value) {\r\n                        classNames.push('btn-success')\r\n                    } else {\r\n                        classNames.push('btn-secondary')\r\n                    }\r\n\r\n                    return (<button className={classNames.join(' ')} onClick={onClick}>{digit}</button>);\r\n                })}\r\n                <button className=\"btn btn-primary\" onClick={autoSolveStep}>\r\n                    Auto Solve Step\r\n            </button>\r\n            </div>\r\n            <table className=\"sudoku-table\">\r\n                <thead></thead>\r\n                <tbody>\r\n                    {board.cells.map((row, x) => (\r\n                        <RowComponent key={x} {...{ x, setBoard, row, value }} />\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Sudoku;\r\n","import React from \"react\";\nimport { Page } from \"src/types\";\n\nimport { page as divisibilityPage } from \"./Divisibility\";\nimport { page as primeFactorsPage } from \"./PrimeFactors\";\nimport { page as negativeNumbersPage } from \"./NegativeNumbers\";\nimport { page as bearings } from \"./Bearings\";\nimport { page as algebra } from \"./Algebra\";\nimport { page as sievePage } from \"./SieveOfEratosthenes\";\nimport { page as solveEqPage } from \"./SolveEquation\";\nimport { page as sudokuPage } from \"./Sudoku\";\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\nconst primeNumberPages = [divisibilityPage, primeFactorsPage, sievePage];\nconst miscPages = [\n  solveEqPage,\n  algebra,\n  negativeNumbersPage,\n  bearings,\n  sudokuPage,\n];\n\nconst Maths: React.FunctionComponent = () => (\n  <div>\n    <h2>Prime Numbers</h2>\n    <CardCollection cards={primeNumberPages} />\n\n    <h2>Miscellaneous</h2>\n    <CardCollection cards={miscPages} />\n  </div>\n);\n\nexport const page: Page = {\n  href: \"/maths\",\n  title: \"Maths\",\n  description: \"Explore some KS3 Maths algorithms\",\n  component: Maths,\n};\n\nexport const pages: Page[] = [page, ...primeNumberPages, ...miscPages];\n\nexport default Maths;\n","import Component from \"./Sudoku\";\r\nimport { Page } from \"src/types\";\r\n\r\nexport const page: Page = {\r\n    href: \"/maths/sudoku\",\r\n    title: \"Sudoku\",\r\n    description: \"Setup, play and auto solve sudoku.\",\r\n    component: Component,\r\n};\r\n\r\nexport default Component;\r\n","import React from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { page as codeClubPage, pages as codeClubPages } from \"../CodeClub\";\nimport {\n  page as experimentsPage,\n  pages as experimentPages,\n} from \"../Experiments\";\nimport { Page } from \"src/types\";\nimport SearchBox from \"../SearchBox/SearchBox\";\nimport { page as csPage, pages as csPages } from \"../ComputerScience\";\nimport { page as mathsPage, pages as mathsPages } from \"../Maths\";\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\ninterface Props {\n  location: string;\n}\n\nconst rootPages = [csPage, mathsPage, codeClubPage, experimentsPage];\n\nconst HomePage: React.FunctionComponent = () => (\n  <CardCollection cards={rootPages} />\n);\n\nconst homePage: Page = {\n  title: \"Computer Science and Maths\",\n  description: `This site contains interactive demonstrations of various algorithms \n    and data structures used in Maths and Computer Science up to A Level.`,\n  href: \"/\",\n  component: HomePage,\n};\n\nexport const pages: Page[] = [\n  homePage,\n  ...codeClubPages,\n  ...experimentPages,\n  ...csPages,\n  ...mathsPages,\n];\n\nconst matchString = (s1: string, s2: string): boolean =>\n  s1.toLocaleLowerCase().includes(s2.toLocaleLowerCase());\n\nconst CommonPageHeader: React.FunctionComponent<Props> = ({ location }) => {\n  const history = useHistory();\n  const pageSelected = React.useCallback(\n    ({ href }: Page) => history.push(href),\n    [history]\n  );\n  const pageFilter = React.useCallback(\n    ({ title, description, href }: Page, criteria: string) =>\n      matchString(title, criteria) ||\n      matchString(description, criteria) ||\n      matchString(href, criteria),\n    []\n  );\n  const pageToString = React.useCallback((p: Page) => p.title, []);\n\n  const thisPage: Page = React.useMemo(\n    () => pages.find(({ href }) => href === location) || homePage,\n    [location]\n  );\n  return (\n    <React.Fragment>\n      <div className=\"navbar justify-content-between\">\n        <ol className=\"breadcrumb mr-auto\">\n          <Link className=\"breadcrumb-item\" to=\"/\">\n            Joe's Experiments\n          </Link>\n          {rootPages.map(\n            (rootPage) =>\n              location.includes(rootPage.href + \"/\") && (\n                <Link\n                  key={rootPage.href}\n                  className=\"breadcrumb-item\"\n                  to={rootPage.href}\n                >\n                  {rootPage.title}\n                </Link>\n              )\n          )}\n\n          <li className=\"breadcrumb-item active\" aria-current=\"page\">\n            {thisPage.title}\n          </li>\n        </ol>\n        <SearchBox\n          items={pages}\n          itemChosen={pageSelected}\n          filter={pageFilter}\n          itemToString={pageToString}\n        />\n      </div>\n      <h1>{thisPage.title}</h1>\n      <p>{thisPage.description}</p>\n    </React.Fragment>\n  );\n};\n\nexport default CommonPageHeader;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport {\n  HashRouter as Router,\n  Route,\n  RouteComponentProps,\n} from \"react-router-dom\";\nimport Modal from 'react-modal';\n\nimport \"jquery\";\nimport \"popper.js\";\nimport \"bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport CommonPageHeader, { pages } from \"./components/CommonPageHeader\";\n\nimport \"./index.css\";\n\nconst App = () => {\n  React.useEffect(() => Modal.setAppElement('body'), []);\n\n  return (\n    <div className=\"container pb-4 pr-4 pl-4\">\n      <Route\n        component={({ history: { location } }: RouteComponentProps) => (\n          <CommonPageHeader location={location.pathname} />\n        )}\n      />\n\n      {pages.map(({ href, component }) => (\n        <Route key={href} exact path={href} component={component} />\n      ))}\n    </div>\n  )\n};\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\") as HTMLElement\n);\nregisterServiceWorker();\n"],"sourceRoot":""}